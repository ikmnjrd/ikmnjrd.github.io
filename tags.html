<!DOCTYPE html><html lang="ja" prefix="og:https://ikmnjrd.github.io/ns#"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0"/><meta name="google-site-verification" content="mSJsnnYDqT7YzaY5pkqKhPHifGmwW4pCr2B97rSnleU"/><title>Tag一覧 | ikmnjrd.github.io</title><meta name="next-head-count" content="4"/><meta name="author" content="ikmnjrd"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><link rel="alternate" type="application/rss+xml" title="ikmnjrd.github.io - rss" href="/rss/feed.xml"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-W6W9YD5G74"></script><script>
                  window.dataLayer = window.dataLayer || [];
                  function gtag(){dataLayer.push(arguments);}
                  gtag('js', new Date());
                  gtag('config', 'G-W6W9YD5G74', { page_path: window.location.pathname });
                </script><link rel="preload" href="/_next/static/css/4c765b239fd05a2a.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/4c765b239fd05a2a.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-fa877b8be7542607.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-a25bb6cd49197ab7.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-9e70d434d0df6070.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/168-0337a0f0a6fda494.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/tags-6df95838bff04088.js" defer="" crossorigin=""></script><script src="/_next/static/IwjVx_T2xqcGOq36Kyht8/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/IwjVx_T2xqcGOq36Kyht8/_ssgManifest.js" defer="" crossorigin=""></script></head><body class="dark:bg-newmo-800 text-newmo-400 dark:text-newmo-100"><div id="__next"><header class="mb-4 p-4 md:px-8 grid grid-cols-1 md:grid-cols-2 max-w-screen-lg mx-auto"><h1 class=""><a class="header-text md:text-5xl text-3xl font-serif decoration-dotted hover:opacity-50 hover:underline active:opacity-30" href="/">ikmnjrd.github.io</a><button class="md:ml-3 ml-2" aria-label="Toggle Theme"><img width="24px" height="24px" class="svg-icon md:w-10 hover:opacity-50 active:opacity-30" src="/light_mode_white_24dp.svg" alt="Dark Mode Status is false" aria-hidden="true"/></button></h1><nav class="text-right"><button type="button"><span class="header-text mr-4 md:text-3xl text-2xl font-serif decoration-dotted hover:opacity-50 hover:underline active:opacity-30">Search</span></button><dialog class="modal_modal__fxCNj modal_micromodal__slide__kofBh"><div class="modal_modal__overlay__vnFmS" tabindex="-1"><div class="modal_modal__container__Id_PX" role="dialog" aria-modal="true"></div></div></dialog><a class="header-text mr-4 md:text-3xl text-2xl font-serif decoration-dotted hover:opacity-50 hover:underline active:opacity-30" href="/about">About</a><a class="header-text md:text-3xl text-2xl font-serif decoration-dotted hover:opacity-50 hover:underline active:opacity-30" href="/tags">Tags</a></nav></header><main class="max-w-2xl md:mx-auto mx-4 flex flex-col"><h1 class="text-3xl pt-8 pb-4">Tag一覧</h1><svg style="height:1400px;width:100%;margin-right:0px;margin-left:0px"></svg></main><footer class="text-center text-sm" role="contentinfo"><div class="footer-content"><ul class="flex items-center justify-between max-w-[150px] mx-auto"><li><a href="https://twitter.com/ikmnjrd" target="_blank" rel="nofollow noopener noreferrer" title="Twitter" class="footer-svg hover:opacity-50 block"><svg xmlns="http://www.w3.org/2000/svg" width="2.3em" height="2.3em" viewBox="0 0 64 64" fill="#fff" stroke="currentColor" stroke-width="2.3"><path d="M54.49 12.3c0-.1-.09-.16-.17-.09-1.57 1.36-5.36 2.46-5.84 2.51a.11.11 0 01-.09 0c-2.78-4.44-9.19-3.24-9.19-3.24C29.78 13.48 30.82 23 31 24c0 .05 0 .09-.09.09-10.48.52-19.63-9.22-20.67-10.37a.11.11 0 00-.17 0A10.57 10.57 0 0012.78 27a.11.11 0 010 .19 12.87 12.87 0 01-4-.77c-.06 0-.13 0-.13.1.14 6.2 6.22 9 7.63 9.59a.1.1 0 010 .19 13.4 13.4 0 01-3.85.27.11.11 0 00-.11.14c1.27 4.78 7.5 6.78 8.62 7.11A.11.11 0 0121 44c-3.85 3.44-11.44 4.35-13 4.51a.11.11 0 00-.06.19c5.82 4 21.06 7.32 32.7-2.63A30.3 30.3 0 0051 21.83a.09.09 0 01.05-.08 14.22 14.22 0 005.06-5.06c0-.1 0-.16-.15-.13a5.63 5.63 0 01-3.15.17s1.71-2.96 1.68-4.43z" stroke-linecap="round"></path></svg></a></li><li><a href="https://github.com/ikmnjrd" target="_blank" rel="nofollow noopener noreferrer" title="GitHub" class="footer-svg header-text hover:opacity-50 block"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 24 24" fill="#fff" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></li><li><a href="https://ikmnjrd.github.io/rss/feed.xml" target="_blank" rel="nofollow noopener noreferrer" title="RSS" class="footer-svg header-text hover:opacity-50 block"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 24 24" fill="#fff" stroke="currentColor" stroke-width="2.3" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></li></ul><p>©︎ikmnjrd -<!-- --> <time dateTime="Tue Apr 09 2024 16:39:41 GMT+0000 (Coordinated Universal Time)">2024</time></p></div><div class="wave"></div><div class="wave"></div></footer></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"wholeTags":[{"tag":"GitHub","slug":"GitHub-from-https-to-ssh"},{"tag":"webpack","slug":"Next-webpack"},{"tag":"Next.js","slug":"Next-webpack"},{"tag":"JavaScript","slug":"Next-webpack"},{"tag":"misc","slug":"apparel-mens-hondatubasa"},{"tag":"shellscript","slug":"bash-sed-docker-volume"},{"tag":"bash","slug":"bash-sed-docker-volume"},{"tag":"Webブラウザ","slug":"chrome-dev-tool"},{"tag":"JavaScript","slug":"chrome-dev-tool"},{"tag":"JavaScript","slug":"consolelog-effect"},{"tag":"Webブラウザ","slug":"consolelog-effect"},{"tag":"HTML","slug":"dataurl-markdown-contenteditable-tips"},{"tag":"JavaScript","slug":"dataurl-markdown-contenteditable-tips"},{"tag":"misc","slug":"detail-test"},{"tag":"Docker","slug":"docker-firebase"},{"tag":"Firebase","slug":"docker-firebase"},{"tag":"Docker","slug":"docker-log"},{"tag":"eleventy.js","slug":"eleventy-on-github-pages"},{"tag":"GitHub","slug":"eleventy-on-github-pages"},{"tag":"Node.js","slug":"esbuild-misc"},{"tag":"JavaScript","slug":"esbuild-misc"},{"tag":"esbuild","slug":"esbuild-misc"},{"tag":"TypeScript","slug":"esbuild-misc"},{"tag":"React","slug":"event-bubbling-capturing-on-react"},{"tag":"JavaScript","slug":"event-bubbling-capturing-on-react"},{"tag":"Webブラウザ","slug":"event-bubbling-capturing-on-react"},{"tag":"Node.js","slug":"express-node-difference"},{"tag":"Express.js","slug":"express-node-difference"},{"tag":"linux","slug":"fcitx-xim-config"},{"tag":"EndeavourOS","slug":"fcitx-xim-config"},{"tag":"Webブラウザ","slug":"font-what-is"},{"tag":"linux","slug":"fzf-linux-ctrl-r"},{"tag":"EndeavourOS","slug":"fzf-linux-ctrl-r"},{"tag":"fzf","slug":"fzf-linux-ctrl-r"},{"tag":"GCP","slug":"gcp-cloud-build-complain"},{"tag":"GCP","slug":"gcp-cloudrun-price"},{"tag":"GCP","slug":"gcp-gcloud-command-often-used"},{"tag":"Jekyll","slug":"google-search-console-regist"},{"tag":"HTML","slug":"gyazo-blog-useful"},{"tag":"CSS","slug":"hamburger-css-animation"},{"tag":"HTML","slug":"html-select-design"},{"tag":"Webブラウザ","slug":"html-select-design"},{"tag":"デザイン","slug":"html-select-design"},{"tag":"i3wm","slug":"i3wm-vscode-keiyring"},{"tag":"EndeavourOS","slug":"i3wm-vscode-keiyring"},{"tag":"VSCode","slug":"i3wm-vscode-keiyring"},{"tag":"GitHub","slug":"i3wm-vscode-keiyring"},{"tag":"misc","slug":"icon-of-tech-tools-with-drawio"},{"tag":"bash","slug":"iterm-enable-option-b"},{"tag":"zsh","slug":"iterm-enable-option-b"},{"tag":"iTerm","slug":"iterm-enable-option-b"},{"tag":"JavaScript","slug":"javascript-namespace-push-me-in-pit"},{"tag":"JavaScript","slug":"javascript-smartload-fs-module"},{"tag":"JavaScript","slug":"javascript-summary-of-ecma-specs"},{"tag":"JavaScript","slug":"javascript-weakmap-usage"},{"tag":"JavaScript","slug":"javascript-why-appear-eval"},{"tag":"JavaScript","slug":"javascript-why-var-const-togetter"},{"tag":"Next.js","slug":"javascript-why-var-const-togetter"},{"tag":"Node.js","slug":"javascript-why-var-const-togetter"},{"tag":"Jekyll","slug":"jekyll-favicon-setup"},{"tag":"Ruby","slug":"jekyll-favicon-setup"},{"tag":"Jekyll","slug":"jekyll-footer-override"},{"tag":"Ruby","slug":"jekyll-footer-override"},{"tag":"Jekyll","slug":"jekyll-theme-on-gh-pages"},{"tag":"Jekyll","slug":"jekyll-tipuesearch-adopt"},{"tag":"Ruby","slug":"jekyll-tipuesearch-adopt"},{"tag":"Jest","slug":"jest-within-ecma-script"},{"tag":"JavaScript","slug":"jest-within-ecma-script"},{"tag":"npm","slug":"licence-seeking"},{"tag":"Node.js","slug":"licence-seeking"},{"tag":"Linux","slug":"linux-hardware-2024-03"},{"tag":"misc","slug":"linux-hardware-2024-03"},{"tag":"misc","slug":"mac-meeting-transcript"},{"tag":"JavaScript","slug":"markdown-it-process"},{"tag":"Node.js","slug":"markdown-it-process"},{"tag":"JavaScript","slug":"minio-s3-express-js"},{"tag":"Express.js","slug":"minio-s3-express-js"},{"tag":"AWS","slug":"minio-s3-express-js"},{"tag":"mp3","slug":"mp3-scrap"},{"tag":"音楽","slug":"mp3-scrap"},{"tag":"Magic The Gathering","slug":"mtg-deck-immortal-warm"},{"tag":"デッキレシピ","slug":"mtg-deck-immortal-warm"},{"tag":"MTGアリーナ","slug":"mtg-deck-immortal-warm"},{"tag":"Magic The Gathering","slug":"mtg-deck-orzhov-poison-aggro"},{"tag":"デッキレシピ","slug":"mtg-deck-orzhov-poison-aggro"},{"tag":"MTGアリーナ","slug":"mtg-deck-orzhov-poison-aggro"},{"tag":"Magic The Gathering","slug":"mtg-deck-orzhov-poison-aggro2"},{"tag":"デッキレシピ","slug":"mtg-deck-orzhov-poison-aggro2"},{"tag":"MTGアリーナ","slug":"mtg-deck-orzhov-poison-aggro2"},{"tag":"Magic The Gathering","slug":"mtg-deck-prototype-wurm.md"},{"tag":"デッキレシピ","slug":"mtg-deck-prototype-wurm.md"},{"tag":"MTGアリーナ","slug":"mtg-deck-prototype-wurm.md"},{"tag":"Magic The Gathering","slug":"mtg-deck-rakdos-cauldron-sacrifice"},{"tag":"デッキレシピ","slug":"mtg-deck-rakdos-cauldron-sacrifice"},{"tag":"MTGアリーナ","slug":"mtg-deck-rakdos-cauldron-sacrifice"},{"tag":"ポエム","slug":"narrative-of-my-criteria-for-tech-selection"},{"tag":"Node.js","slug":"neovim-volta"},{"tag":"NeoVim","slug":"neovim-volta"},{"tag":"JavaScript","slug":"neovim-volta"},{"tag":"volta","slug":"neovim-volta"},{"tag":"Nest.js","slug":"nestjs-why-disable-strict"},{"tag":"JavaScript","slug":"nestjs-why-disable-strict"},{"tag":"CSS","slug":"neumorphism-sample"},{"tag":"Node.js","slug":"next-sitemap-sample"},{"tag":"Next.js","slug":"next-sitemap-sample"},{"tag":"JavaScript","slug":"next-sitemap-sample"},{"tag":"Node.js","slug":"node-package-json-keys"},{"tag":"JavaScript","slug":"node-package-json-keys"},{"tag":"JSON","slug":"node-package-json-keys"},{"tag":"Notion","slug":"notion-for-putting-textfile"},{"tag":"Notion","slug":"notion-image-embed-like-md"},{"tag":"misc","slug":"notion-image-embed-like-md"},{"tag":"Linux","slug":"novnc-kali-linux"},{"tag":"Nuxt.js","slug":"nuxt-auth"},{"tag":"JavaScript","slug":"nuxt-auth"},{"tag":"Vue","slug":"nuxt-auth"},{"tag":"vim","slug":"prictical-vim-memo"},{"tag":"Prism","slug":"prsim-codeblock-support"},{"tag":"JavaScript","slug":"prsim-codeblock-support"},{"tag":"マークダウン","slug":"prsim-codeblock-support"},{"tag":"GitHub","slug":"push-and-test-with-github-actions"},{"tag":"CI/CD","slug":"push-and-test-with-github-actions"},{"tag":"React","slug":"react-webpack-skelton"},{"tag":"terminal","slug":"run-aliases-commands-inside-vim"},{"tag":"vim","slug":"run-aliases-commands-inside-vim"},{"tag":"zsh","slug":"run-aliases-commands-inside-vim"},{"tag":"CSS","slug":"safari-before-block"},{"tag":"Safari","slug":"safari-before-block"},{"tag":"shell","slug":"ssh-keygen"},{"tag":"私的メモ","slug":"ssh-keygen"},{"tag":"Linux","slug":"steam-lib32-vulkan-driver"},{"tag":"EndeavourOS","slug":"steam-lib32-vulkan-driver"},{"tag":"Steam","slug":"steam-lib32-vulkan-driver"},{"tag":"storybook","slug":"story-book-builder-vite"},{"tag":"Vite","slug":"story-book-builder-vite"},{"tag":"OSS","slug":"story-book-builder-vite"},{"tag":"HTML","slug":"subpixel-rendering"},{"tag":"CSS","slug":"subpixel-rendering"},{"tag":"デザイン","slug":"subpixel-rendering"},{"tag":"misc","slug":"summary-of-howto-receive-photos-data"},{"tag":"misc","slug":"svg-icon-distributing-sites"},{"tag":"Swagger","slug":"swagger-ui-local-zubora"},{"tag":"OpenAPI","slug":"swagger-ui-local-zubora"},{"tag":"Jest","slug":"ts-jest-fail-because-import-global-jset"},{"tag":"TypeScript","slug":"ts-jest-fail-because-import-global-jset"},{"tag":"JavaScript","slug":"ts-jest-fail-because-import-global-jset"},{"tag":"TypeScript","slug":"ts-strict-property-check"},{"tag":"TypeScript","slug":"typescript-compile"},{"tag":"Deno","slug":"typescript-compile"},{"tag":"misc","slug":"useful-tips-2022-1"},{"tag":"shell","slug":"useful-tips-2022-1"},{"tag":"zsh","slug":"useful-tips-2022-1"},{"tag":"Webブラウザ","slug":"useful-tips-2022-1"},{"tag":"JavaScript","slug":"v8engine-asm-show"},{"tag":"Node.js","slug":"v8engine-asm-show"},{"tag":"vim","slug":"vim-redo-undo-list"},{"tag":"tarminal","slug":"vim-tmux-reference"},{"tag":"tmux","slug":"vim-tmux-reference"},{"tag":"vim","slug":"vim-tmux-reference"},{"tag":"VSCode","slug":"vscode-gistpad"},{"tag":"GitHub","slug":"vscode-gistpad"},{"tag":"Webブラウザ","slug":"wasm-and-v8engine"},{"tag":"webpack","slug":"webpack-buffer-on-nodejs"},{"tag":"Node.js","slug":"webpack-buffer-on-nodejs"},{"tag":"Webブラウザ","slug":"what-csp-hash-directive"},{"tag":"Python","slug":"whisper-exec"},{"tag":"音声認識","slug":"whisper-exec"},{"tag":"文字起こし","slug":"whisper-exec"}],"countedTags":{"GitHub":5,"webpack":2,"Next.js":3,"JavaScript":23,"misc":9,"shellscript":1,"bash":2,"Webブラウザ":8,"HTML":4,"Docker":2,"Firebase":1,"eleventy.js":1,"Node.js":10,"esbuild":1,"TypeScript":4,"React":2,"Express.js":2,"linux":2,"EndeavourOS":4,"fzf":1,"GCP":3,"Jekyll":5,"CSS":4,"デザイン":2,"i3wm":1,"VSCode":2,"zsh":3,"iTerm":1,"Ruby":3,"Jest":2,"npm":1,"Linux":3,"AWS":1,"mp3":1,"音楽":1,"Magic The Gathering":5,"デッキレシピ":5,"MTGアリーナ":5,"ポエム":1,"NeoVim":1,"volta":1,"Nest.js":1,"JSON":1,"Notion":2,"Nuxt.js":1,"Vue":1,"vim":4,"Prism":1,"マークダウン":1,"CI/CD":1,"terminal":1,"Safari":1,"shell":2,"私的メモ":1,"Steam":1,"storybook":1,"Vite":1,"OSS":1,"Swagger":1,"OpenAPI":1,"Deno":1,"tarminal":1,"tmux":1,"Python":1,"音声認識":1,"文字起こし":1},"filesData":[{"slug":"GitHub-from-https-to-ssh","frontmatter":{"title":"GitHubのhttpsからSSH通信への切り替え","date":"2021-10-29","tag":["GitHub"]},"content":"\n```bash\n$ git remote -v\nターミナルを開いてください。\nワーキングディレクトリをローカルプロジェクトに変更します。\n変更したいリモートの名前を取得するため、既存のリモート一覧を表示します。\n$ git remote -v\n\u003e origin  https://github.com/USERNAME/REPOSITORY.git (fetch)\n\u003e origin  https://github.com/USERNAME/REPOSITORY.git (push)\ngit remote set-url コマンドでリモートの URL を HTTPS から SSH に変更します。\n$ git remote set-url origin git@github.com:USERNAME/REPOSITORY.git\nリモート URL が変更されたことを検証します。\n$ git remote -v\n# Verify new remote URL\n\u003e origin  git@github.com:USERNAME/REPOSITORY.git (fetch)\n\u003e origin  git@github.com:USERNAME/REPOSITORY.git (push)\n```\n\n参考：[公式サイト](https://docs.github.com/ja/get-started/getting-started-with-git/managing-remote-repositories)\n"},{"slug":"Next-webpack","frontmatter":{"title":"Next.jsがWebpackを使うから嫌いという話","date":"2022-02-09","tag":["webpack","Next.js","JavaScript"]},"content":"\n今まであまりrequireとimportなどの違いを意識できていない人間。\nNext.jsをプロジェクトに導入するのは賛成をとるが、個人のプロジェクトにはあまり使いたくないなーと思う程度の距離感を保っていた人間だった。現在無職。\n\nしかし、新たな職場を探すにあたってReactは使うのにNext.jsを触ったことがないというのは自分の選択肢を狭めるだけだと考え、無職期間に作り直そうとしていたRuby(Jekyll)製ブログを、Next.jsのSSGの仕組みを用いて作ることにした。（本当はメジャーバージョンがリリースされたばかりのeleventy.jsを使って作りたかった。フレームワークに求めているもの的にもeleventyの方が合っていたと今も感じる。1週間ほどはeleventy.js製のブログだった時期もある。）\n\n同リポジトリ内にマークダウンでブログ記事を上げるため、ビルド時に色々なものを生成したい要件が出てくる。Next.jsは内部でwebpackを使っていて`next.config.js`ではその一端を見ることができる。\n\n```javascript\nmodule.exports = {\n  reactStrictMode: true,\n  webpack(config, { isServer }) {\n    if (isServer) {\n      require('./scripts/generate-sitemap.js')\n    }\n  }\n}\n```\n\nwebpackはCommonJSで書かれていることは事前知識として知っていた。\n\nとは言ってもimportやexportが使いたい。`package.json`に`\"type\": \"module\"`を追加する方法などを試してみるが、最終的にproduction buildの際のfsモジュールが解決できないとか`Import trace for requested module:\n./pages/_app.js`などのエラーメッセージを残して終了していくプログラムを見るとイライラしてくる。\n\n勉強のためとはいえ、今度からNode.jsではなくDenoを使おうかなという気持ちになった。\n\n\n\n### 周辺用語\n- commonJS\n- ESModules\n- ES6(ES2015)\n\n### 参考文献\n- [Build a sitemap generator in Next.js - LogRocket Blog](https://blog.logrocket.com/build-sitemap-generator-nextjs/)\n- [Support ES module format (ESM) in next.config.js #9607](https://github.com/vercel/next.js/issues/9607)\n- [Support ES module format (ESM) in next.config.js #32239](https://github.com/vercel/next.js/discussions/32239)"},{"slug":"apparel-mens-hondatubasa","frontmatter":{"title":"本田翼コレクション（メンズおすすめ服）","date":"2021-12-22","tag":["misc"]},"content":"2021年12月21日、YouTubeで行われたLIVE配信でおすすめのアパレルブランドor古着屋として語っていたもののまとめ（語る部分は聞いていないが気付いたら配信映像の固定背景にあったもの）\n\n- DAIRIKU\n  - ダイリク\n  - [https://www.acrmtsm.jp/brands/63](https://www.acrmtsm.jp/brands/63)\n\n- stein\n  - シュタイン\n  - [https://www.acrmtsm.jp/brands/28](https://www.acrmtsm.jp/brands/28)\n\n- taupe\n  - トープ\n  - [https://www.taupe-japan.com/](https://www.taupe-japan.com/)\n\n- yoke\n  - ヨーク\n  - [https://www.yoketokyo.com/](https://www.yoketokyo.com/)\n  - [https://www.acrmtsm.jp/brands/65](https://www.acrmtsm.jp/brands/65)\n\n- AURALEE\n  - オーラリー\n  - [https://auralee.jp/](https://auralee.jp/)\n  - 自社ドメインに販売サイト持ってる。えらい。\n\n- JUMPIN' JAP FLASH\n  - 古着屋\n  - [https://jumpinjap.thebase.in/](https://jumpinjap.thebase.in/)\n  - [https://www.instagram.com/jumpinjapflash](https://www.instagram.com/jumpinjapflash)\n\n- Un Old Joke\n  - 古着屋\n  - [https://unoldjoke.thebase.in/](https://unoldjoke.thebase.in/)\n  - [https://www.instagram.com/unoldjoke](https://www.instagram.com/unoldjoke)\n"},{"slug":"bash-sed-docker-volume","frontmatter":{"title":"ネーミングを忘れて大量にできたdocker volumeをまとめて削除する方法","description":"docker volumeをshellscriptでまとめて削除する方法","date":"2022-07-24","tag":["shellscript","bash"]},"content":"\n### 結論\n```bash\n$ docker volume ls | sed -e 's/local[[:space:]]*//g' | grep -E '.{64,64}' | xargs docker volume rm\n```\n\nDriverの部分(localとスペース)を削除。\n64文字の（ハッシュで自動生成された）ものをリストアップ。\n削除（使用中のボリュームは削除されない）。\n\n### 説明\n気づいたら溜まってしまったdocker volumeたち。。\nふと確認してみたらえらいことになってしまっていた。\n`$ docker volume ls\n```txt\nDRIVER    VOLUME NAME\nlocal     1d516cb7225f448d8bb634875487b5eaa35d329696f77f3ae2347a3abb6aa94a\nlocal     1fbaf3b6210ce64906fffdc1ecf9d711f2d25ebe99dfc2ca3ad3f3aca1a33801\nlocal     3b4da7efd093305d43c40a004c22669f0b8ae8ac5f933c582a4168c9dff51763\nlocal     4aada75a0a85dc48abf02fdff03aab5c3fafeaf096567b6517fc6faf62511749\nlocal     5aa299e15cfeb3a5e3b41c1ab53a17382a11c64101918d916ee9d1e95b0e4672\nlocal     5cd2395082c05f3acb1f910cf77fb5a1ba1c0e845f8522912a5a82a37e0946ce\nlocal     5d76f9a14aa7462eedd428b33c6473125ecc9e442e88fcaabf06e946e20b19d9\nlocal     5f4ba17454db26acce81f3b4ce02d31e270e3c585238db4019b3a2a8482e2238\nlocal     6b4605498282f9b00b367551dfb3d121e7dcaa89626a3785d5dd2914d6138712\n```\n\nこれらをまとめて消したい。（ハッシュ値ではなく名前をきちっとつけてたものは消したくない。）\n\n`$ sed -e 's/local[[:space:]]*//g'`で加工して、\n`$ grep -E '.{64,64}'`で加工して、\ndocker volume rmコマンドの引数に渡す\n\n### ハマったポイント\n\n`$ sed -e \"s/'local[[:space:]]+'//g` とやってみたが\n`+`を1文字以上のマッチでズバッといけると思ったが`local`の部分もまとめて残ってしまった。\n\n`sed -e 's/local[[:space:]]*//g`これだとうまくいった。0文字以上だからなんか不具合起きそうとしたが...shecllscriptの正規表現はこれだから...\n\nスペースやタブを`\\s`や`\\t`で検出しようとしてたが、色々みてたら`[[:space\"]]`の方が確実っぽいような書き方してるのがちらちらと見えた気がする\n\n\n\n\n### 参考文献\n- [Regex Space character in Sed - Stack Overflow](https://stackoverflow.com/questions/15509536/regex-space-character-in-sed)\n- [正しく理解できる！シェルスクリプトとPOSIXの正規表現（令和最新版）〜 基本正規表現BREと拡張正規表現EREについて - Qiita](https://qiita.com/ko1nksm/items/53abc144558b9bb5629f)"},{"slug":"chrome-dev-tool","frontmatter":{"title":"Chromeディベロッパーツールを使おう","description":"ちょっと目に止まったディベロッパーツールの機能を紹介","date":"2022-09-23","tag":["Webブラウザ","JavaScript"]},"content":"\n### JavaScriptの値をリアルタイムに監視する\n![watch](https://i.gyazo.com/6672149b7ec1d9594b135a95b466d3df.png)　　\n目のマークをクリック、監視したい対象を記述する。  \n\nNext.jsのpropsなどもこのように指定することで見れる。  \n![__NEXT_DATA](https://i.gyazo.com/c0aea2fc27e14a4e81581efbdf7accc3.png)\n\n### minifyされたJSファイルを見やすくする\n巷でいうpritty printは「{}」と表示された箇所をクリック\n![minified](https://i.gyazo.com/6dc5d5259c2116dd0be1580eae2da93b.png)\n![prittyprint](https://i.gyazo.com/5f7cc0e5ce0a3abed4685a13992fd689.png)\n\n### ブレークポイント\n\n| ブレークポイントの設定できるもの | 説明 |\n|:-----------|:------------|\n| Line-of-code|\tOn an exact region of code. |\n| DOM|\tOn the code that changes or removes a specific DOM node, or its children.|\n| XHR\t|When an XHR URL contains a string pattern.|\n| Event listener|\tOn the code that runs after an event, such as click, is fired.|\n| Exception|\tOn the line of code that is throwing a caught or uncaught exception.|\n| Function\t| Whenever a specific function is called.|\n\n詳しくは[ここ](https://developer.chrome.com/docs/devtools/javascript/breakpoints/)を見てくれ\n\nDOMを右クリックして「BreakOn」から設定したり、Sourceタブの右側からXHR(Fetch)をリクエスト先を指定して設定したりできる。\n\n### console\nNode.jsで使うことの方が多いが、一応紹介\n#### console.dir\nHTML Elementを見るときなどにconsole.logだと出力してくれない情報などがあって便利\n```js\nconst obj = getElementById('hoge')\nconsole.dir(obj)\n```\n\n#### console.time\n実行時間を調べたいとき\n```js\nconsole.time();\nfor (var i = 0; i \u003c 100000; i++) {\n  let square = i ** 2;\n}\nconsole.timeEnd();\n```\n\n![console.time実行結果](https://i.gyazo.com/1e32408254a932443cfc9763d5ad213e.png)\n\n### その他一言\n#### performanceタブ\nボトルネックになっている箇所を調べるときに。パフォーマンス改善したいならとりあえず見るとこ。\n\n#### networkタブ\nAPIとのやりとりを見ようね。  \n\n飽きた。\n\n### 参考文献\n- [Watch JavaScript values in real-time with Live Expressions - Chrome Developers](https://developer.chrome.com/docs/devtools/console/live-expressions/)\n- [Pause your code with breakpoints - Chrome Developers](https://developer.chrome.com/docs/devtools/javascript/breakpoints/)\n- [Console API reference - Chrome Developers](https://developer.chrome.com/docs/devtools/console/api/)"},{"slug":"consolelog-effect","frontmatter":{"title":"cosole.logをソースコードに残しておくことのメモリへの影響について","date":"2022-01-05","tag":["JavaScript","Webブラウザ"]},"content":"\n### 疑問\nconsole.logの上書きで本番環境はデバッグメッセージを表示させないという技を知ったが、これがメモリに影響ないのかどうか知りたい。\n```javascript\nconsole.log = () =\u003e {}\n```\nちなみに最近ディベロッパーツールでメモリーのスナップショットを撮るという技を知った。\n\nCreate React Appで適当に作ったプロジェクトで適当にconsole.logを出力してみた。\n![ソース](https://i.gyazo.com/f55499b3db011a5c81d04c58d71b089b.png)\n\n`console.log`の呼び出しを増やしてブラウザを更新-\u003eHEAP Snapshot取得すると`console.log`の呼び出し回数に応じてメモリ使用量が一見増えるように見えたが、しばらく放置して再びHEAP Snapshotを取得するとメモリ使用量が低水準にまで戻る。GCに回収されたのかな？と想像したが、よくわからない。\n![メモリ](https://i.gyazo.com/1ef68f7e017d8ed2309a6ff90d9036ad.png)\n\n### 結論\nほぼ影響はない\n"},{"slug":"dataurl-markdown-contenteditable-tips","frontmatter":{"title":"contenteditable（HTML）とdataURIを使う際のTips","description":"オフライン環境でも使えるブラウザベースの簡易マークダウンエディタを作った時に知ったことのまとめ","date":"2022-08-11","tag":["HTML","JavaScript"]},"content":"## 概要\n[オフライン環境でも使えるブラウザベースの簡易マークダウンエディタ](https://github.com/ikmnjrd/browser-local-md-editor)を作成した際に知ったことなど、\n箇条書きな内容です。　　\n\n## Tips\n- `\u003cpre\u003e`と`\u003cdiv\u003e`の違い。contenteditable属性と合わせて使う場合、preは改行やスペースなど入力を入力したまま保持（入出力）してくれる が、divだと改行など特にエスケープされてしまうので、\ncontenteditableと使う場合はpreを使う方がベター\n- `\u003chead\u003e`に`\u003cstyle\u003e`タグでcssを書くとパースがシビアになりすぐ変な挙動になるので、個々のhtmlタグのstyle属性に直書きする。今回作成した簡易的なマークダウンエディタなど、\nhtmlが少ないなら有効。\n- dataURIでhtml、特にマークダウン書式を書くならマークダウンんで多用する「#」をURLエンコードに合わせることを意識しておく。#は「%23」で表現される。\n- tabキーなど、文字入力は色々気を使わなくちゃいけない。onkeydownで処理するよりonkeyupで処理した方が都合が良いことが多い。\n- contenteditableなhtmlで参考にすべきはTwitter。Twitterすごい。\n- dataURLではWebStorageが使えない。\n- dataURLではlocationAPIが使えない(Not allowed to navigate top frame to data URL)\n\n\n### 参考文献\n- [How To Add New Line In Markdown? – WiseTut](https://wisetut.com/how-to-add-new-line-in-markdown/)\n- [Data URLs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs)\n- [jQueryでIME入力確定時にイベントを発行する - Qiita](https://qiita.com/hrdaya/items/6488d8dd3962cf35c0a0)"},{"slug":"detail-test","frontmatter":{"title":"details-test","date":"2021-12-22","tag":["misc"]},"content":"\ndetailstタグのテスト\n\n\u003cdetails\u003e\n  \u003csummary\u003esummary\u003c/summary\u003e\ncontent\n\u003c/details\u003e\n"},{"slug":"docker-firebase","frontmatter":{"title":"DockerとFirebaseで作るReact環境構築","date":"2020-04-01","tag":["Docker","Firebase"]},"content":"\n## 都合のいいdockerイメージをダウンロード\n`$ docker pull andreysenov/firebase-tools`\n\n`$ mkdir docker-firebase-test`\n\n参考: [https://hub.docker.com/r/andreysenov/firebase-tools](https://hub.docker.com/r/andreysenov/firebase-tools)\n\n## Docker関連ファイルを作成\n\n`$ vi docker-compose.yml`\n\n```yml\nversion: \"3.8\"\nservices:\n  web:\n    build: .\n    volumes:\n      - ./:/app \n    ports:\n      - \"8000:3000\"\n      - \"4000:4000\" #Emulator Suite UI\n      - \"5000:5000\" #Firebase Hosting\n      - \"5001:5001\" #Cloud Functions\n      - \"8080:8080\" #Cloud Firestore\n      - \"8085:8085\" #Cloud Pub/Sub\n      - \"9000:9000\" #Realtime Database\n      - \"9005:9005\" #Firebase Login\n      - \"9099:9099\" #Authentication\n    \n    tty: true\n    stdin_open: true\n```\n\n`$ vi Dcokerfile`\n\n```docker\nFROM andreysenov/firebase-tools\nWORKDIR /app\n```\n\n## ホスティングするファイルを用意\n今回はReactをcreate-react-appで用意\nコンテナに入ってreactをインストール\n\n`$ docker-compose build`\n\n`$ docker-compose up -d`\n\n`$ docker exec -it docker-firebase-test_web_1 sh`\n\n`$ cd /app`\n\n`$ npx create-react-app sample-app --template typescript`\n\n`$ exit`\n\n## docker-compose.ymlを編集\n`$ vi docker-compose.yml`\n\n```yml\nversion: \"3.8\"\nservices:\n  web:\n    build: .\n    volumes:\n      - ./:/app \n    command: sh -c \"cd /app/sample-app \u0026\u0026 yarn start\"\n    ports:\n      - \"8000:3000\"\n      - \"4000:4000\" #Emulator Suite UI\n      - \"5000:5000\" #Firebase Hosting\n      - \"5001:5001\" #Cloud Functions\n      - \"8080:8080\" #Cloud Firestore\n      - \"8085:8085\" #Cloud Pub/Sub\n      - \"9000:9000\" #Realtime Database\n      - \"9005:9005\" #Firebase Login\n      - \"9099:9099\" #Authentication\n    \n    tty: true\n    stdin_open: true\n```\n\n## firebaseへデプロイ\n`$ docker-compose up -d`\n\n`$ docker exec -it docker-firebase-test_web_1 sh`\n\n`$ cd /app/react-ts-app`\n\n`$ firebase login --no-localhost`\n\n`$ firebase init hosting`\n\nfirebase.jsonを編集してfirebaseが公開ディレクトリをpublicディレクトリではなく、buildディレクトリを参照するように変更\n\n`$ vi firebase.json`\n```json\n{\n  \"hosting\": {\n    \"public\": \"build\",\n    \"ignore\": [\n      \"firebase.json\",\n      \"**/.*\",\n      \"**/node_modules/**\"\n    ],\n    \"rewrites\": [\n      {\n        \"source\": \"**\",\n        \"destination\": \"/index.html\"\n      }\n    ]\n  }\n}\n\n```\n\n`$ firebase deploy`\n"},{"slug":"docker-log","frontmatter":{"title":"Dockerにおけるログ表示","date":"2022-01-26","tag":["Docker"]},"content":"\n### 単体コンテナ用\n`docker logs -f --tail=100 \u003ccontainer-name\u003e`\n\n### docker compose用\n`docker compose logs -f --tail=10`\n\n### 参考\n- [Dockerのログが大きくなりすぎたから最新のだけ見たい](https://qiita.com/nitaking/items/4ca215b95cef2ad5e958)\n- [docker-compose logs](https://docs.docker.com/compose/reference/logs/)\n"},{"slug":"eleventy-on-github-pages","frontmatter":{"title":"Googles製のテンプレート「eleventy-high-performance-blog」をGithub Pagesで使う","date":"2022-02-06","tag":["eleventy.js","GitHub"]},"content":"\nそもそも11tyを使ったのは、Next.jsのexport(静的)\n\n### Google Anarytics\ncache.jsをオリジナルのコードに直す（）\n\nプロキシ設定の解除\n\n\n### docsディレクトリに静的ファイルを吐き出す設定\n```javascript\n// eleventy.js\n    dir: {\n      input: \".\",\n      includes: \"_includes\",\n      data: \"_data\",\n      output: \"docs\",\n    },\n```\n\n### git push時のビルド設定を削除\n以下の記述を削除\n```json\n// package.json\n  \"pre-push\": [\n    \"build\"\n  ],\n```\n\n### 周辺用語\n- \n\n\n### 参考文献\n- []()"},{"slug":"esbuild-misc","frontmatter":{"title":"esbuildを触った際の雑記","description":"esbuildについての雑記","date":"2022-03-15","tag":["Node.js","JavaScript","esbuild","TypeScript"]},"content":"\nViteを使った方が楽だけど、できるだけシンプルな環境を作りたい気持ちでesbuildを触っています。\n\n\n### configファイルを作成する場合\nwatchオプションを有効にした時、ビルド情報を出力するため[logLevel](https://esbuild.github.io/api/#log-level)をinfoにすると良い。\n```javascript\n// esbuild.config.js\nconst esbuild = require('esbuild');\n\nesbuild.build({\n  logLevel: 'info',\n})\n```\n```json\n// package.json\n{\n  ...\n  \"scripts\": {\n    \"build\": \"node esbuild.config.js\",\n  }\n  ...\n}\n```\n\n\n\n### CSS Module + TypeScriptで利用したい場合\n`esbuild-css-modules-plugin`をインストールしPluginとして読み込む([GitHubリポジトリ](https://github.com/indooorsman/esbuild-css-modules-plugin))\n\n\ndeclareファイルを`src/`以下に置いておく。\n```typescript\n// index.d.ts\ndeclare module '*.css' {\n  interface IClassNames {\n    [className: string]: string\n  }\n  const classNames: IClassNames;\n  export = classNames;\n}\n```\n\n\n### 周辺用語\n- CSS modules\n- PostCSS\n\n\n### 参考文献\n- [GitHubリポジトリ - esbuild](https://github.com/evanw/esbuild)\n- [How to set up CSS Modules with esbuild](https://how-to.dev/how-to-set-up-css-modules-with-esbuild)\n- [GitHubリポジトリ - esbuild-css-modules-plugin](https://github.com/indooorsman/esbuild-css-modules-plugin))\n- [esbuild の機能が足りないならプラグインを自作すればいいじゃない](https://www.kabuku.co.jp/developers/create-your-own-esbuild-plugin)"},{"slug":"event-bubbling-capturing-on-react","frontmatter":{"title":"イベントキャプチャリングとバブリング（React）","categories":"tech","date":"2022-01-17","tag":["React","JavaScript","Webブラウザ"]},"content":"Reactはあまり関係ないです。\n\n筆者はReactからWebの世界に入ったため、Reactの世界観からWeb標準技術を見ることが多いですが、Reactのドキュメントを読んでいるとWeb標準なのかReactの世界の話なのかがよくわからないまま進んでしまいます。そんな状況だったので、JavaScriptの勉強を改めてしていたところに「Reactをやっていて出てきた言葉だけど、なんかよくわからないからスルーしたやつだ！」と再会を果たしたので記念にこの記事を書いています。\n\n### 例題\n\n```tsx\nfunction Hoge() {\n  return (\n    \u003cdiv onClick={() =\u003e console.log(\"test\")}\u003e\n      \u003cp onClick={() =\u003e console.log(\"p\")} \u003epだよ\u003c/p\u003e\n    \u003c/div\u003e\n  );\n}\n```\n作成した`\u003cp/\u003e`をクリックすると次のようになります。これが何気なく目にしている挙動と書き方だと思います。\n\n![実行結果1](https://i.gyazo.com/63f658d09ff5f2711823f9e01fc1c2a1.png)\n\n\n次に`onClickCapture`という属性からconsole.logで結果を出力してみましょう。\n\n```tsx\nfunction Hoge() {\n  return (\n    \u003cdiv onClickCapture={() =\u003e console.log(\"test\")}\u003e\n      \u003cp onClick={() =\u003e console.log(\"p\")} \u003epだよ\u003c/p\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\nconsole.logで出力される順序が変わりました。\n\n![実行結果2](https://i.gyazo.com/3fb88bf4ba65dbc23410e35d38cf89d9.png)\n\nこれはWEBの標準仕様、DOMのイベントフローに基づいた仕様なのでvanillaJSであろうが、Reactであろうが元の考え方は一緒です。\n\n\n### イベントフロー\n`キャプチャリングフェーズ` 親から子へイベントを見ていく処理\n|\n`ターゲットフェーズ` 発生源の要素に到達した後、その要素自体の処理\n|\n`バブリングフェーズ` 発生源から親へイベントを見ていく段階\n参考: [https://www.w3.org/TR/DOM-Level-3-Events/#event-flow](https://www.w3.org/TR/DOM-Level-3-Events/#event-flow)\n\n### JavaScriptとReact\nJavaScriptではaddEventListenrで初心者的に何も意識せずにイベントを追加すると、バブリングフェーズでイベントが発火します。\n\nReactでも通常、ほとんどのイベントでバブリングフェーズで発火します。\n\u003e 以下のイベントハンドラはイベント伝搬のバブリングフェーズで呼び出されます。キャプチャフェーズのイベントハンドラを登録するには、イベント名に Capture を追加します。たとえば、キャプチャフェーズでクリックイベントを処理するには onClick の代わりに onClickCapture を使用します。\n\n\n### addEventListenerの第3引数（オプション）\n第3引数にあたるものは`options`、もしくは`useCapture`のプロパティです。構造上、第3引数に急にBoolean(true/false)が現れたら、useCapture属性のことです。\n以下に引用したMDNの小難しく感じる文章もそこそこ理解できるようになったのではないでしょうか。\n\n\n- options\n  - capture\n    - Boolean値で、この型のイベントがDOMツリーで下に位置するEventTargetに配信dispatchされる前に、登録されたlistenerに配信されることを示します。\n  - once\n    - Boolean値で、listenerの呼び出しを一回のみのとしたいかどうかを値で指定します。trueを指定すると、listenerは一度実行された時に自動的に削除されます。\n- useCapture\n  - Boolean値で、この型のイベントが、DOMツリー内の下のEventTargetに配信される前に、登録されたlistenerに配信されるかどうかを示します。ツリーを上方向にバブリングしているイベントは、キャプチャーを使用するように指定されたリスナーを起動しません。イベントのバブリングとキャプチャーは、両方の要素がそのイベントのハンドラーを登録している場合に、別の要素内に入れ子になっている要素で発生するイベントを伝播する2つの方法です。イベント伝播モードは、要素がイベントを受け取る順番を決定します。詳細な説明は DOM Level 3 Events と JavaScript Event order を参照してください。指定されていない場合、useCaptureは既定でfalseとなります。\n\n\n### 参考\n- [https://uhyohyo.net/javascript/3_4.html](https://uhyohyo.net/javascript/3_4.html)\n- [https://developer.mozilla.org/ja/docs/Web/API/EventTarget/addEventListener](https://developer.mozilla.org/ja/docs/Web/API/EventTarget/addEventListener)\n- [https://ja.reactjs.org/docs/events.html](https://ja.reactjs.org/docs/events.html)\n- [https://ja.reactjs.org/blog/2020/08/10/react-v17-rc.html#no-event-pooling](https://ja.reactjs.org/blog/2020/08/10/react-v17-rc.html#no-event-pooling)\n"},{"slug":"express-node-difference","frontmatter":{"title":"疑問メモ_NodejsとExpressの違い","date":"2021-12-26","tag":["Node.js","Express.js"]},"content":"\n\n### 疑問\nNode.jsはnodeコマンドでWebサーバーとして立ち上がるみたいだけど、一方expressもある。\nnodeコマンドで立ち上がるWebサーバーとexpressは何が違うんだ！！！！\n\n\n### 参考文献\n- [https://developer.mozilla.org/ja/docs/Learn/Server-side/Express_Nodejs/Introduction](https://developer.mozilla.org/ja/docs/Learn/Server-side/Express_Nodejs/Introduction)\n"},{"slug":"fcitx-xim-config","frontmatter":{"title":"fcitxで日本語がインライン表示されないし、設定からximが見つからない","date":"2024-02-10","tag":["linux","EndeavourOS"]},"content":"\n### 対処前の状況\nEndeavourOSにfcitxとmozcをインストールした。\n入力確定までは、入力補助ポップアップが表示されるが、カーソルが点滅してる位置には何も表示されない。\n\n[ググって出てくる方法](https://dev.to/nabbisen/fcitx--1n59)も試すがGUIの「設定」を開いてもコンフィグファイルが開かれるだけでXIMの設定が見つからない\nGUIの「設定」を開くと現れる設定ファイルは `~/.config/fcitx/config`である。\n\n### 対処方法\n`~/.config/fcitx/conf/fcitx-xim.config` を開く\n\n```bash\nvi ~/.config/fcitx/conf/fcitx-xim.config\n```\n\n開くといかのようになっていると思う\n```text\n[Xim]\n# XIMで On The Spot スタイルを使う(起動中は変更できません)\n# 可能な値:\n# True False\n# UseOnTheSpotStyle=False\n```\nコメントアウトを外すとともに、`UseOnTheSpotStyle=True`にする。\n```text\n[Xim]\n# XIMで On The Spot スタイルを使う(起動中は変更できません)\n# 可能な値:\n# True False\nUseOnTheSpotStyle=True\n```\n\nfcitxを再起動すればインライン表示されるようになってるはず。以上。\n\n\n### 参考文献\n- [Fcitx: リアルタイム入力（インライン入力）のための設定 - DEV Community](https://dev.to/nabbisen/fcitx--1n59)\n"},{"slug":"font-what-is","frontmatter":{"title":"フォントについて","date":"2022-02-06","tag":["Webブラウザ"]},"content":"### フォント\nデジタルデータとしてフォントを表示するには切っても切り離せない。\nこれはもちろんWebの世界でも、ネイティブアプリの世界でも一緒。\n\nフォントがない世界はありえない。\n\n### 歴史？\nAdobeはフォントという存在を意識できる人なら誰でも知ってる。\n「Adobe Illustrator」「Adobe Photoshop」などに始まり、印刷用に開発されたPostScriptなどを開発したりしていた。\n\ntruetype(.ttf)\nwoff(.wof)\nwoff2(.woff2)\nなどの拡張子がある。\n\n### フォントをユーザーにどう届けるか\n* クライアントにプリインストールされているフォントを使う\n* 自サーバーから配信\n* Webフォントを使う（配信されているものにタダ乗り）\n\n#### ライアントにプリインストールされているフォントを使う\n\n- macOS Big Sur\n  - [https://support.apple.com/ja-jp/HT211240](https://support.apple.com/ja-jp/HT211240)\n- Windows 11\n  -  [https://docs.microsoft.com/en-us/typography/fonts/windows_11_font_list](https://docs.microsoft.com/en-us/typography/fonts/windows_11_font_list)\n- iOS\n  - [https://developer.apple.com/fonts/system-fonts/](https://developer.apple.com/fonts/system-fonts/)\n- Android\n  - 端末メーカーによる場合があり\n\n#### 自サーバーから配信\n主要ブラウザはwoff2に対応しているので、woff2で用意するば十分。\n\n[対応ブラウザ](https://caniuse.com/woff2)\n\n#### Webフォントを使う\n有名なものとして\n- [Google Fonts](https://googlefonts.github.io/japanese/)\n- [REALTYPE](https://www.realtype.jp/)\n\n\n### 参考文献\n- [各OSの標準搭載フォント一覧へのリンク集  |  Rriver](https://parashuto.com/rriver/development/preinstalled-font-list-by-operating-system)\n\n"},{"slug":"fzf-linux-ctrl-r","frontmatter":{"title":"fzfの履歴検索（Ctrl + r）が動いてないときに確認すること","date":"2024-02-18","tag":["linux","EndeavourOS","fzf"]},"content":"\n### 対処前の状況\nEndeavourOSにfzfをインストールしたが、fzfの履歴検索が機能しない\n![対処前イメージ](https://i.gyazo.com/d3febdcaec7dd79a7c5f2d69a0fe3719.png)\n\n### 対処方法\n環境によって異なるが私の環境の場合は`/usr/share/fzf`にあった。人によっては`/usr/loxal/share/docs/fzf`などにある場合もあるらしい。\n```\n$ls /usr/share/fzf/\n合計 52\ndrwxr-xr-x   2 root  4096  2月 15 22:54 .\ndrwxr-xr-x 177 root  4096  2月 15 22:55 ..\n-rw-r--r--   1 root 14523  2月  4 00:41 completion.bash\n-rw-r--r--   1 root 11766  2月  4 00:41 completion.zsh\n-rw-r--r--   1 root  5524  2月  4 00:41 key-bindings.bash\n-rw-r--r--   1 root  4115  2月  4 00:41 key-bindings.zsh\n```\n\n\n私はzshを使っているので.zshrcなどに以下を追記した\n```bash\nsource /usr/share/fzf/key-bindings.zsh\n```\n\n### 参考文献\n- [fzf bash history CTRL+R not working · Issue #1190 · junegunn/fzf](https://github.com/junegunn/fzf/issues/1190)\n"},{"slug":"gcp-cloud-build-complain","frontmatter":{"title":"GCPのCloudBuildなんやねんこいつ","date":"2022-01-30","tag":["GCP"]},"content":"### 疑問に遭遇した状況\n最近 Cloud Run にハマってる。Cloud SDK こと gcloud コマンドで Artifact Registry(Container Registry)にアップロードしてほいっと `gcloud run deploy` ですぐにサービスが公開できて気持ちがいい。\n\nじゃあそろそろGithub ActionsでCI/CDの設定でもしようかと思ったら、サービスの概念が自分の中で咀嚼できていなかったことに気がついた。そこでの疑問は以下だ。\n\n### 疑問\n**Cloud Build なんやねんこいつ** である。\n\n`google-github-actions/setup-gcloud` を使ってワークフローを使っていると、次のような形になる。\n\n```yaml\nname: Build and Push Image\n\non:\n  push:\n    tags:\n    - \"*\"\n\njobs:\n  build-and-publish:\n    name: Build and Push docker image\n    runs-on: ubuntu-latest\n\n    steps:\n    - name: Checkout\n      uses: actions/checkout@v2\n      with:\n        ref: ${{ github.ref }}\n\n    - name: Setup Google Cloud\n      uses: google-github-actions/setup-gcloud@v0\n      with:\n        service_account_key: ${{ secrets.GCLOUD_AUTH }}\n        project_id: node-datastore-test-111\n\n    - name: Configure docker for artifact registry\n      run: |\n        gcloud auth configure-docker asia-northeast1-docker.pkg.dev\n\n    - name: set TAG\n      run: |\n        echo \"TAG=$(echo $GITHUB_REF | awk -F/ '{print $NF}')\" \u003e\u003e $GITHUB_ENV\n\n    - name: Build\n      run: |\n        docker build -t asia-northeast1-docker.pkg.dev/node-datastore-test-111/node-datastore-test-repo/node-datastore-test-image:${{ env.TAG }} ./\n\n    - name: Push\n      run: |\n        docker push asia-northeast1-docker.pkg.dev/node-datastore-test-111/node-datastore-test-repo/node-datastore-test-image:${{ env.TAG }}\n\n    - name: Deploy\n      run: |\n        gcloud run deploy test-service --image asia-northeast1-docker.pkg.dev/node-datastore-test-111/node-datastore-test-repo/node-datastore-test-image:${{ env.TAG }} --region asia-northeast1 --platform managed --allow-unauthenticated\n\n```\n\nせっかくdockerコマンドの羅列で気持ちよくなれてたのに、deployはgcloudコマンドに戻ってくる。\n\n...?\nCloud Buildを挟まないとArtifact RegistryからCloud Runへデプロイできないと思い込んでいたけど、Cloud RunにデプロイするためにArtifact RegistryにビルドしたDocker Imageをアップロードしてるだけで、Cloud Buildいらんやん。。。\n\nなんやねん Cloud Build こいつは、でした。\n\n\n### 周辺用語\n- Github Actions\n- Cloud SDK\n- Cloud Build\n\n\n### 参考文献\n- [Cloud Run へのデプロイ](https://cloud.google.com/artifact-registry/docs/integrate-cloud-run#command-line)\n"},{"slug":"gcp-cloudrun-price","frontmatter":{"title":"Google Cloud Runで動かすアプリをRDBに接続した際の料金を考える","date":"2022-01-10","tag":["GCP"]},"content":"\nGoogleが提供してくれているCloud Runは便利ですよね。私は普段Reactでクライアント側を触っていてFirebaseで済ませることが多いのですが、Cloud Runの便利さに感化されてRDBも使いたくなりました。（FirebaseはNoSQLしか提供してくれていないので...）\n\nしかしへっぽこアプリに使うにはいかんせん料金が気になったところで、予想よりも今回の用途には高級すぎました。今回の判断の元になった部分をまとめます。\n\n自称へっぽこアプリへの、想定されるトラフィックとしては1日に1件リクエストがあるかといったレベルのものを想定して話を進めます。\n\nまず第一にCloud Runを使用する。そこにクラウドサービスを利用してRDBを接続したい。\nそうなった時の候補は、次の2つで、こちらの料金を概算していきます。\n1. Cloud Run と Cloud SQL\n2. Cloud RunにホストしたAPIサーバーをVPS上のDBサーバーに繋ぐ\n\n\n\n\n### 注意事項\n1$=100円で計算しています。\n\n料金は全て東京リージョンで計算しています。\n\n\n## **1. Cloud SQLの料金**\n1ヶ月あたり800円。\n\n#### 内訳\n1. ストレージとネットワークの料金\n  * SSD ストレージ容量: 1 GB あたり $0.221/月\n  * HDD ストレージ容量: 1 GB あたり $0.117/月\n2. ネットワーク下り（外向き）の料金\n  * 送信先 Google プロダクトであれば大陸内は無料\n  * インターネット下り（外向き、Cloud Interconnect を使用する場合）は$0.05/GB\n  * インターネット下り（外向き、Cloud Interconnect を使用しない場合）は$0.19/GB\n3. インスタンスの料金\n\n| 共有コア マシンタイプ | 仮想 CPU 数 |RAM（GB） |最大ストレージ容量|1ヶ月あたりの料金（米ドル）\n|:-----------|:------------|:------------|:------------|:------------|\n| db-f1-micro | 共有  | 0.6 | 3,062 GB | $7.67 |\n| db-g1-small | 共有  | 1.7 | 3,062 GB | $25.55 |\n\n\n\nCloudFunctionsで停止と起動をスケジューリングしてことを解説している[Google Cloudのブログ](https://cloud.google.com/blog/ja/topics/developers-practitioners/lower-development-costs-schedule-cloud-sql-instances-start-and-stop)もあります。\n\n\n## **2. 他社VPSにDBサーバを建て接続**\n必要なもの(料金計算対象)\n* VPS(今回はConoHa)\n* Cloud NAT\n* 静的IPアドレス\n\n\n### **ConoHaのVPSの料金**\n1ヶ月あたり682円\n\nメモリ: 512MB、\nCPU: 1コア、\nSSD: 30GB\n\n\n### **Cloud NATの料金**\n1ヶ月あたり数円\n\n| 割り当てられている VM インスタンスの数 | 1 時間あたりの料金 | 処理された 1 GB あたりの料金（下りと上り（外向きと内向き）の両方） |\n|:-----------|:------------|:------------|\n| 32 VM インスタンスまで | $0.0014 × ゲートウェイを使用している VM インスタンスの数 | $0.045   |\n|32 VM インスタンスを超える場合|$0.044|\t$0.045\n\n参考：[https://cloud.google.com/nat/pricing?hl=ja](https://cloud.google.com/nat/pricing?hl=ja)\n\n\n### **静的IPアドレス**\n1ヶ月あたり1,080円\n\n静的IPアドレス（割り当て済み、未使用）\t1時間あたり$0.015\n\n参考:[https://cloud.google.com/compute/all-pricing#ipaddress](https://cloud.google.com/compute/all-pricing#ipaddress)\n\n\n### その他参考\n- [https://cloud.google.com/run/docs/configuring/static-outbound-ip](https://cloud.google.com/run/docs/configuring/static-outbound-ip?hl=ja)\n"},{"slug":"gcp-gcloud-command-often-used","frontmatter":{"title":"よく使うgcloudコマンド","description":"Google Cloud Platform（gcloud）の個人的によく使うコマンドを備忘録的にまとめています。","date":"2022-01-09","tag":["GCP"]},"content":"\n主にCloudRun周辺の。すごく個人的なまとめです。\n\n## コマンド\n### 一般枠\n- `gcloud --help`\n- `gcloud config --help`\n- `gcloud config configurations list`\n- `gcloud config configurations create \u003cconfiguration-name\u003e`\n- `gcloud config configurations activate \u003cconfiguration-name\u003e`\n- `gcloud projects list`\n- `gcloud config set project \u003cyour-project-id\u003e`\n- `gcloud config set project \u003cproject-name\u003e`\n- `gcloud projects create \u003cyou-project-id\u003e --name \u003cyour-project-name\u003e`\n\n\n### Cloud BuildとArtifact RegistryとCloud Run\n- `gcloud services enable  artifactregistry.googleapis.com cloudbuild.googleapis.com`\n- `gcloud artifacts repositories list`\n- ` gcloud artifacts repositories create \u003crepository-name\u003e --repository-format=docker --location=asia-northeast1 --description=\"Docker repository hoge\"`\n- `gcloud builds submit --tag asia-northeast1-docker.pkg.dev/\u003cyou-project-id\u003e/\u003crepository-name\u003e/\u003cimage-name\u003e:tag1`\n- `gcloud run deploy \u003cservice-name\u003e --image asia-northeast1-docker.pkg.dev/\u003cyou-project-id\u003e/\u003crepository-name\u003e/\u003cimage-name\u003e:tag1 --region asia-northeast1 --platform managed --allow-unauthenticated`\n\n\n### その他メモ\n- `gcloud builds submit`時にカレントディレクトリのDockerfileがアップロードされてビルドされるものだと思ってたけど、[公式ドキュメント](https://cloud.google.com/sdk/gcloud/reference/builds/submit)を見てもそうは書いてない？とりあえずカレントディレクトリの\n- Cloud Runがデフォルトで外部接続に使うポートは8080ってまじ？\n\n"},{"slug":"google-search-console-regist","frontmatter":{"title":"GitHub Pages(Jeykyll)をGoogle Search Consoleに登録","date":"2021-12-28","tag":["Jekyll"]},"content":"\n## 前提\n私はGitHub Pagesで[Jekyll/minima](https://github.com/jekyll/minima)を利用しているので、同様な構成な方に向けた記事です。\n\n## サイトマップを作成\njekyllのプラグインを利用してサイトマップを作成するため `_config.yml` に以下を記述。\n```yml\nplugins:\n- jekyll-sitemap\n```\n\n作成されたサイトマップは以下のURLで確認できる。\n\n`https://{ユーザー名}.github.io/sitemap.xml`\n\n\n## gtag(Google analytics)を埋め込む\nGoogle analyticsを仕込んでいることが前提になっているようなので、事前に設定を済ます。\n\n私のようにGitHub Pagesで[Jekyll/minima](https://github.com/jekyll/minima)を利用している場合\n`_config.yml` に以下のような記述をする。\n```yml\ngoogle_analytics: G-WXXXXXXXXX\n```\n\n## Google Search Consoleにアクセス\n[https://search.google.com/search-console](https://search.google.com/search-console)にアクセスする。\n\n\n\nサーチコンソールのロゴ下のメニューをクリックし、開いたメニューの中から「プロパティ追加」をクリック。\n![俯瞰図](https://i.gyazo.com/dce2b95d46361ad38e873d5e5e9e9291.png)\n\n\n\nURLプレフィックスで自身のページ（`https://{ユーザー名}.github.io`）を入力。続行をクリック。\n![追加画面](https://i.gyazo.com/2d834c38eedd04d1d42663f7dcc4a1c0.png)\n\n\n\n登録直後の画面\n![登録直後](https://i.gyazo.com/c3ccc8921cac92ce03d4964cc6a78e84.png)\n\n\n\n### サイトマップを登録\n左側のメニューから、「インデックス」-\u003e「サイトマップ」をクリックする\nサイトマップを送信する。\n![サイトマップ登録](https://i.gyazo.com/e987cfaa2328b58a5b42d9d070929f48.png)\n\n\n\nサイトマップ送信直後は以下のようになる。\n![サイトマップ送信直後](https://i.gyazo.com/eaf2aa36d0e725c9f4a01da5ef6c833f.png)\n\n\n\nあとは処理が完了するまで数日待ちます。\n\n## 確認（数日後）\n\nサマリー（検索パフォーマンス）\n![数日後サマリー](https://i.gyazo.com/70fde43f72dc84263a0f662eb5c8e4af.png)\n\nサイトマップ\n![数日後サイトマップ](https://i.gyazo.com/175db4f4b7552d5169601a659b7ece4a.png)\n\n## 注意\nGoogle Analyticsタグの埋め込みなどは利用しているJeykllテーマによって異なる場合があります。自身の利用しているリモートテーマをしっかりと確認しましょう。\n\n### 参考文献\n- [https://netchira.github.io/blog/githubpages/SEOsono1.html](https://netchira.github.io/blog/githubpages/SEOsono1.html)\n- [https://developers.google.com/search/docs/beginner/seo-starter-guide](https://developers.google.com/search/docs/beginner/seo-starter-guide)\n"},{"slug":"gyazo-blog-useful","frontmatter":{"title":"Gyazoをブログ用の画像ホストとして使い倒す","date":"2022-02-11","tag":["HTML"]},"content":"\n大好きなWebサービス「Gyazo」の紹介です。\n\n簡単にこのサービスを説明すると、Gyazoを使ってスクリーンショットを撮ると無料のクラウドサーバーにアップロード\u0026URLが発行され、共有が簡単にできるサービスです。\n\n`https://gyazo.com/37f2d7be5ea5964c6aa339f0aa95c9f8`\n![例](https://i.gyazo.com/37f2d7be5ea5964c6aa339f0aa95c9f8.png)\n\n\nこのようにすると、画像を直接指定できる。\n\n`https://i.https://gyazo.com/37f2d7be5ea5964c6aa339f0aa95c9f8.png`\n\n以下のようにするとサイズを指定できる\n\n`https://i.gyazo.com/thumb/300/37f2d7be5ea5964c6aa339f0aa95c9f8.png`\n\nこれを応用すると、画像を自前でホストせずに、最適化した画像によるレスポンシブ対応がhtmlだけでできる。\n\n```html\n  \u003cimg\n    src=\"https://i.gyazo.com/37f2d7be5ea5964c6aa339f0aa95c9f8.png\"\n    srcset=\"https://i.gyazo.com/thumb/320/37f2d7be5ea5964c6aa339f0aa95c9f8.png 320w,\n            https://i.gyazo.com/thumb/640/37f2d7be5ea5964c6aa339f0aa95c9f8.png 640w,\n            https://i.gyazo.com/thumb/1280/37f2d7be5ea5964c6aa339f0aa95c9f8.png 1280w\"\n    sizes=\"(max-width:1280px) 100vw, 1280px\"\n  \u003e\n```\n\n`\u003cpicture/\u003e`と`\u003csource/\u003e`を使えばより柔軟に設定できる。\n\n\n### 周辺用語\n- レスポンシブデザイン\n- srcset\n- ポリフィル「picturefill」\n\n### 参考文献\n- [レスポンシブ画像 - ウェブ開発を学ぶ | MDN](https://developer.mozilla.org/ja/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images)\n- [HTML 5.1のsrcset・sizes属性とpicture要素の使い方 - レスポンシブイメージで画像表示を最適化 - ICS MEDIA](https://ics.media/entry/13324/)\n"},{"slug":"hamburger-css-animation","frontmatter":{"title":"CSSアニメーションで作るハンバーガーメニュー","date":"2022-01-12","tag":["CSS"]},"content":"\n## サンプルコード\n\n\u003cp class=\"codepen\" data-height=\"300\" data-default-tab=\"html,result\" data-slug-hash=\"RwLeEOj\" data-user=\"ikmnjrd\" style=\"height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;\"\u003e\n  \u003cspan\u003eSee the Pen \u003ca href=\"https://codepen.io/ikmnjrd/pen/RwLeEOj\"\u003e\n  CSS-hamburger\u003c/a\u003e by ike (\u003ca href=\"https://codepen.io/ikmnjrd\"\u003e@ikmnjrd\u003c/a\u003e)\n  on \u003ca href=\"https://codepen.io\"\u003eCodePen\u003c/a\u003e.\u003c/span\u003e\n\u003c/p\u003e\n\u003cscript async src=\"https://cpwebassets.codepen.io/assets/embed/ei.js\"\u003e\u003c/script\u003e\n\n\n\n### 重要なポイント\n\n#### CSSプロパティ\n```css\nbackground: currentColor;\n```\n参考:[https://zenn.dev/phi/articles/css-tips-currentcolor](https://zenn.dev/phi/articles/css-tips-currentcolor)\n\n#### アニメーションのイージング\n- `cubic-bezier`\n  - [cubic-bezier を知る。](https://qiita.com/96usa_koi/items/6f313f1d664806a77313)\n\n#### アニメーション\n座標変換の原点を設定する`transform-origin`\n\n#### WAI-ARIA\naria-expanded=\"false\"\n\n"},{"slug":"html-select-design","frontmatter":{"title":"select要素をCSSでカスタマイズする際に気をつけるべきブラウザごとの差","description":"やっぱりsafariはおかしいね。select要素を少しカスタマイズしようとしたところにも地雷がある。","date":"2023-04-19","tag":["HTML","Webブラウザ","デザイン"]},"content":"\nまずはこちらをご覧ください。毒々しいCSSが施されたselect要素です。\n![chrome-normal](https://i.gyazo.com/a3079d8e10a42eb46b9d55d1f99e6c97.png)\n\n上の画像のようなちょっと変わったデザインのselect要素を作った時、ChromeやOperaではfocus状態の時は次のようになります。  \n![chrome-focus-default](https://i.gyazo.com/15638460feada9a82dfb8df92a5ccc7b.png)\n\n毒々しくしたいのですがデフォルトの青い枠線が中途半端にかかり、邪魔になっています。\nそんな時、borderとかなり似ている[outline](https://developer.mozilla.org/en-US/docs/Web/CSS/outline)というプロパティを使います。\n```css\n.poison-select:focus {\n  outline: 1px solid #ff0;\n  /* Chromeなどでのデフォルトの色味を設定したい場合は「-webkit-focus-ring-color」を設定する */\n  /* outline: 1px solid -webkit-focus-ring-color; */\n}\n```\n\n![chrome-focus-custom](https://i.gyazo.com/81d1875832d0538bdded5a56d7af5895.png)\n\nいい感じにすることができました。  \nsafariでも見てみましょう。\n\n![safari-focus-without-offset](https://i.gyazo.com/151a452bffb8191e2c8949781dc14769.png)\n\n違和感がありますよね？  \n大きく2点で違いがあります。\n* safariではselect要素の内側にfocus時の枠線ができる\n* safariではoutline要素にradiusが効かない(※2023年3月27日リリースの[Safari V16.4](https://webkit.org/blog/13966/webkit-features-in-safari-16-4/)から解消)\n\n主に1点目の「select要素の内側にfocus時の枠線ができる」時の対策に[outline-offset](https://developer.mozilla.org/en-US/docs/Web/CSS/outline-offset)を明示的に設定(0pxで)してあげます。\n\n```css\n.poison-select:focus {\n  outline: 1px solid #ff0;\n  outline-offset: 0px;\n}\n```\nすると綺麗になります。  \n![safari-focus-without-offset](https://i.gyazo.com/65572abbec5eaf9876f7e66ceef26857.png)\n\n\n### Reproduction\n\u003ciframe src=\"https://codesandbox.io/embed/affectionate-surf-e2w97d?fontsize=14\u0026hidenavigation=1\u0026theme=dark\"\n     style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"affectionate-surf-e2w97d\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   \u003e\u003c/iframe\u003e\n\n### 参考文献\n- [outlineプロパティで作った枠線は角丸にすることができない - dskd](https://dskd.jp/archives/73.html)\n- [css - What is the default style of the blue focus outline in Chrome? - Stack Overflow](https://stackoverflow.com/questions/20609485/what-is-the-default-style-of-the-blue-focus-outline-in-chrome)"},{"slug":"i3wm-vscode-keiyring","frontmatter":{"title":"i3wmデスクトップでVSCodeのGitHubログインが保持できなかったメモ","description":null,"date":"2024-03-17","tag":["i3wm","EndeavourOS","VSCode","GitHub"]},"content":"\n\n### 状況\nVSCodeからGitHub CopilotのためにGitHubログインすると次のようなメッセージが表示される。  \n![error message](https://i.gyazo.com/eb85146b137d3908359fab61c3952e95.png)\n「Open troubleshooting guide」をクリックするとこれが開く[https://code.visualstudio.com/docs/editor/settings-sync#_troubleshooting-keychain-issues](https://code.visualstudio.com/docs/editor/settings-sync#_troubleshooting-keychain-issues)\n\n\n\n\n### 参考文献\n- [Automatically unlock gnome keyring at boot - Desktop Environments / All WMs - EndeavourOS](https://forum.endeavouros.com/t/automatically-unlock-gnome-keyring-at-boot/24216)\n- [Troubleshooting keychain issues - Settings Sync in Visual Studio Code](https://code.visualstudio.com/docs/editor/settings-sync#_troubleshooting-keychain-issues)\n"},{"slug":"icon-of-tech-tools-with-drawio","frontmatter":{"title":"draw.ioで作る技術資料に使うツールアイコン","date":"2022-01-28","tag":["misc"]},"content":"\n### まずは検索\n検索してみる。\n![draw.io検索](https://i.gyazo.com/d68e020225a55e471084351f8512ad1c.png)\n\ndraw.ioで`https://~`を参照する形で読み込んでしまうとエクスポート時に画像が表示されないので注意。\n\n### 検索してないなら\n[いい感じにまとめてくれているQiita記事](https://qiita.com/tkit/items/932316c5f5f7b162b61e)\n\n\n### 何がなんでもアイコンを使いたい\n[https://vecta.io/symbols](https://vecta.io/symbols)\n\n### svgでもいいなら\n[https://devicon.dev/](https://devicon.dev/)\n"},{"slug":"iterm-enable-option-b","frontmatter":{"title":"iTermで1単語分の移動をできるようにする","description":"僕の疑問に追記する形で更新しています。","date":"2022-08-27","tag":["bash","zsh","iTerm"]},"content":"### 前提\n\nterminal操作で`ctrl+a`を押せば行頭へ戻る  \n`ctrl+e`を押せば行末へ移動  \n`ctrl+u`を押せばカーソル位置から行頭まで削除  \nここまではいい。  \n\nしかし、  \n`option + b`や`option + f`を使って1単語分の移動をしようとすると筆記体のfやルート記号が入力され移動できない  \n(MacのoptionはしばしばAltと同等)  \n\n### 結論\n\niTerm側の設定を変更する。  \n画像のLeft Option keyがNormalがデフォルトの設定のはずなので、Esc+に変更する\n![iTerm](https://i.gyazo.com/89dddef08769a9f3f3e3c59408a83ce9.png)\n\n### 参考文献\n\n- [macos - Bash keyboard shortcuts in iTerm like Alt+d and Alt+f - Stack Overflow](https://stackoverflow.com/questions/18923765/bash-keyboard-shortcuts-in-iterm-like-altd-and-altf)\n"},{"slug":"javascript-namespace-push-me-in-pit","frontmatter":{"title":"JavaScript名前空間でハマった話","date":"2021-12-30","tag":["JavaScript"]},"content":"\nハマったポイントとその解決策を書く。\n\n### ハマったポイント\n\nなぜ②の箇所で変数`audio`にアクセスできてしまうの？？？？\n\n```javascript\nconst init = () =\u003e {\n\n  const upload_file = document.getElementById('uploadedFile');\n  const audio = document.getElementById('audio');\n\n  upload_file.addEventListener('change', (e) =\u003e {\n    audio.src = URL.createObjectURL(e.target.files[0]);\n\n    console.log(audio); // ①\n    audio.load();\n    audio.play();\n    draw();\n  });\n}\n\nconst draw = () =\u003e {\n  console.log(audio); // ②\n}\n\nwindow.onload = init();\n\n```\n\noutput例\n```html\n\u003caudio id=\"audio\" controls=\"\" src=\"blob:http://localhost:8080/b691c70c-4570-4659-97d3-45577d80ec21\"\u003e\u003c/audio\u003e\n\u003caudio id=\"audio\" controls=\"\" src=\"blob:http://localhost:8080/b691c70c-4570-4659-97d3-45577d80ec21\"\u003e\u003c/audio\u003e\n```\n\n\n### 起こっていたこと\nググったらすぐに出てきた。\n\u003e タイトルの通りなんですが, HTML の DOM に指定した id はすべて同じ変数名としてグローバル変数に格納されます.\n参考: [https://zenn.dev/phi/articles/javascript-tips-dom-id-global](https://zenn.dev/phi/articles/javascript-tips-dom-id-global)\n\n\n```javascript\nconst init = () =\u003e {\n\n  const upload_file = document.getElementById('uploadedFile');\n  const audio2 = document.getElementById('audio');\n\n  upload_file.addEventListener('change', (e) =\u003e {\n    audio2.src = URL.createObjectURL(e.target.files[0]);\n\n    console.log(audio); // ①\n    audio2.load();\n    audio2.play();\n    draw();\n  });\n}\n\nconst draw = () =\u003e {\n  console.log(audio);\n  console.log(audio2); // ②\n}\n\nwindow.onload = init();\n```\noutput例\n```jsstacktrace\nscript.js:40 \u003caudio id=​\"audio\" controls src=​\"blob:​http:​/​/​localhost:​8080/​b337de48-6ba2-459b-a022-d56dae3da9d3\"\u003e​…​\u003c/audio\u003e​\nscript.js:41 Uncaught ReferenceError: audio2 is not defined\n    at draw (script.js:41)\n    at HTMLInputElement.\u003canonymous\u003e (script.js:30)\ndraw @ script.js:41\n```\n\n\n\n### 解決案\n\nidは慎重に名付けしよう。\n\n\n### 周辺用語\n- グローバル変数\n- DOM\n\n\n### 参考文献\n- [https://zenn.dev/phi/articles/javascript-tips-dom-id-global](https://zenn.dev/phi/articles/javascript-tips-dom-id-global)\n"},{"slug":"javascript-smartload-fs-module","frontmatter":{"title":"CommonJSでもスマートにfsモジュールを読み込む","date":"2022-02-03","tag":["JavaScript"]},"content":"### 前提\nNode.jsで開発するとき、`fs`はかなりよく使う。\nそして私はまだwebpackの呪縛から逃れられていないので、CommonJSで書きたい場面が多い。\nそして現在で使うときは大抵`Promise型`で使う。\n\n### 結論\nそんなときには次のように書くとスマート\n```javascript\nconst { promises: fs } = require('fs')\n```\n\nこういう書き方でもいい。\n```javascript\nconst fs = require('fs').promises;\n```\n\n\n### 参考文献\n- [https://github.com/vercel/next.js/blob/canary/examples/blog/scripts/gen-rss.js](https://github.com/vercel/next.js/blob/canary/examples/blog/scripts/gen-rss.js)\n- [[Node.js]fs.promises APIの使い方](https://tech.chakapoko.com/nodejs/file/promises.html)\n"},{"slug":"javascript-summary-of-ecma-specs","frontmatter":{"title":"歴代ECMAScript仕様情報のまとめ","date":"2022-01-16","tag":["JavaScript"]},"content":"\n### まとめ\nここを見ろ\n- [https://developer.mozilla.org/ja/docs/Web/JavaScript/Language_Resources](https://developer.mozilla.org/ja/docs/Web/JavaScript/Language_Resources)\n\nGitHubリポジトリや公式ページは過去の仕様が見辛い\n- [https://github.com/tc39/ecma262](https://github.com/tc39/ecma262)\n- [https://tc39.es/](https://tc39.es/)\n"},{"slug":"javascript-weakmap-usage","frontmatter":{"title":"WeakMapの使い所","date":"2022-01-16","tag":["JavaScript"]},"content":"\n### WeakMapとは\nES2015で追加された仕様。ハッシュテーブルの一種。\nMDNには以下のように書かれています。\n\u003eThe WeakMap object is a collection of key/value pairs in which the keys are weakly referenced.\n\n`weakly referenced keys`(弱い参照) という概念がキモ。\n\n\n似たオブジェクトとの一番わかりやすい違いが、キーにすることができるデータ型です。\n| オブジェクト | プロパティキーにできるもの | 値にできるもの |\n|:-----------|:------------|:------------|\n| WeakMap   | Object      | 任意            |\n| Object    | 文字列, Symbol    | 任意       |\n| Map       | 関数、オブジェクト、あらゆるプリミティブなど    | 任意      |\n\nちなみにArray型（配列）は、キーバリューのかたち（キー付きコレクション）ではないです。逆にArrayやInt8Arrayなどは索引付きコレクションと呼ばれています。[参考:「標準組み込みオブジェクト」](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects)\n\n上の表を見た個人的感想はWeakMapはObjectと似ているな、と思うので今回の比較に用いていきたいと思います。\n\n### Objectとの違い、使い分け\n\n雑な説明ですが、JavaScriptではプロトタイプチェーンの仕組みにより、新しいオブジェクトを作ると元にしたオブジェクトを参照しながらメモリに保持されます。\n\n\u003e キーによるオブジェクト参照は弱く保持され、そのオブジェクトへの参照が他に存在しないときはガベージコレクション (GC) の対象になります\n\u003e \u003ccite\u003e出典: [MDN-キー付きコレクション](https://developer.mozilla.org/ja/docs/Web/JavaScript/Guide/Keyed_collections#weakmap_object)\u003c/cite\u003e\n\nこれが\"弱い参照\"とされる理由の一つです。\n\u003e Map オブジェクトとの違いの１つは、WeakMap のキーは列挙可能ではないことです（すなわち、キーのリストを取得するメソッドがありません）。もしも列挙可能であれば、リストは非決定性をもたらす、ガベージコレクションの状態に依存することになってしまいます。\n\u003e \u003ccite\u003e出典: [MDN-キー付きコレクション](https://developer.mozilla.org/ja/docs/Web/JavaScript/Guide/Keyed_collections#weakmap_object)\u003c/cite\u003e\n\n\n\n### 使い方の例\n\n```javascript\n  // HTMLMediaElement用\n  var audioEle;\n  var wm = new WeakMap();\n\n  /* 〜中略〜 */\n\n  // WeakMapでHTMLMediaElementを保持する\n  if (wm.has(audioEle)) {\n    audioSourceNode = wm.get(audioEle);\n  } else {\n    audioSourceNode = audioCtx.createMediaElementSource(audioEle);\n    wm.set(audioEle, audioSourceNode);\n  }\n```\n出典:[https://github.com/TakeshiOkamoto/waveform-spectrum/blob/master/waveform-spectrum.js](https://github.com/TakeshiOkamoto/waveform-spectrum/blob/master/waveform-spectrum.js)\n\n### 参考\n- [WeakMap Objects-sec](https://262.ecma-international.org/#sec-weakmap-objects)\n- [tc39-GitHub](https://github.com/tc39/ecma262-6-src)\n- [MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/WeakMap)\n- [https://uhyohyo.net/javascript/16_1.html](https://uhyohyo.net/javascript/16_1.html)\n- [https://github.com/TakeshiOkamoto/waveform-spectrum/blob/master/waveform-spectrum.js](https://github.com/TakeshiOkamoto/waveform-spectrum/blob/master/waveform-spectrum.js)\n"},{"slug":"javascript-why-appear-eval","frontmatter":{"title":"疑問メモ_evalが頻出するのはなぜ","date":"2021-12-26","tag":["JavaScript"]},"content":"\n### 疑問\nなんでWebpack?esbuild?などでトランスパイルしたjsファイルにeval(withも?みたことはないけど)が頻出するの？\nMDNを見たけど、危険ってことしかわからなかった。\n自分なりに考えた理由としてはevalは機械語(ネイティブコード)に近いからコンパイルが楽になると予想した。\n\n### 自分なりの回答\n`eval`は[標準組み込みオブジェクト](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects)として実装されているから、と言う説\n\n### 周辺用語\n- \n\n\n### 参考文献\n- [標準組み込みオブジェクト](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects)\n"},{"slug":"javascript-why-var-const-togetter","frontmatter":{"title":"疑問_なぜvarとconstが共存しているのか","date":"2022-01-23","tag":["JavaScript","Next.js","Node.js"]},"content":"### 疑問に遭遇した状況\nNext.jsで`$ next export`が気になり、`~/node_modules/next/dist/cli/next-export.js`を見ていた。\n\n### 疑問\nグローバル宣言している`var`とES2015(ES6)から追加された`const`と`let`が共存している。なぜ？？\n\n```javascript\n#!/usr/bin/env node\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.nextExport = void 0;\nvar _path = require(\"path\");\nvar _fs = require(\"fs\");\nvar _indexJs = _interopRequireDefault(require(\"next/dist/compiled/arg/index.js\"));\nvar _export = _interopRequireDefault(require(\"../export\"));\nvar _utils = require(\"../server/lib/utils\");\nvar _trace = require(\"../trace\");\nvar _isError = _interopRequireDefault(require(\"../lib/is-error\"));\nvar _getProjectDir = require(\"../lib/get-project-dir\");\nfunction _interopRequireDefault(obj) {\n    return obj \u0026\u0026 obj.__esModule ? obj : {\n        default: obj\n    };\n}\nconst nextExport = (argv)=\u003e{\n    const nextExportCliSpan = (0, _trace).trace('next-export-cli');\n    const validArgs = {\n        // Types\n        '--help': Boolean,\n        '--silent': Boolean,\n        '--outdir': String,\n        '--threads': Number,\n        // Aliases\n        '-h': '--help',\n        '-s': '--silent',\n        '-o': '--outdir'\n    };\n    let args;\n    try {\n        args = (0, _indexJs).default(validArgs, {\n            argv\n        });\n    } catch (error) {\n        if ((0, _isError).default(error) \u0026\u0026 error.code === 'ARG_UNKNOWN_OPTION') {\n            return (0, _utils).printAndExit(error.message, 1);\n        }\n        throw error;\n    }\n    if (args['--help']) {\n        console.log(`\n      Description\n        Exports the application for production deployment\n\n      Usage\n        $ next export [options] \u003cdir\u003e\n\n      \u003cdir\u003e represents the directory of the Next.js application.\n      If no directory is provided, the current directory will be used.\n\n      Options\n        -h - list this help\n        -o - set the output dir (defaults to 'out')\n        -s - do not print any messages to console\n    `);\n        process.exit(0);\n    }\n    const dir = (0, _getProjectDir).getProjectDir(args._[0]);\n    // Check if pages dir exists and warn if not\n    if (!(0, _fs).existsSync(dir)) {\n        (0, _utils).printAndExit(`\u003e No such directory exists as the project root: ${dir}`);\n    }\n    const options = {\n        silent: args['--silent'] || false,\n        threads: args['--threads'],\n        outdir: args['--outdir'] ? (0, _path).resolve(args['--outdir']) : (0, _path).join(dir, 'out')\n    };\n    (0, _export).default(dir, options, nextExportCliSpan).then(()=\u003e{\n        nextExportCliSpan.stop();\n        (0, _utils).printAndExit(`Export successful. Files written to ${options.outdir}`, 0);\n    }).catch((err)=\u003e{\n        nextExportCliSpan.stop();\n        (0, _utils).printAndExit(err);\n    });\n};\nexports.nextExport = nextExport;\n\n//# sourceMappingURL=next-export.js.map\n```\n\n### 周辺用語\n- Next.js\n- ESModules\n- CommonJS\n\n\n### 参考文献\n- [MDN - Object.defineProperty()](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)\n- [javascript.info - モジュール, 導入](https://ja.javascript.info/modules-intro)\n"},{"slug":"jekyll-favicon-setup","frontmatter":{"title":"jekyllでfaviconを設定","date":"2021-12-31","layout":"layouts/post.njk","scheduled":"2021-12-31","tag":["Jekyll","Ruby"]},"content":"\n## 前提\n私はGitHub Pagesで[Jekyll/minima](https://github.com/jekyll/minima)を利用しているので、同様な構成な方に向けた記事です。\n\n\n## favicon設定\n./includes/custom-head.htmlに以下のコードを追記\n\n```html\n\u003clink rel=\"icon\" href=\"/favicon.ico\"\u003e\n```\n\n用意したfaviconをルートディレクトリに配置。\n![リポジトリ](https://i.gyazo.com/f1dd722b4abdecd1fa61907db9601047.png)\n\n\n## 参考にしたもの\n- [https://zenn.dev/pacchiy/articles/e4dcd7bd29d387](https://zenn.dev/pacchiy/articles/e4dcd7bd29d387)\n"},{"slug":"jekyll-footer-override","frontmatter":{"title":"Jekyllテーマのhtmlオーバーライド","date":"2021-12-22","layout":"layouts/post.njk","scheduled":"2021-12-22","tag":["Jekyll","Ruby"]},"content":"\nできるだけ楽をしてブログを続けるために仕方なくGitHub PagesでJekyllを使ってる人は僕以外にいることと思う。\n\n~~今となっては古いデザインのものが多く、好みのテーマを見つけることすらめんどくさかった。それすら古さが漂う~~\n\nせっかく見つけたテーマのうち1部分だけ気に入らない時の対処法を書く。\nちなみにテーマは[minima](https://github.com/jekyll/minima)です。\n\n今回僕が気に入らなかったのが、footerにある「Subscribe」の文字部分。これを消したい。\n![feeds削除前](https://i.gyazo.com/1c3f3779075834651e9c927a2ea096a4.png)\n\n\n[minima](https://github.com/jekyll/minima)のソースコードを確認し、`/_incledes/footer.html`が気に入らなかった箇所があることを確認した。\n\n\n**自身のリポジトリ**に`/_incledes/footer.html`を作成、今回はオリジナルのfooter.htmlから該当箇所を削除。\n\n以下の画像のような状態になると思います。\n![リポジトリルート](https://i.gyazo.com/aa22c02a8c6b29a6ed66c1d473d6695d.png)\n\nいつも通りGitHubにpush。\n消えたことが確認できました。\n![feed削除後](https://i.gyazo.com/1d8dc36636e96098fa0bff06abe2a31f.png)\n"},{"slug":"jekyll-theme-on-gh-pages","frontmatter":{"title":"GitHub Pagesでズボラに使えそうなJekyllのブログ用テーマ","date":"2021-10-29","layout":"layouts/post.njk","scheduled":"2021-10-29","tag":["Jekyll"]},"content":"\n* https://github.com/jekyll/minima\n* https://github.com/zivong/jekyll-theme-hydure\n* https://github.com/huangyz0918/moving\n* https://github.com/jekyllt/jasper\n* https://github.com/joshgerdes/jekyll-uno\n"},{"slug":"jekyll-tipuesearch-adopt","frontmatter":{"title":"Jekyll Tipue Searchによる記事検索の導入方法","categories":"tech","date":"2022-01-18","tag":["Jekyll","Ruby"]},"content":"\nGithub Pagesで手軽にブログを作成する際に第一候補となるであろうStatic Site Generator「Jekyll」に自作ブログ内検索を手軽に導入する方法について記述します。\n\n![完成イメージ図](https://i.gyazo.com/9f18a04650fb3bfaef972a88a25a00f2.png)\n\n\n### 準備するもの\n- すでに公開設定などを済ませたJekyll製ブログ\n### 手順\n1. 以下に示すソースコード（./assets）をダウンロードします。\n\n[公式GitHubリポジトリ](https://github.com/jekylltools/jekyll-tipue-search)は2017年8月23日より新規コミットがないので、以下に直接zipのリンクを掲載しています。\n[ソースコード(d4b5df7).zip](https://github.com/jekylltools/jekyll-tipue-search/archive/refs/heads/master.zip)\n\n\n\n\n2. 解凍し、自身のブログのソースコードにassetsフォルダの中身を丸ごとコピーします。\n\n![image1](https://i.gyazo.com/e8456b0e9178d920970dcc32c088b62a.png)\n![image2](https://i.gyazo.com/b1c5d6ca798cf6851b5b17db17b09e8e.png)\n\n3. 利用しているテーマでheadタグを規定している部分に以下のソースコードを追記する。\n   - 筆者の環境だと[minima](https://github.com/jekyll/minima)を利用しているので、`_includes/custom-head.html`が本手順の作業対象になります。\n\n[ソース](https://github.com/jekylltools/jekyll-tipue-search)\n\n![image3](https://i.gyazo.com/a75a11a735f7db802a1f1eaccabebad3.png)\n\n4. 以下に示すコードを`search.html`としてコピペし、画像のように配置します。\n   - [minima](https://github.com/jekyll/minima)であれば、統一感を持たせるためにファイル名`search.md`とするのが綺麗な気がするので、私は`search.md`としています。\n\n[ソース](https://github.com/jekylltools/jekyll-tipue-search)\n\n![image4](https://i.gyazo.com/e83c01861fea2707147a8970e8f31784.png)\n\n\n5. あとは`_config.yml`をいじるなりしてヘッダー部分にパーマリンクを設置したり、CSSを少し変えてみたり、ビルド、デプロイをすれば完了です。\n   - よろしければ[筆者の公開リポジトリ](https://github.com/ikmnjrd/ikmnjrd.github.io)を参考にしてみてください。\n\n完成です。\n\n![完成](https://i.gyazo.com/82a80325376d64d4e4560fc0b924881f.png)\n"},{"slug":"jest-within-ecma-script","frontmatter":{"title":"疑問メモ_JestでECMAScriptを使う","date":"2022-01-07","tag":["Jest","JavaScript"]},"content":"\n### 疑問\nJestでECMAScriptを使う方法が[公式](https://jestjs.io/ja/docs/ecmascript-modules)に書いてある。\nやってみたけどなぜかできなかったというメモ。\n\n公式通りにやってみた結果以下のエラー。\n\n### エラー全文\n```bash\n% node --experimental-vm-modules node_modules/jest/bin/jest.js\n(node:92238) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time\n(Use `node --trace-warnings ...` to show where the warning was created)\n FAIL  ./index.test.js\n  ● Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    /Users/ike/workspace/no-degradation-image-converter/index.test.js:1\n    ({\"Object.\u003canonymous\u003e\":function(module,exports,require,__dirname,__filename,jest){import sum from './index';\n                                                                                      ^^^^^^\n\n    SyntaxError: Cannot use import statement outside a module\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1728:14)\n      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        0.222 s\n```\n\n### わからないことを辿る\nそもそも実行時に付与してるオプションは、[Node.js]((https://nodejs.org/api/cli.html#--experimental-vm-modules))のサイトでこのように説明されている。\n\u003e--experimental-vm-module\n\u003eEnable experimental ES Module support in the vm module.\n\nとてもあっさり！\n\n`vm module`とはなんぞ？\n要はV8エンジンらしい。以下公式での[Node.jsのサイト](https://nodejs.org/api/vm.html#vm-executing-javascript)での説明\n\u003eThe vm module enables compiling and running code within V8 Virtual Machine contexts. The vm module is not a security mechanism. Do not use it to run untrusted code.\n\nそして迷宮入り。Nodeを16の最新安定版にしてみたけどダメでしたね。\n大人しくCommonJSでrequireします。\n\n\n### 周辺用語\n- Node.js\n- V8\n- VM moduel\n- CommonJS\n- ECMAScript\n\n\n### 参考文献\n- [--experimental-vm-module](https://nodejs.org/api/cli.html#--experimental-vm-modules)\n- [(https://nodejs.org/api/vm.html#vm-executing-javascript)](https://nodejs.org/api/vm.html#vm-executing-javascript)\n- [https://nodejs.org/api/vm.html#vm-executing-javascript](https://nodejs.org/api/vm.html#vm-executing-javascript)\n"},{"slug":"licence-seeking","frontmatter":{"title":"package.jsonに記述するlicenceの書き方","description":"Licenseを書く際の決まりについて調べたのでまとめた。","date":"2022-08-06","tag":["npm","Node.js"]},"content":"\n### どのように書くのがいいのか\nMITやISCなどよく書いてあるがどう書くのがいいのか？\nnpm Docsにはこのように書いてある。\n\u003e BSD-2-Clause や MIT などの一般的なライセンスを使用している場合は、次のように、使用しているライセンスの現在の SPDX ライセンス識別子を追加します。\n\u003e { \"license\" : \"BSD-3-Clause\" }\n\u003e --- [package.json | npm Docs](https://docs.npmjs.com/cli/v6/configuring-npm/package-json#license)\n\n### SPDXとは\nLinux Foundationのブログ（日本語訳版）に怪しい日本語でこのように書いてあります。\n\u003e SPDXは、コンポーネント、ライセンス、著作権、セキュリティ リファレンスなどのソフトウェア部品表 (SBOM) 情報を伝達するためのオープンな標準です\n\u003e --- [SPDX : すでに世界共通のソフトウェア部品表 (SBOM) およびサプライチェーン セキュリティで使用 - The Linux Foundation](https://www.linuxfoundation.jp/blog/2021/06/spdx-its-already-in-use-for-global-software-bill-of-materials-sbom-and-supply-chain-security/)\n\n### ライセンスのリストを参照する\n[SPDX License List](https://spdx.org/licenses/)\nリンク先の表からのIdentifierを探し、次のようにかく。\n```json\n{ \"license\" : \"CC0-1.0\" }\n```\n\nUnlicenseなどもしっかりとSPDXライセンスリストに記載されています。\n\n### 余談\n[https://github.com/jslicense/spdx-license-ids](https://github.com/jslicense/spdx-license-ids)のスター数は2桁なのにUsed byの項目が1千万人近くになってるのはどういうことなのか不思議に思った。\n\n\n\n\n\n\n"},{"slug":"linux-hardware-2024-03","frontmatter":{"title":"自作PCの構成_2024-03","date":"2024-04-09","tag":["Linux","misc"]},"content":"\n\n### ハードウェア\n| 部品　        | 名称                                         |\n|:--------------|:---------------------------------------------|\n| CPU    　     | AMD Ryzen 7 7745HX (オンボード)              |\n| マザーボード  | Minisforum BD770i                            |\n| GPU           | ASUS Radeon RX 7600 OC  8GB                  |\n| メモリ        | Crucial 32GB DDR5 4800MHz SODIMM             |\n| HDD           | Crucial T500 1TB PCIe Gen4 NVMe M.2 SSD      |\n| CPUファン     | Noctua NF-A12x25 PWM chromax.Black.swap      |\n| 電源          | Cooler Master V850 SFX Gold ATX3.0           |\n| ケース        | Cooler Master MasterBox NR200P ホワイト      |\n\n\n### ソフトウェア\n| 部品　        | 名称                                         |\n|:--------------|:---------------------------------------------|\n| OS     　     | EndeavourOS Linux x86_64                     |\n| WindowManager | i3                                           |\n\n\n### ざっくり構成を伝えるコピペ用\n|               |                                   |\n|:--------------|:----------------------------------|\n| OS     　     | EndeavourOS Linux x86_64          |\n| WM            | i3                                |\n| CPU    　     | AMD Ryzen 7 7745HX (オンボード)   |\n| マザーボード  | Minisforum BD770i                 |\n| GPU           | ASUS Radeon RX 7600 OC  8GB       |"},{"slug":"mac-meeting-transcript","frontmatter":{"title":"Macでオンライン会議を文字起こし","categories":"misc","date":"2022-01-17","tag":["misc"]},"content":"\n### 調査\n[Blackhole](https://github.com/ExistentialAudio/BlackHole)や[ladiocast](https://apps.apple.com/jp/app/ladiocast/id411213048)を使って録音した音声を文字起こしする方法がよく紹介されている。\n\nリアルタイムでGoogle Docs上に文字起こしをしたかったが、Blackholeとlaidiocastでは実現できず。\n\n\n### 無料で使えるリアルタイム文字起こしサービス\n* Texta\n* Sloos\n* AI GIJIROKU\n\n\n### 個人的な結論\n普段のメモなどをGoogle Docsで管理しているため、Google Docsをマストとする。\nそのためGoogle MeetやZoomを簡単に録音したい。\n以上の理由から、[Blackhole](https://github.com/ExistentialAudio/BlackHole)と[ladiocast](https://apps.apple.com/jp/app/ladiocast/id411213048)で録音データをGoogle Docsに文字起こしする方式で、\n録音自体を[Krisp](https://krisp.ai/)（ノイズ除去ソフト）で提供されている録音機能を使う。\n\n"},{"slug":"mac-webserver-easiest","frontmatter":{"title":"Macでお手軽Webサーバー","date":"2021-12-30","layout":"layouts/post.njk","scheduled":"2021-12-30"},"content":"\nただの引用メモ\n\n\u003e Mac OS X に最初からインストールされているPythonを利用\n\n```bash\n$ cd ドキュメントルートとなるフォルダ\n$ python -m SimpleHTTPServer 8080\n```\n\n\n### 参考文献\n- [https://qiita.com/massie_g/items/2913066e596dae197539](https://qiita.com/massie_g/items/2913066e596dae197539)\n"},{"slug":"markdown-it-process","frontmatter":{"title":"markdown-itのプラグイン開発に失敗したのでメモ","date":"2022-08-07","tag":["JavaScript","Node.js"]},"content":"\n失敗したけど、悔しいので調べたことのメモとそのプラグインの[リポジトリ](https://github.com/ikmnjrd/markdown-it-bqcite)\n作ろうとした機能は、`\u003cblockquote/\u003e` 内の特定prefixから始まる箇所を`\u003ccite/\u003e`で囲もうとういうもの。\n\n```md\n\u003e 内容はこれ\n\u003e --- 出典はこれ\n```\nこんなのを\n\n\u003e 内容はこれ\n\u003e \u003ccite\u003e出典はこれ\u003c/cite\u003e\n\nこんな風に出力したかった\n\n### markdown-itの処理の大きな流れ\n1. ソース(.md)をToken単位にまずparse。この際、inlineやblockといった固まりで放置されるものがある。\n2. 1.でparseしたものをStringとして出力しながらinlineやblockで放置されたものをそれぞれのルールに従いながらパース。パースしながら出力\n\n\n### 流れ\nMarkdownIt#render(src)\n\nMarkdownIt#parse(src)\n\nstate = new this.core.State(src, this, env);\n// Tokenクラスの読み込み初期化など\n\nthis.core.process(state)\n// coreルールを順にstateを引き回しながら実行\n// stateをToken[]にparse終了\n\n\nMarkdownIt#renderer#renderを実行。token.typeがinlineならRenderer#renderInlineを実行。独自ルールのあるtoken.typeならそのルールを実行。どちらにも当てはまらないならRenderer#renderTokenを実行\n```js\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i \u003c len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n```\n\nRenderer#renderInlinの処理例\n\n\nRenderer#renderTokenの処理例\nToken.hiddenなら空文字を返す\n\n\nouTokensに追加?意味わからん\n\n\n\n### テストに使ってた.md\n```md\n\u003e this\n\u003e is\n\u003e test\n\u003e --- in-cite\n\n\u003c!-- \u003e\u003e\u003e second\n--- in-cite --\u003e\n\n\n\u003c!-- \u003e\u003e\u003e aaa\nbbb\nccc --\u003e\n\n\u003e `hoge`\n\u003e hoge\n\n\u003e link in cite\n\u003e --- [link](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n```"},{"slug":"minio-s3-express-js","frontmatter":{"title":"AWS S3互換のMinIOにaws-sdk(client-s3)から接続する","description":"@aws-sdk/client-s3を利用したMinIOへの接続例のサンプルコード","date":"2022-12-08","tag":["JavaScript","Express.js","AWS"]},"content":"### 結論\ns3-clientでMinIOに繋げる！\n\n### 状況\nローカルで完結する開発環境でもS3にできるだけ近い形をとりたかった。  \n[MinIO](https://min.io/)というS3互換のオブジェクトストレージが無料らしいので使ってみる。\n\n\n### MinIO導入\n以下のようなディレクトリ構造とする。\n```sh\n.\n├── docker\n│   └── minio\n│       └── data\n├── docker-compose.yml\n```\n```yml\nversion: '3.8'\nservices:\n  minio:\n    image: minio/minio:RELEASE.2022-11-29T23-40-49Z\n    ports:\n      - 9000:9000\n      - 9090:9090\n    environment:\n      - MINIO_ROOT_USER=minio\n      - MINIO_ROOT_PASSWORD=miniopass\n      - MINIO_VOLUMES=/data\n    entrypoint: sh\n    command: -c \"\n      minio server --console-address ':9090'\"\n    volumes:\n      - ./docker/minio/data:/data\n```\n\nコンテナを起動するとlocalhost:9090でminioの管理画面が表示される。\n\n\n### aws-sdkでMinIOに接続する\n`s3.js`\n```js\nimport { S3Client, PutObjectCommand } from '@aws-sdk/client-s3'\n\nconst IS_DEV = process.env.IS_DEV\nconst AWS_S3_REGION = process.env.AWS_S3_REGION\nconst AWS_ACCESS_KEY_ID = process.env.AWS_ACCESS_KEY_ID\nconst AWS_SECRET_ACCESS_KEY = process.env.AWS_SECRET_ACCESS_KEY\nconst AWS_S3_BUCKET_NAME = process.env.AWS_S3_BUCKET_NAME\n\n\nconst s3client = new S3Client(\n  IS_DEV\n    ? {\n        region: AWS_S3_REGION,\n        credentials: {\n          accessKeyId: 'minio', // MINIO_ROOT_USER\n          secretAccessKey: 'miniopass' // MINIO_ROOT_PASSWORD\n        },\n        endpoint: 'http://localhost:9000/',\n        forcePathStyle: true\n      }\n    : {\n        region: AWS_S3_REGION,\n        credentials: {\n          accessKeyId: AWS_ACCESS_KEY_ID,\n          secretAccessKey: AWS_SECRET_ACCESS_KEY\n        }\n      }\n)\nexport const uploadToS3 = async (body) =\u003e {\n  try {\n    const data = await s3client.send(\n      new PutObjectCommand({\n        Bucket: AWS_S3_BUCKET_NAME,\n        Key: 'test/key.png',\n        Body: body,\n      })\n    )\n    console.debug('Success', data)\n    return\n  } catch (err) {\n    console.error('Error', err)\n    throw err\n  }\n}\n\n```\n\n`index.js`\n```js\nimport express, { Router } from 'express'\nimport { uploadToS3 } from './s3'\n\nconst app = express()\nconst router = Router()\n\nrouter.post('/image/upload', async (req, res) =\u003e {\n    // 最小のpng\n    const reqBodyMock = 'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAACklEQVQIHWP4DwABAQEANl9ngAAAAABJRU5ErkJggg=='\n\n    await uploadToS3(reqBodyMock)\n\n    return res.status(201)\n  }\n)\n\napp.use(router)\napp.listen('3000')\n```\n\n### multerS3でクライアントのフォームから送信された画像を保存する\n\n`multer.js`\n```js\nimport multer from 'multer'\nimport multerS3 from 'multer-s3'\nimport { s3client } from './s3'\n\nexport const multerUpload = multer({\n  storage: multerS3({\n    s3: s3client,\n    bucket: AWS_S3_BUCKET_NAME,\n    metadata: (_req, file, cb) =\u003e {\n      cb(null, { fieldName: file.fieldname })\n    },\n    key: (_req, file, cb) =\u003e {\n      cb(null, file.originalname)\n    }\n  })\n})\n```\n\n`index.js`\n```js\nimport express, { Router } from 'express'\nimport { uploadToS3 } from './s3'\nimport { multerUpload } from './multer'\n\nconst app = express()\nconst router = Router()\n\nrouter.post(\n  '/image/upload',\n  multerUpload.single(),\n  async (req, res) =\u003e {\n    const file = req.file // 色々都合のいいファイル（本例だとimage/pngだったり的な）\n\n    // s3multerでポート番号が削られてしまうので無理やりつける。\n    const fileLocation = IS_DEV\n      ? file.location.replace(\n          /^http:\\/\\/localhost/,\n          'http://localhost:9000'\n        )\n      : file.location\n\n    return res.status(200).json({location: fileLocation})\n  }\n)\n\napp.use(router)\napp.listen('3000')\n```\n\n### 参考文献\n- [ローカルS3環境(minio)を構築する - Qiita](https://qiita.com/reflet/items/3e0f07bc9d64314515c1)\n- [最小のpng画像](https://yosiopp.net/archives/225/)\n\n### 関連用語\n- busboy\n- multer\n- multerS3\n"},{"slug":"mp3-scrap","frontmatter":{"title":"mp3について","description":"NeoVimとvoltaを使うと必ずこの問題にぶち当たるのでは？","date":"2024-01-14","tag":["mp3","音楽"]},"content":"\n## まとめ\n- 自分のモチベの言語化で人に見せるようではない。\n- mp3の規格書は有料だからほぼ公開されてない。OSSの[Flac](https://gitlab.xiph.org/xiph/flac)でも読んでおけ\n\n\n## この記事を書いた動機\n[誰が音楽をタダにした？　巨大産業をぶっ潰した男たち (早川書房)](https://www.amazon.co.jp/%E8%AA%B0%E3%81%8C%E9%9F%B3%E6%A5%BD%E3%82%92%E3%82%BF%E3%83%80%E3%81%AB%E3%81%97%E3%81%9F%EF%BC%9F-%E5%B7%A8%E5%A4%A7%E7%94%A3%E6%A5%AD%E3%82%92%E3%81%B6%E3%81%A3%E6%BD%B0%E3%81%97%E3%81%9F%E7%94%B7%E3%81%9F%E3%81%A1-%E6%97%A9%E5%B7%9D%E6%9B%B8%E6%88%BF-%E3%82%B9%E3%83%86%E3%82%A3%E3%83%BC%E3%83%B4%E3%83%B3-%E3%82%A6%E3%82%A3%E3%83%83%E3%83%88-ebook/dp/B01LYMTJ0M)という本を読んでいたらmp3という音楽ファイルフォーマットの開発それ自体と規格として広げるための難しさが書かれていた。  \n特に開発に関しては、音響心理学などに興味がある自分としては、人間の特性に合わせていくつもの（何個？）チューニングが施されてるとはなぜか想像していなかった（ローパスフィルターなどが1,2個だと思い込んでいた）ので、この機会にmp3を学ぶためのヒントとして読書途中に探した物を残しておく。\n\n\n## 参考リンク一覧\n\n- [デジタルオーディオの仕組み - 音声圧縮の原理 MP3, AAC, ATRAC, etc.](https://align-centre.hatenablog.com/entry/2014/04/28/222154)\n  - すご〜くざっくりとmp3がどういう処理をしているのか思い出すのにいい。\n- [Spotifyのオーディオファイル形式 - Spotify](https://support.spotify.com/jp/artists/article/audio-file-formats/)\n  - spotifyはアーティストからFLAC形式でオーディオファイルを送信するのを推奨している。それをspotifyが適切な音質オプションに合わせて配信している。\n- [MP3 - Wikipedia](https://ja.wikipedia.org/wiki/MP3)\n  - mp3の状況（規格書が有料）をここで知った\n- [CD 11172-3\nCODING OF MOVING PICTURES AND ASSOCIATED AUDIO\nFOR DIGITAL STORAGE MEDIA AT UP TO ABOUT 1.5 MBIT/s\nPart 3 AUDIO\nCONTENTS ](https://csclub.uwaterloo.ca/~pbarfuss/ISO11172-3.pdf)\n  - mp3の規格書の極々一部と思われるもの\n- [Xiph.Org / flac · GitLab](https://gitlab.xiph.org/xiph/flac)\n  - 現在音楽業界で広く使われているFlacのソースコード"},{"slug":"mtg-deck-immortal-warm","frontmatter":{"title":"「グリクシスヒルワーム」デッキ紹介(MTGA・スタンダード)","description":"怪物的戦ヒル・ファイレクシアの肉体喰らい","date":"2023-01-15","tag":["Magic The Gathering","デッキレシピ","MTGアリーナ"]},"content":"\n\n年始からMTGアリーナを始め、ファイレクシアの肉体喰らいにほれた結果このデッキを組み、主にBO1で回してようやくダイヤモンドに到達しました。\n\n##　コンセプト\n墓地に落としたファッティを利用しながら殴るシンプルなコンセプトのデッキ。  \nデッキの核である怪物的戦ヒル、ファイレクシアの肉体喰らいを中盤に展開し、相手に除去などで対応させた後にオリヴィアで釣りながら殴ってゲームエンド。\n![デッキ全容](https://i.gyazo.com/725b9ef9a22d6c69a09ae090c037bb21.jpg)\n\n## デッキの長所\nコントロール系のデッキに対して強め。  \nでかいクリーチャーが盤面に出るので楽しい。  \nデカブツを墓地に落とすためのルーティングが大量なので、結果的に安定する。\n\n## デッキの短所\nアグロ系デッキ全般。赤単にはほぼ何もさせてもらえず負ける。白や緑などもカウンターを増やしながら横に並べられる動きをされると無理。  \nでかいクリーチャーが除去られたり1/1に止められたりするのは悲しい。\n\n\n## メインカード紹介\n* 怪物的戦ヒル  \n  最大で4マナ15/15として君臨してくれる。\n* ファイレクシアの肉体喰らい  \n  ワームとぐろエンジンを彷彿とさせる大好きなカード。このデッキを考え始めるきっかけ。\n* 鏡割りの寓話  \n  ただのパワーカード。そのため、上のメインカードをコンセプトに組み上げて行ったのに、寓話を最大限生かす形にどんどんなっていった。\n* 速攻付与系\n  * 無謀な嵐探し  \n  2Tルーティングで終末の影を墓地に、3T嵐探し、4T戦ヒルで殴るなど気持ちいい。ターン終了時まで速攻は有効なので、第一メインで出した税血の収穫者のタップ能力を第二メインで使うなども良い。\n  * 苦々しい再会\n  * 寓話（キキジキ起動能力）\n  * 真紅の花嫁、オリヴィア\n* 墓地肥やし系\n  * ルーティング\n    * 苦々しい再会\n    * 染み付いた耽溺\n    * 税血の収穫者(血トークン)\n    * 死体鑑定士\n    * 寓話(第二章)\n* リアニメイト系\n  * 真紅の花嫁、オリヴィア\n\n\n\n## リスト入りしなかったカード\n* 試作クリーチャーたち\n  * 突き刺す戦耕し  \n  一番の迷いどころ。さすがに接死を持ってるだけあり、緑相手などには強いが見送り\n  * 鉄蹄の猪  \n  フィニッシュのタイミングで魂力を使いたいために手札に残しておくが、序盤に落ちれないなら意味がなかったため不採用\n  * 巨体変異  \n  試作で出すとサイズ的に物足りない。コピー元がETBだけでも強いやつが伝説か税血の収穫者ぐらい、小粒システムクリーチャーの強化という文脈にもデカブツ主体のこのデッキには合わない。使ってて面白かったけど不採用\n\n* 街並みの地ならし屋  \n自力で出すようなマナ加速がないため不採用。こいつを入れるならもう一枚、終末の影を投入した方が安定する。\n\n* 伝説のクリーチャー全般  \nキキジキでデカブツをコピーしたい盤面は結構あるのだが、伝説だとコピーできなくてテンポロスが負けにつながった感覚。\nシェオルドレッドやシェオルドレッドやトクスリル、ザンダー卿など強いだけで詰に行きづらいカードだった。  \n逆に採用したオリヴィアと殉至は回避能力(飛行)で殴りに行けることが多く仕事できることが多かったので採用している。\n\n* リアニメイト系のソーサリー(インスタント)  \n戦ヒルなど、戦場に自力で出しやすいデカブツが主体なので5マナ払ってまで出したいという機会が少ない。1マナの不死なる悪意だけワンチャン。ギックスの残虐は悠長、殺戮者の目覚めはワンチャン\n\n* 死体の爆発\nありかも。予算不足で試せてない\n\n* 貪る混沌、碑出告\n予算不足で試してないが、そんな強くなさそう\n\n\n* PW全般\n  * 3~5マナ程度で寓話や戰ヒルが動きたいタイミングと被る。これらで動きづらく長期戦に持ち込みたい時はヴェリアナがあるといいかもしれないが、4マナ以降が生物のみの構成に多少のメリットを感じてるため入れづらい。\n  * 候補\n    * ヴェールのリリアナ\n    * 敵対するもの、オブ・ニクシリス\n\n* 流城のルノ\n面白そうなロマン枠。流城のルノが通る時はほぼ勝ちな状況なのでダメ押しのロマン野郎でしかなかった。\n\n* 貪る混沌、碑出告\n条件が難しいがルノとシナジーがありながらマナ総量分のダメージ飛ばせる。\n\n* 貴顕廊一家の魔除け\n殴り勝つデッキなので死体鑑定士に軍配があり。3マナから動き出す\n\n* ランタンを携えるもの\nこのデッキのデカブツに足りないの回避能力付与。今のマナ基盤で1ターン目から青で動くことが難しいので保留したまま。\n\n* 代償破\nうまくいけば15点パンチ。ヒル+代償破=8マナなので1ターンに決めきれないのが痛い。\n\n* 真夜中の空、殉至\n強い。しかしフィニッシャーとして即効性がなく不採用\n\n\n## インポート用デッキリスト\n### 日本語\n```txt\nデッキ\n4 憑依された峰 (MID) 263\n2 山 (NEO) 290\n4 沼 (NEO) 288\n4 鏡割りの寓話 (NEO) 141\n3 嵐削りの海岸 (VOW) 265\n2 難破船の湿地 (MID) 267\n2 島 (BRO) 271\n1 見捨てられたぬかるみ、竹沼 (NEO) 278\n4 ファイレクシアの肉体喰らい (BRO) 121\n2 真紅の花嫁、オリヴィア (VOW) 245\n4 硫黄泉 (DMU) 256\n2 無謀な嵐探し (MID) 157\n1 ザンダーの居室 (SNC) 260\n4 怪物的戦ヒル (DMU) 98\n2 死体鑑定士 (SNC) 178\n2 終末の影 (SNC) 94\n3 鏡殻のカニ (NEO) 63\n1 天上都市、大田原 (NEO) 271\n4 苦々しい再会 (BRO) 127\n4 税血の収穫者 (VOW) 232\n4 染みついた耽溺 (SNC) 227\n1 刃とぐろの蛇 (BRO) 229\n\nサイドボード\n3 強迫 (M21) 96\n1 家の焼き払い (MID) 131\n1 兄弟仲の終焉 (BRO) 128\n2 削剥 (VOW) 139\n2 絶望招来 (NEO) 101\n1 強迫 (M21) 96\n3 兄弟仲の終焉 (BRO) 128\n2 否認 (M20) 69\n```\n\n### 英語\n```txt\nDeck\n4 Haunted Ridge (MID) 263\n2 Mountain (NEO) 290\n4 Swamp (NEO) 288\n4 Fable of the Mirror-Breaker (NEO) 141\n3 Stormcarved Coast (VOW) 265\n2 Shipwreck Marsh (MID) 267\n2 Island (BRO) 271\n1 Takenuma, Abandoned Mire (NEO) 278\n4 Phyrexian Fleshgorger (BRO) 121\n2 Olivia, Crimson Bride (VOW) 245\n4 Sulfurous Springs (DMU) 256\n2 Reckless Stormseeker (MID) 157\n1 Xander's Lounge (SNC) 260\n4 Monstrous War-Leech (DMU) 98\n2 Corpse Appraiser (SNC) 178\n2 Shadow of Mortality (SNC) 94\n3 Mirrorshell Crab (NEO) 63\n1 Otawara, Soaring City (NEO) 271\n4 Bitter Reunion (BRO) 127\n4 Bloodtithe Harvester (VOW) 232\n4 Tainted Indulgence (SNC) 227\n1 Bladecoil Serpent (BRO) 229\n\nSideboard\n3 Duress (M21) 96\n1 Burn Down the House (MID) 131\n1 Brotherhood's End (BRO) 128\n2 Abrade (VOW) 139\n2 Invoke Despair (NEO) 101\n1 Duress (M21) 96\n3 Brotherhood's End (BRO) 128\n2 Negate (M20) 69\n\n```"},{"slug":"mtg-deck-orzhov-poison-aggro","frontmatter":{"title":"「オルゾフ毒性アグロ」デッキ紹介(MTGA・スタンダード)","description":"怪物的戦ヒル・ファイレクシアの肉体喰らい","date":"2023-03-10","tag":["Magic The Gathering","デッキレシピ","MTGアリーナ"]},"content":"\n##　コンセプト\nプレイヤーズコンベンション横浜で佐藤レイさんがセレズニアポイズンデッキで優勝したことに影響されて作成した。  \n佐藤レイさんのリストを参考にしつつ、「毒性全振りなら自分だとこうするかな〜」と考えたものを回してみたら、調整なしの状態で予想以上に勝ててしまっている。  \nスタンbo1のプラチナ帯で13戦12勝1敗。\n![デッキ全容](https://i.gyazo.com/0c59b6484a4839907962a75f2f817e8e.jpg)\n\n## デッキの長所\n4~5キルが安定する。\n\n## デッキの短所\n生物のサイズが小さいので、赤単に祭典壊しなどの1点火力に悲鳴。\n\n\n## キーカード\n* 顎骨の決闘者  \n  このデッキのエース。攻撃が通れば毒性もしっかりと2回分反応する。\n* 屍気の拝領  \n  毒性2を付与\u0026装備クリーチャーを死亡時にリアニメイト。付与という言葉がややこしいが、毒性1のクリーチャーにつけたら毒性3のクリーチャーになる。強すぎる。\n\n\n## よくある動き解説\n### 理想ムーブ\n1T: 離反ダニ、スクレルヴ設置  \n2T: 離反ダニ、スクレルヴで1毒。 顎骨の決闘者設置  \n3T: 顎骨の決闘者に屍気の拝領、スクレルヴのタップ起動能力でさらに毒性付与。決闘者アタックで8毒。合計9毒  \n4T: 攻撃や胆液まみれの増殖などで10毒win\n\n## リスト入りしなかったカード\n* 苦痛ある選定  \n  黒い毒デッキに必ずといっていいほど採用されている優良除去だが、毒を増やすことに直接は関係ないので不採用\n\n## リスト入りしているが検討の余地あるカード\n* スクレルヴの巣  \n  今のリストの中で一番悠長なカード。2マナ1/1/毒1の伝染させる吸血者と入れ替えてもいいかもしれない。\n\n## インポート用デッキリスト\n### 日本語\n```txt\nデッキ\n1 見捨てられたぬかるみ、竹沼 (NEO) 278\n4 腐り腹のネズミ (ONE) 85\n4 屍気の拝領 (ONE) 99\n1 皇国の地、永岩城 (NEO) 268\n2 平地 (DMU) 262\n3 別館の歩哨 (ONE) 2\n3 ダニの突撃 (ONE) 6\n4 這い回る合唱者 (ONE) 8\n4 顎骨の決闘者 (ONE) 18\n4 離反ダニ、スクレルヴ (ONE) 33\n4 スクレルヴの巣 (ONE) 34\n4 胆液まみれ (ONE) 91\n2 沼 (ONE) 274\n4 ミレックス (ONE) 254\n4 種子中枢 (ONE) 259\n4 砕かれた聖域 (VOW) 264\n4 コイロスの洞窟 (DMU) 244\n4 多汁質の頭蓋住まい (ONE) 83\n\n```\n\n### 英語\n```txt\nDeck\n1 Takenuma, Abandoned Mire (NEO) 278\n4 Blightbelly Rat (ONE) 85\n4 Necrogen Communion (ONE) 99\n1 Eiganjo, Seat of the Empire (NEO) 268\n2 Plains (DMU) 262\n3 Annex Sentry (ONE) 2\n3 Charge of the Mites (ONE) 6\n4 Crawling Chorus (ONE) 8\n4 Jawbone Duelist (ONE) 18\n4 Skrelv, Defector Mite (ONE) 33\n4 Skrelv's Hive (ONE) 34\n4 Drown in Ichor (ONE) 91\n2 Swamp (ONE) 274\n4 Mirrex (ONE) 254\n4 The Seedcore (ONE) 259\n4 Shattered Sanctum (VOW) 264\n4 Caves of Koilos (DMU) 244\n4 Bilious Skulldweller (ONE) 83\n\n\n```"},{"slug":"mtg-deck-orzhov-poison-aggro2","frontmatter":{"title":"「オルゾフ毒性アグロ」デッキ紹介(MTGA・スタンダード)","description":"Magic The Gatheringのスタンダード(ファイレクシア完全なる統一期)ミシック到達構築","date":"2023-03-31","tag":["Magic The Gathering","デッキレシピ","MTGアリーナ"]},"content":"\n[前回の記事](/blog/mtg-deck-orzhov-poison-aggro)から多少の変更を加え、前回のミシック到達構築の試作ヒルよりもすんなりとミシックまで到達できてしまいました。  \nただし、BO1が強いデッキだと思ってBO1で最後まで回し続けました。  \nちなみにディミーア増殖(not毒)で3マナカイトの奥義から船砕きの怪物を叩きつけるのがマイブームです。  \n\n![最終日のランク](https://i.gyazo.com/703479a757bb0bb4d8aade4c789b73d5.png)\n\n![デッキ概要](https://i.gyazo.com/f78036fbd5bee3c89b73456f31688c1c.jpg)\n\n## 前回~今までの対戦を経た感想\nスクレルヴの巣はコントロールに強かったので、必須と言ってよかった。アグロ相手にも少し遅めだが、種子中枢と合わせれば十分戦える。  \n今回はサイドボードを作らなかったが、サイドを組むとしたら婚礼の発表は絶対に必要だなと思った。除去を耐え凌ぎながら場を整え、終盤にも火力アップをもたらすのはこのデッキにもやはり有用。  \nアグロが幅を利かせたからか、黒の除去に「梅澤敏郎の生涯」が採用されることが多くなってきた。  \nこのデッキにはキツすぎる除去で、そのせいなどもあってか勝率は感覚値だが55%~60%程度まで落ちついた気がする。  \nそれでもこれだけ勝てたのでやはりBO1でのアグロは大正義。\n\n## 前回からの変更\n### IN\n- 伝染させる吸血者 x4\n  - 2マナ帯の生物には回避能力持が欲しかったのでIN\n### OUT\n- 腐り腹のネズミ x4\n  - PIGで毒1つは最後の押し込みに役立つかもという程度で序盤・中盤に役立たなかったのでOUT\n\n\n## インポート用デッキリスト\n### 日本語\n```txt\nデッキ\n1 見捨てられたぬかるみ、竹沼 (NEO) 278\n4 屍気の拝領 (ONE) 99\n1 皇国の地、永岩城 (NEO) 268\n2 平地 (DMU) 262\n3 別館の歩哨 (ONE) 2\n4 這い回る合唱者 (ONE) 8\n4 顎骨の決闘者 (ONE) 18\n4 離反ダニ、スクレルヴ (ONE) 33\n4 スクレルヴの巣 (ONE) 34\n4 胆液まみれ (ONE) 91\n2 沼 (ONE) 274\n4 ミレックス (ONE) 254\n4 種子中枢 (ONE) 259\n4 砕かれた聖域 (VOW) 264\n4 コイロスの洞窟 (DMU) 244\n4 多汁質の頭蓋住まい (ONE) 83\n4 伝染させる吸血者 (ONE) 103\n3 ダニの突撃 (ONE) 6\n```\n\n### 英語\n```txt\nDeck\n1 Takenuma, Abandoned Mire (NEO) 278\n4 Necrogen Communion (ONE) 99\n1 Eiganjo, Seat of the Empire (NEO) 268\n2 Plains (DMU) 262\n3 Annex Sentry (ONE) 2\n4 Crawling Chorus (ONE) 8\n4 Jawbone Duelist (ONE) 18\n4 Skrelv, Defector Mite (ONE) 33\n4 Skrelv's Hive (ONE) 34\n4 Drown in Ichor (ONE) 91\n2 Swamp (ONE) 274\n4 Mirrex (ONE) 254\n4 The Seedcore (ONE) 259\n4 Shattered Sanctum (VOW) 264\n4 Caves of Koilos (DMU) 244\n4 Bilious Skulldweller (ONE) 83\n4 Pestilent Syphoner (ONE) 103\n3 Charge of the Mites (ONE) 6\n```"},{"slug":"mtg-deck-prototype-wurm.md","frontmatter":{"title":"【ミシック到達構築】「マルドゥ試作ヒル」デッキ紹介(MTGA・スタンダードBO3)","description":"怪物的戦ヒル・終末の影・試作","date":"2023-01-29","tag":["Magic The Gathering","デッキレシピ","MTGアリーナ"]},"content":"\n\n[前回のダイヤモンド到達構築](https://ikmnjrd.github.io/blog/mtg-deck-immortal-warm)から2週間ほどリストに変更を加えながらまわし、BO3をメインの主戦場に変えるなどした結果ようやくミシック対に到達できましたので、記念に書いておきます。  \nまだ土地を甘えてますが許してください。  \n\n![デッキ全容](https://i.gyazo.com/98f6d209f755672ac77aa4b3bcc9f400.jpg)\n\n\n\u003cimg alt=\"マナカーブ\" src=\"https://i.gyazo.com/6a72b184ee6b86057c879c1d46b6844a.png\" width=\"40%\"\u003e\n\n\n##　コンセプト\n前回と同じですが、墓地に落としたファッティを利用しながら殴るシンプルなコンセプトのデッキ。  \n序盤は墓地肥やし\u0026優良生物で流し、デッキの核である怪物的戦ヒル、ファイレクシアの肉体喰らいを中盤に展開し、相手に除去などで対応させた後にオリヴィアで釣りながら殴る。終盤は試作クリーチャーを本来のコストで展開するなどして勝ちを狙う  \n前回と違うのが、序盤はファイレクシアの宣教師で生き延びながら。リーサルは最速ではなく「回避しながらドデカパンチ」という色が出てきている。\n\n## 対戦感\n先攻ではかなり強い。7割くらい勝てる印象。逆に後手なら後手用のサイドにしたいくらいなので、メイン後手だとマッチを落とした気分になる。メイン後手だと3~4割くらいしか勝てない印象。  \n単色アグロには相変わらず苦戦するが、2マナ生物を増やしたことでなんとかなることが増えた。  \n相手のアーキタイプによってサイドを変えるというよりは先手後手でサイドを変える要素が強い。  \n\nサイド後の後手なら強迫、切り崩し、怒りの大天使などを投入。ヒルと終末の影などを1枚ずつ抜いて、先手の理想ムーブを2手遅れで遂行し、展開し終わった後の相手の対応次第でようやく5割の勝負に持ち込める展開が多い。\n\n## 対仮想敵\n基本的にメインはやること変えられないので、サイド後のつもりで書く。  \nアグロは全体的に苦手。  \nコントロールには強め。  \n\n### 赤単アグロ\u0026白単アグロ\n相手のブン周りは諦めるつもりで丁寧に除去\u0026絆魂クリーチャーで生き延びる。相手のリソース切れたところから巻き返す。\n\n### グルールアグロ\n赤単と白単よりも除去優先。相手の到達持ちのせいで飛行15点パンチなどが効きづらい。\n\n### ランプ系\n微有利な相手。\n相手の5T目などにファイ門などがくるので、デカブツはその後に叩きつけるイメージで動く。低マナ域から殴ることを優先。中盤に様子見ながら墓地にヒルや地ならし屋を落としておく。\n\n### 除去コン\n有利。やりたいこと優先であまり問題なし。\n\n## 前回からの主な違い\n* 青=\u003e白\n  * 集団失踪と鋼の熾天使を採用したかった。詳しくは下記参照。\n* 土地24枚=\u003e土地21枚\n  * メインの動きが3~4マナ。そしてルーティング苦々しい再会と税血の収穫者、鏡割りの寓話とあるのでこのくらいでちょうどよかった。しかしサイド後の後手だと少なく感じてしまう。\n* 除去呪文の投入\n  * 単色アグロが課題のこのデッキにおいて、兄弟仲の終焉を打とうとした3T目に相手の場にタフ4がいつの間にかいるので間に合ってないことが。そんなこともあり集団失踪をピン刺し。ギックスの残虐はリアニ要素がおまけでサーチが本命の銀の弾丸の装填役。\n  * 3マナ除去orブリンクで試作クリーチャーを除去回避しながら強化できる精霊界との接触をメインに採用。クリーチャーが強いデッキなので、ここぞという場面でしか除去には使わないため枚数は控えめ。\n* フィニッシャーの増量\n  * 街並みの地ならし屋。単純に強いけどこのデッキでは持て余すかと考えていたが、アゾリウスランプ(ウルザ)などのランプ系が増えてきていたので、返しのオリヴィアで割れるように採用。こいつを2枚入れるタイミングで4枚にしていた終末の影を3枚にした。\n  * ギックス残虐。豊富なフィニッシャーorピン刺し全体除去のシルバーバレット。\n  * 鋼の熾天使。主な役割は戦ヒルへの飛行付与。そして相手からのヘイト買い。\n* 序盤・中盤のやり過ごし\n  * ファイレクシアの宣教師。2マナ2/3のタフ重視スタッツと絆魂がえらい。マナカーブが少し変なデッキなので、空いた中盤にキッカーする動きが超優秀。\n  * 神憑く相棒。チャンプ\u0026キャントリッパー。軽量でデッキを邪魔しないえらいやつ。（...もっと2マナにドンピシャなカード欲しい。）ファイレクシア完全なる統一で赤2マナインスタントのルーティングがあったで、多分この枠に入る。\n\n\n## 前回リストから抜けたメイン級カード\n* 無謀な嵐探し  \n  メインの肉体喰らいや寓話を始め、鋼の熾天使が新しくメインに入ったり、横並び対策の兄弟仲の終焉など3マナが渋滞してる。鋼の熾天使の方がいつでも万能に動けたりヒルとよく噛み合うため残念ながらアウト。\n\n* 鏡殻のカニ  \n  メインの呪文が3マナであるこのデッキで3マナ構えながら、という場面はイコール6マナが使えることでオリヴィアを走らせることができる。1・2マナに強いやつがいないので、泣く泣くのリストラ。こいつがいないと青である意味もほぼ無くなってしまう、ぐらいに自分の中では衝撃だった。\n\n* 死体鑑定士  \n  グリクシスミッドレンジで活躍しているこいつだが、コントロール要素が薄いこのデッキではそんなに存在感がない。3マナに強い呪文が多いという理由も、もちろんある。\n\n## 前回リストと今回のリストの間で試したカード\n* 土建組一家の調達者  \n  使用感は楽しかった。ただ、先手の活躍が主になってしまう。後手が弱かったり、単色アグロが課題のこのデッキなのでファイレクシアの宣教師に席を譲る形に。\n* ギックスの命令  \n  強いが、このデッキの中で使うと相手を選ぶなという感想。そのためサイドへ。\n* 代償波  \n  意外と決めれる場面ある。決めれる場面とこれじゃなきゃいけない場面は違うのでサイドカードとして採用。主にグリクシスミッドレンジ用。\n\n\n\n## インポート用デッキリスト\n### 日本語\n```txt\nデッキ\n4 憑依された峰 (MID) 263\n2 山 (NEO) 290\n1 沼 (NEO) 288\n4 鏡割りの寓話 (NEO) 141\n1 見捨てられたぬかるみ、竹沼 (NEO) 278\n4 ファイレクシアの肉体喰らい (BRO) 121\n2 真紅の花嫁、オリヴィア (VOW) 245\n4 硫黄泉 (DMU) 256\n3 ファイレクシアの宣教師 (DMU) 27\n4 怪物的戦ヒル (DMU) 98\n3 終末の影 (SNC) 94\n4 苦々しい再会 (BRO) 127\n4 税血の収穫者 (VOW) 232\n1 ギックスの残虐 (DMU) 87\n2 砕かれた聖域 (VOW) 264\n2 日没の道 (VOW) 266\n1 平地 (ANB) 115\n2 精霊界との接触 (NEO) 40\n3 鋼の熾天使 (BRO) 38\n2 街並みの地ならし屋 (BRO) 233\n2 風に削られた岩山 (NEO) 282\n2 神憑く相棒 (NEO) 38\n1 集団失踪 (SNC) 10\n2 ラフィーンの塔 (SNC) 254\n\nサイドボード\n1 精霊界との接触 (NEO) 40\n3 強迫 (M21) 96\n2 兄弟仲の終焉 (BRO) 128\n1 切り崩し (DMU) 89\n2 兄弟仲の終焉 (BRO) 128\n1 切り崩し (DMU) 89\n1 代償破 (BRO) 148\n1 真夜中の空、殉至 (NEO) 102\n1 ギックスの命令 (BRO) 97\n1 ファイレクシアの宣教師 (DMU) 27\n1 怒りの大天使 (DMU) 3\n```\n\n### 英語\n```txt\nDeck\n4 Haunted Ridge (MID) 263\n2 Mountain (NEO) 290\n1 Swamp (NEO) 288\n4 Fable of the Mirror-Breaker (NEO) 141\n1 Takenuma, Abandoned Mire (NEO) 278\n4 Phyrexian Fleshgorger (BRO) 121\n2 Olivia, Crimson Bride (VOW) 245\n4 Sulfurous Springs (DMU) 256\n3 Phyrexian Missionary (DMU) 27\n4 Monstrous War-Leech (DMU) 98\n3 Shadow of Mortality (SNC) 94\n4 Bitter Reunion (BRO) 127\n4 Bloodtithe Harvester (VOW) 232\n1 The Cruelty of Gix (DMU) 87\n2 Shattered Sanctum (VOW) 264\n2 Sundown Pass (VOW) 266\n1 Plains (ANB) 115\n2 Touch the Spirit Realm (NEO) 40\n3 Steel Seraph (BRO) 38\n2 Cityscape Leveler (BRO) 233\n2 Wind-Scarred Crag (NEO) 282\n2 Spirited Companion (NEO) 38\n1 Depopulate (SNC) 10\n2 Raffine's Tower (SNC) 254\n\nSideboard\n1 Touch the Spirit Realm (NEO) 40\n3 Duress (M21) 96\n2 Brotherhood's End (BRO) 128\n1 Cut Down (DMU) 89\n2 Brotherhood's End (BRO) 128\n1 Cut Down (DMU) 89\n1 Pyrrhic Blast (BRO) 148\n1 Junji, the Midnight Sky (NEO) 102\n1 Gix's Command (BRO) 97\n1 Phyrexian Missionary (DMU) 27\n1 Archangel of Wrath (DMU) 3\n\n```"},{"slug":"mtg-deck-rakdos-cauldron-sacrifice","frontmatter":{"title":"23年9月期BO3ミシック到達デッキ「大釜サクリファイス」(MTGA・スタンダード)","description":"エルドレインの森スタンダード環境。アガサの大釜、ラバブリンクの英雄、オーシオン、軽蔑剣の狂戦士","date":"2023-09-26","tag":["Magic The Gathering","デッキレシピ","MTGアリーナ"]},"content":"\nジャパンオープン面白かったですね。白単の優勝には爽快感があって見ていて気持ちよかったです。  \n一方、アリーナで僕が盲目ネズミとタミヨウのコンボデッキを使ってるところで散々苦しめられたゴルガリミッドの入賞率も高く、さすがでした。  \n今回はそんな憎きゴルガリミッドレンジに対してめちゃくちゃ強いデッキを作りミシックに到達したので紹介します。  \n\n![メインデッキ](https://i.gyazo.com/cbbcec83fb7c63ee177c7a6694af4bc1.jpg)\n\n## コンセプト\n- アガサの魂の大釜を強く使おう\n- 流行りのゴルガリやディミーアといった黒系ミッドレンジに強い\n- あまり使ったことないカードも使えたらいいね\n\n手前味噌だが完成度が高く、使っていて非常に楽しいおすすめのデッキになった。  \n黒系のミッドレンジの一種だが調整した結果、あの黙示録の方のシェオルドレッドがメインから抜けるという快挙を達成した。  \nスタンのラクドスサクリファイスといえば鬼流の金床の方ではなくこっち！と言われる未来もありえそうなぐらいいい感じです。\n\n## デッキの長所\n- アグロとミッドレンジの中間的な速さで、細かい動きが得意な分、ミッドレンジを狩れるミッドレンジ\n  - メインはインスタントソーサリーは4枚体制だが、豊富な除去ルート\n    - ヴォルダーレンの興奮探しや税血の収穫者、死鳴らし鬼\n  - 屈指の盤面対応力\n- リアニなど墓地利用に強い\n  - メインからアガサの大釜と駆け抜け侯の墓地対策8枚体制\n- 妨害に強い\n  - 基本スタッツの高いクリーチャーで構成しコンボに依存しない\n  - 個々のシナジーが高いカード群\n  - 打ち消されて困るカードが全体除去ぐらい\n  - 1~3マナのクリーチャーメインだが、大釜次第でこれらさえ墓地にいた方が強いまである\n- ロングゲームに強い\n  - **アガサの魂の大釜**と27枚のクリーチャー\n  - 告別をされるような最終局面でも場面を崩してドローを狙える\n    - 軽蔑剣の狂戦士+アガサの魂の大釜\n  - 序盤からの詰めと白タッチして入れたミシュラン\n\n\n## デッキの短所\n- トークンなどの軽量横並びに弱い\n  - デッキの純除去スペルの半分は全体除去\n- 早過ぎるデッキにはアガサで有利に持っていくまで行かない\n  - 一番の苦手は赤単アグロ+ウラブラスクの溶鉱炉的なデッキ。無理。\n- 中盤の最善手を取り続けることがかなり難しい\n- 5cドメインの装飾庭園を踏み歩くものがなどの3マナタフ4生物がキツイ。とはいえ5cドメインには微不利くらい\n\n\n## メインカード紹介\n- アガサの魂の大釜\n  - 基本的には構えておき、相手の除去に合わせて除去のターゲットをサクってアドを取るか、相手のリアニ先を奪い取るかという運用が基本。自ターンのコンバットの点数を伸ばすために自ターンに起動は弱い。\n\n- 軽蔑剣の狂戦士\n  - ドロソ。除去のフィズらせ役その1。1ターン目に置ける選択肢があったとしてもミシュランのセットを優先したい。2ターン目以降に1マナ立てながら展開するのがゲームを有利に進めやすい。使ってる人見たことないカードその1。\n\n- ヴォルダーレンの興奮探し\n  - 万能兵器。除去のフィズらせ役その2。パワー3のクリチャーがデッキに多いのは、これと組み合わせてシェオルの除去が容易になるから。放浪皇などプレインズウォーカーの処理もこれで。\n\n- 下水王、駆け抜け侯\n  - 実はこのデッキで一番使ってて強いと思うカード。アガサの種の用意と本人も優秀なスタッツで切り崩しが当たらず、相手の墓地も抜ける。\n\n- スランの蜘蛛\n  - 起動型能力用のパワーストーン生成と壁と終盤のサーチ\n\n- ラバブリンクの英雄、オーシオン\n  - 使ってる人見たことないカードその2。起動型能力が中盤の膠着とフィニッシュにとても役立つ。シェオルをメインから退けた張本人で気持ちが良過ぎる。ちゃんと強いよ。ジャクシスも似た効果だが、血トークン+アガサで擬似即効的に起動できるので、ジャクシスのメリットよりもオーシオンのメリットが際立つ...~~伝説だし1枚ずつの採用で良かったかもと冷静に思ってしまった~~\n\n- 死鳴らし鬼\n  - 使ってる人見たことないカードその3。クリーチャーの単体性能はそこまで高くないカードが多く、コンバットトリックが豊富かつ駆け抜け侯のトークンなど横並びもそこそこするので、メインではシェオルやエリシュなどよりも使いやすかった。このカードだけでフィニッシュまで行けることは稀。正直自由枠\n\n- 眠らずの露営\n  - ラクドスといいつつミシュランのためにタッチしてる白の理由。アガサや興奮探しとの相性よし。タッチ白だと危難の道のの切除コストも払えるのでこっち。ゴルガリのミシュランとは迷った。\n\n\n## サイドカードと解説\n- 黙示録、シェオルドレッド\n  - 対赤単最終兵器。メインではマナを構えたいこのデッキからしたら重くて出しづらいことが多く、もし無理に出そうとして打ち消されたりした際には何も仕事ができない。終盤のトップ勝負に強いが、人体改造機や駆け抜け侯など終盤のトップ勝負でも横並びが期待できるこのカードよりもオーシオンに軍配が上がった。\n\n- 機械の母、エリシュ・ノーン\n  - 対5cドメイン系のデッキ用サイドボード。\n\n- 機能不全ダニ\n  - 軽いディッチャ生物。本体は緑1マナ要求だがアガサに入れれば無色マナ要求になるので\n\n- シェオルドレッドの勅令\n  - 対フレンズ用。\n* 石の脳\n  * 白系コントロールにおける唯一の弱点になる告別対策。そのため一巻の終わりとは用途が違う\n\n* 執念の徳目\n  * 対アグロ用のドレインカードとしての運用がほぼ全て。\n\n## リスト入りしなかったカードとその理由\n- 戦闘バエの群れ\n  - 接死で相打ちよりも解答を探しにチャンプしながらドローしたい場面の方が多い\n\n- 進化した潜伏工作員\n  - このデッキには、実際に試すまでもなく悠長すぎるファイレクシアンもいないので、不採用\n\n- 流星の信奉者、ゴロゴロ\n  - 改善の条件を満たしやすく5/5フライヤーを作れる機会も結構あったが、2マナ域にはパワー3が欲しかったことと伝説であることと、トークン生成能力が悠長気味なのでそこそこよかったが不採用。\n\n- もつれる群体\n  - 後手に弱過ぎる。ランプ系デッキなど、こちらが早期決着を狙う際のサイドカードとして入れてもいいかもしれないが強迫の方が流石に強いよね。\n\n- スランの夜警\n  - 自ターンにしか誘発しないので、相手ターンに動きがちなこのデッキと若干相性が悪い。相手ターンに誘発してくれれば...\n\n- 人体改造機の冠\n  - 入れるとしたら蒐集家の保管庫と交代の枠かと思う。\n\n- 甦りし悪夢、ブレイズ\n  - リソースを丁重に扱うこのデッキとはあまり相性が良くない。伝説だし、駆け抜け候ほどいつでもアドという能力でもないので不採用。\n\n- ヨーグモスの法務官、ギックス\n  - 起動型能力を持つが、7マナ使える終盤の手札には余裕がなく、余るカードもダブったアガサくらい。血トークンでルーティングできれば不要牌が豊富に揃えた有効なクリーチャーになるので、必要ない。\n\n- 全軍突撃\n  - 正直あり。喉首と入れ替えるかもしれない。ただ、アグロ相手には喉首の方が取り回しやすいので。\n\n- ランクルのいたずら\n  - 自分のクリーチャーが数体並びがちで数枚の手札もありがちなこのデッキとの相性は微妙だった。\n\n- 焼炉の手綱\n  - サクリ系能力と合わせて決まると強かったりするが場面と相手のデッキを選び過ぎる\u0026アガサの\n\n- 街並みの地ならし屋\n  - スランの蜘蛛を4積みでも8マナに届かないことが多い。オーシオンでコピーできたら強過ぎるが、税血の収穫者や興奮探し、スランの蜘蛛で十分だった。\n\n- +1カウンター等のインスタントソーサリー\n  - 不死なる悪意などいいかもと思ったが、アガサの魂の実がない状況が弱くクリーチャー濃度が高いほど使いやすいデッキになるという判断\n\n- PW全般\n  - 候補としてヴェリアナやオブニク、アショクやソリンなどがあるがインソー全般を少なくした理由と同じところと、何より継続的アドは豊富な起動型能力とアガサで十分だと感じたので0枚採用\n\n### 採用基準まとめ\n2~3マナのクリーチャーが主体。3マナは特に採用したいクリーチャーが多かったが、シナジーはありきだが、癖をあまり感じず使える3種が残った。  \n4マナ以上は自由枠という感がまだするので、まだまだ残りのエルドレインの森環境を色々回しながら試していきたいと思う。  \n\n\n## インポート用デッキリスト\n### 日本語\n```txt\nデッキ\n4 アガサの魂の大釜 (WOE) 242\n1 山 (LTR) 269\n4 ヴォルダーレンの興奮探し (MOM) 171\n1 沼 (LTR) 267\n4 軽蔑剣の狂戦士 (MOM) 124\n2 喉首狙い (BRO) 102\n4 税血の収穫者 (VOW) 232\n4 黒割れの崖 (ONE) 248\n4 憑依された峰 (MID) 263\n2 硫黄泉 (DMU) 256\n1 見捨てられたぬかるみ、竹沼 (NEO) 278\n4 下水王、駆け抜け侯 (WOE) 97\n1 反逆のるつぼ、霜剣山 (NEO) 276\n2 ミレックス (ONE) 254\n1 マイコシンスの庭 (ONE) 256\n3 剃刀鞭の人体改造機 (BRO) 122\n1 蒐集家の保管庫 (WOE) 244\n2 眠らずの露営 (WOE) 257\n3 砕かれた聖域 (VOW) 264\n2 コイロスの洞窟 (DMU) 244\n2 ラバブリンクの英雄、オーシオン (MOM) 334\n2 危難の道 (VOW) 124\n4 スランの蜘蛛 (BRO) 254\n2 死鳴らし鬼 (MAT) 13\n\nサイドボード\n3 強迫 (ONE) 92\n2 機能不全ダニ (BRO) 199\n2 切り崩し (DMU) 89\n2 シェオルドレッドの勅令 (ONE) 108\n1 石の脳 (BRO) 247\n1 執念の徳目 (WOE) 115\n2 黙示録、シェオルドレッド (DMU) 107\n2 機械の母、エリシュ・ノーン (ONE) 10\n\n```\n\n### 英語\n```txt\nDeck\n4 Agatha's Soul Cauldron (WOE) 242\n1 Mountain (LTR) 269\n4 Voldaren Thrillseeker (MOM) 171\n1 Swamp (LTR) 267\n4 Scorn-Blade Berserker (MOM) 124\n2 Go for the Throat (BRO) 102\n4 Bloodtithe Harvester (VOW) 232\n4 Blackcleave Cliffs (ONE) 248\n4 Haunted Ridge (MID) 263\n2 Sulfurous Springs (DMU) 256\n1 Takenuma, Abandoned Mire (NEO) 278\n4 Lord Skitter, Sewer King (WOE) 97\n1 Sokenzan, Crucible of Defiance (NEO) 276\n2 Mirrex (ONE) 254\n1 The Mycosynth Gardens (ONE) 256\n3 Razorlash Transmogrant (BRO) 122\n1 Collector's Vault (WOE) 244\n2 Restless Bivouac (WOE) 257\n3 Shattered Sanctum (VOW) 264\n2 Caves of Koilos (DMU) 244\n2 Orthion, Hero of Lavabrink (MOM) 334\n2 Path of Peril (VOW) 124\n4 Thran Spider (BRO) 254\n2 Death-Rattle Oni (MAT) 13\n\nSideboard\n3 Duress (ONE) 92\n2 Haywire Mite (BRO) 199\n2 Cut Down (DMU) 89\n2 Sheoldred's Edict (ONE) 108\n1 The Stone Brain (BRO) 247\n1 Virtue of Persistence (WOE) 115\n2 Sheoldred, the Apocalypse (DMU) 107\n2 Elesh Norn, Mother of Machines (ONE) 10\n\n```"},{"slug":"narrative-of-my-criteria-for-tech-selection","frontmatter":{"title":"へっぽこエンジニアの技術選定時の頭の中","date":"2022-01-07","tag":["ポエム"]},"content":"\n私は2020年12月からWebエンジニアとして働いている小市民です。\n\n## 2022/1\n世の中のフロントエンドプロジェクトではstorybookなるものが使われているらしいな...\nとりあえず神ツールであるReactとWebpackで使ってみるとするか...\n最新のWebpack5だとWebpack4-\u003e5からの破壊的変更のせいでstorybookがそのまま使えないだと？！！バッチが配布されているらしいが...\nじゃあWebpackではなく何やら爆速と話題のesbuildは、、、cssをインポートできないというブログがちらほら...？\n\n[公式](https://esbuild.github.io/content-types/#css-from-js)によると、CSSモジュールとしてのインポートはまだできないって書いてある。\n\u003eYou can also import CSS from JavaScript. When you do this, esbuild will gather all CSS files referenced from a given entry point and bundle it into a sibling CSS output file next to the JavaScript output file for that JavaScript entry point. So if esbuild generates app.js it would also generate app.css containing all CSS files referenced by app.js. Here's an example of importing a CSS file from JavaScript:\n\u003e```javascript\n\u003eimport './button.css'\n\u003e\n\u003eexport let Button = ({ text }) =\u003e\n\u003e  \u003cdiv className=\"button\"\u003e{text}\u003c/div\u003e\n\u003e```\n\u003eNote that esbuild doesn't yet support CSS modules, so the set of export names from a CSS file is currently always empty. Supporting a basic form of CSS modules is on the roadmap.\n\n\nふーん。とりあえずstorybookとviteをインストールして...ん？\n今webpackって見えたような...webpackいるな...\n\n\n\n```javascript\nwhile (何かいいの見つかればな〜){\n  （...GitHubで「storybook vite」で検索）\n  （...!!...😣）\n}\n```\n\nこの文章はなんの役に立つんですかね？（疑問）\n"},{"slug":"neovim-volta","frontmatter":{"title":"NeoVimとvoltaを併用するとNodeを見つけてくれない問題","description":"NeoVimとvoltaを使うと必ずこの問題にぶち当たるのでは？","date":"2022-10-13","tag":["Node.js","NeoVim","JavaScript","volta"]},"content":"\n## 環境\n\n| 関連ソフトウェア | バージョン |\n|:--------------|:---------|\n| macOS         | 12.6     |\n| NodeJS        | 16.17.0  |\n| volta         | 1.0.8    |\n| NeoVim        | 8.0      |\n\n\n## 結論\nvoltaを使うなら[voltaのIssue](https://github.com/volta-cli/volta/issues/866)にあるようにinit.vimに以下のような記述をしておく。\n\n```vim\nif executable('volta')\n  let g:node_host_prog = trim(system(\"volta which neovim-node-host\"))\nendif\n```\n\n## 経緯とシューティングタイムライン\n仕事でNeoVimは一切使っていないのですが、休日趣味的に開いてみたらなんか様子がおかしい。\n\nNeoVimを開いて`:checkhealth provider`を入力すると、以下のようなメッセージ。\n\n```markdown\nprovider: health#provider#check\n========================================================================\n\n## Node.js provider (optional)\n  - INFO: Node.js: v16.17.0\n  - WARNING: Missing \"neovim\" npm (or yarn, pnpm) package.\n    - ADVICE:\n      - Run in shell: npm install -g neovim\n      - Run in shell (if you use yarn): yarn global add neovim\n      - Run in shell (if you use pnpm): pnpm install -g neovim\n      - You may disable this provider (and warning) by adding `let g:loaded_node_provider = 0` to your init.vim\n\n```\n\n`npm install -g neovim`もしくは`volta install neovim`をしても変わらない。  \nここで[公式のHelp](https://neovim.io/doc/user/provider.html)を読むと、  \n\n\u003e By default, Nvim searches for \"neovim-node-host\" using \"npm root -g\", which can be slow. To avoid this, set g:node_host_prog to the host path: \u003ccite\u003e[Provider - Neovim docs](https://neovim.io/doc/user/provider.html)\u003c/cite\u003e\n\n自分のvoltaを使ってる環境で`npm root -g`を実行すると以下のような結果に。\n```sh\n/Users/ike/.volta/tools/image/node/16.17.0/lib/node_modules\n```\n\nということで、`g:node_host_prog`オプションを設定したいが、うまくいかん。  \nそもそもvoltaを使ってグローバルインストールしたパッケージは`/Users/ike/.volta/bin/volta-shim`にshimとしてインストールされ、シンボリックリンクが貼られる形をとっている。  \nこんな感じ  \n```sh\n% ls -al ~/.volta/bin\ndrwxr-xr-x  12 ike  staff      384 Oct 13 16:45 .\ndrwxr-xr-x   9 ike  staff      288 Sep 10 23:29 ..\nlrwxr-xr-x   1 ike  staff       32 Sep 21 21:34 http-server -\u003e /Users/ike/.volta/bin/volta-shim\nlrwxr-xr-x   1 ike  staff       32 Sep 15 23:36 memlab -\u003e /Users/ike/.volta/bin/volta-shim\nlrwxr-xr-x   1 ike  staff       32 Oct 13 16:45 neovim-node-host -\u003e /Users/ike/.volta/bin/volta-shim\nlrwxr-xr-x   1 ike  staff       32 Sep 10 23:29 node -\u003e /Users/ike/.volta/bin/volta-shim\nlrwxr-xr-x   1 ike  staff       32 Sep 10 23:29 npm -\u003e /Users/ike/.volta/bin/volta-shim\nlrwxr-xr-x   1 ike  staff       32 Sep 10 23:29 npx -\u003e /Users/ike/.volta/bin/volta-shim\n-rwxr-xr-x   1 ike  staff  6522504 Jun  2 09:14 volta\n-rwxr-xr-x   1 ike  staff  4771376 Jun  2 09:14 volta-migrate\n-rwxr-xr-x   1 ike  staff  5522480 Jun  2 09:14 volta-shim\nlrwxr-xr-x   1 ike  staff       32 Sep 10 23:29 yarn -\u003e /Users/ike/.volta/bin/volta-shim\n```\n\nわからん状態だったため、GitHubを探し、[結論](#結論)部分でも貼ったコードをコピペして終了。  \nVim(NeoVim)わからん。  \n\n### 周辺用語\n- Shim\n\n### 参考文献\n- [volta + neovim compatibility issues · Issue #866 · volta-cli/volta](https://github.com/volta-cli/volta/issues/866)\n- [Understanding Volta | Volta](https://docs.volta.sh/guide/understanding#managing-your-toolchain)\n- [Provider - Neovim docs](https://neovim.io/doc/user/provider.html)\n- [Shim と Polyfill](https://qiita.com/ybiquitous/items/3104beb84b78ca15f407)"},{"slug":"nestjs-why-disable-strict","frontmatter":{"title":"Nest.jsってなんでstrictNullChecksがデフォルトでfalseなの？","description":"Nest.jsが採用された炎上案件に放り込まれた時の疑問の備忘録","date":"2023-08-07","tag":["Nest.js","JavaScript"]},"content":"\n### TL;DR\nNest.jsのインストールを公式ドキュメントに何も考えずに沿っていくと、TypeScriptユーザーが怒りそうな設定が放り込まれたtsconfigができあがってる。\n\n\n### 疑問に遭遇した状況\nAPIサーバーにNest.jsを採用したプロジェクトに途中参加した時、「型からnullが落ちるなー」と思っていた。  \n私はNest.jsも初めてで、TypeORMなど他にも初めてのフレームワークだらけだったので、ここら辺の設計思想かな？と逡巡したが、普通にtsconfigでstrictNullChecksがfalseになっていて愕然とした。\n\n### なんでstrictNullChecksがfalseになるの？\n[公式のGetting Started](https://docs.nestjs.com/)をただなぞっていくと、以下のような`tsconfig.json`ができる...\n```json\n{\n  \"compilerOptions\": {\n    ...\n    \"strictNullChecks\": false,\n    \"noImplicitAny\": false,\n    \"strictBindCallApply\": false,\n    \"forceConsistentCasingInFileNames\": false,\n    \"noFallthroughCasesInSwitch\": false\n  }\n}\n```\n\nこの件に不服を唱えたユーザーがいたが、Nest.js開発メンバー(@kamilmysliwiec)は以下のように返答を寄せている。(DeepL翻訳)\n\n\u003e 物事を可能な限り型安全にすることが一般的に望ましいということには同意しますが、strictNullCheck/noImplictAnyをtrueに設定すると学習曲線が険しくなることを念頭に置かなければなりません。適切なバランスを追求するのは常に難しい(中略)\n\u003e 幸い、これは差し迫った問題ではないように思える。誰かがこのオプションを使いたいのであれば、オンにすればいい。今のところ、このオプションをデフォルトにする予定はないが、時間の経過とともに変更されるかもしれない。\n\u003e \u003ccite\u003e出典: [Please turn on `strictNullChecks` option to be `true` · Issue #2057 · nestjs/nest-cli](https://github.com/nestjs/nest-cli/issues/2057#issuecomment-1549083356)\u003c/cite\u003e\n\n\n`--strict`オプションを使うと次のようにTSユーザーが慣れ親しんでるような設定になる。\n\n```json\n{\n  \"compilerOptions\": {\n    ...\n    \"skipLibCheck\": true,\n    \"strictNullChecks\": true,\n    \"noImplicitAny\": true,\n    \"strictBindCallApply\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"noFallthroughCasesInSwitch\": true\n  }\n}\n\n```\n\n`--strict`オプションを使ったり、開発初期にしっかりとtsconfigを見直そう。私と同じ状況になった人はブチギレながらtsconfigを設定し直した後に修正を入れまくろう。\n\n\n### 参考文献\n- [Please turn on `strictNullChecks` option to be `true` · Issue #2057 · nestjs/nest-cli](https://github.com/nestjs/nest-cli/issues/2057#issuecomment-1549083356)\n- [Documentation | NestJS - A progressive Node.js framework](https://docs.nestjs.com/)"},{"slug":"neumorphism-sample","frontmatter":{"title":"Neumorphismサンプル","date":"2022-02-01","tag":["CSS"]},"content":"\n## Sandbox\n\n\n\u003ciframe src=\"https://codesandbox.io/embed/beautiful-darwin-4gf3h?fontsize=14\u0026hidenavigation=1\u0026theme=dark\"\n     style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"beautiful-darwin-4gf3h\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   \u003e\u003c/iframe\u003e\n\n## ポイント\n\n### SVG化した文字に陰影をつける\n\ncssではこのようにすると綺麗に抜ける。\n```css\nsvg {\n  filter: drop-shadow(3px 3px 3px #fff)\n    drop-shadow(-3px -3px 1px rgba(0, 0, 0, 0.15));\n}\n```\nhtml上では、適宜fillやstrokeを設定する。\n\n[https://danmarshall.github.io/google-font-to-svg-path/](https://danmarshall.github.io/google-font-to-svg-path/)（[GitHubリポジトリ](https://github.com/danmarshall/google-font-to-svg-path)）を使って文字を事前にSVG化しておく。\n\nnpmパッケージで似たものを提供している人もいる[https://github.com/shrhdk/text-to-svg](https://github.com/shrhdk/text-to-svg)\n"},{"slug":"next-sitemap-sample","frontmatter":{"title":"Next.jsのサンプル集を参考にサイトマップを作成しようとしたらエラー","date":"2022-02-08","tag":["Node.js","Next.js","JavaScript"]},"content":"エラーに遭遇しました。\n\n### 環境\n- Node: v16.13.2\n- Next.js: 12.0.10\n- globby: 13.1.1\n\n[公式のサンプル集の「with-sitemap」](https://github.com/vercel/next.js/tree/canary/examples/with-sitemap)では以下のようなスクリプトをサーバー実行時に（`next.config.js`のisServerオブションをフラグにして）実行している。\n\n\n./scripts/generate-sitemap.js\n```javascript\nconst fs = require('fs')\nconst globby = require('globby')\n\nfunction addPage(page) {\n  const path = page.replace('pages', '').replace('.js', '').replace('.mdx', '')\n  const route = path === '/index' ? '' : path\n\n  return `  \u003curl\u003e\n    \u003cloc\u003e${`${process.env.WEBSITE_URL}${route}`}\u003c/loc\u003e\n    \u003cchangefreq\u003ehourly\u003c/changefreq\u003e\n  \u003c/url\u003e`\n}\n\nasync function generateSitemap() {\n  // Ignore Next.js specific files (e.g., _app.js) and API routes.\n  const pages = await globby([\n    'pages/**/*{.js,.mdx}',\n    '!pages/_*.js',\n    '!pages/api',\n  ])\n  const sitemap = `\u003curlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\u003e\n${pages.map(addPage).join('\\n')}\n\u003c/urlset\u003e`\n\n  fs.writeFileSync('public/sitemap.xml', sitemap)\n}\n\ngenerateSitemap()\n\n```\n\n\n遭遇したエラーは以下\n\n```bash\nError [ERR_REQUIRE_ESM]: require() of ES Module ./node_modules/globby/index.js from ./scripts/generate-sitemap.js not supported.\nInstead change the require of index.js in ./scripts/generate-sitemap.js to a dynamic import() which is available in all CommonJS modules.\n```\n\n最新のglobbyからはCommonJSが省かれたらしい。\n\n\n### 解決策\npackage.jsonを以下のように書き換え、`$npm i`を実行\n```json\n\"globby\": \"^13.1.1\",\n```\n↓\n```json\n\"globby\": \"^11.0.1\",\n```\n\nインストール後、ビルド時に`./public/sitemap.xml`が無事出力された。\n\n\n### 周辺用語\n- commonJS\n- ESModules\n\n\n### 参考文献\n- [Build a sitemap generator in Next.js - LogRocket Blog](https://blog.logrocket.com/build-sitemap-generator-nextjs/)"},{"slug":"node-package-json-keys","frontmatter":{"title":"ESモジュール内でJSONを読み込む方法","description":"ESモジュール内でJSONを読み込む方法","date":"2022-08-06","tag":["Node.js","JavaScript","JSON"]},"content":"\n### 楽ができるNodeのバージョン\nNode.js`v17.5~`もしくは`v16`の`--experimental-json-modules`オブションを使えば利用できます。\n\n```js\n/* index.js */\n// An import assertion in a static import\nimport info from `./package.json` assert { type: `json` };\n\n// An import assertion in a dynamic import\nconst { default: info } = await import(\"./package.json\", {\n  assert: {\n    type: \"json\",\n  },\n});\n```\n`v16`でオプション付きで実行する場合は`$ node --experimental-json-modules index.js`と実行します。\nちなみに`--experimental-wasm-modules`というオプションで`wasm`も読み込めます。\n\n### 対象のバージョン以外でやる方法\n1. JSONを読み込み自力でパースする\n```js\nimport { readFile } from 'fs/promises';\nconst json = JSON.parse(\n  await readFile(\n    new URL('./some-file.json', import.meta.url)\n  )\n);\n```\n2. [createRequire](https://nodejs.org/api/module.html#module_module_createrequire_filename)を使う\n```js\nimport { createRequire } from \"module\";\nconst require = createRequire(import.meta.url);\nconst data = require(\"./data.json\");\n```\n\n\n### 参考\n本記事のソースコードおよび内容は以下のリンク先から引用しています。\n- [How to import JSON files in ES modules (Node.js)](https://www.stefanjudis.com/snippets/how-to-import-json-files-in-es-modules-node-js/)\n"},{"slug":"notion-for-putting-textfile","frontmatter":{"title":"Notionにテキストファイルを置くときはサブページとしてインポートしましょう","description":"個人的なNotionの使い方備忘録です。","date":"2022-02-16","tag":["Notion"]},"content":"\n### 結論\nNotionにテキストファイルを直接アップロードすると、amazon S3 上にアップロード(\u0026S3へのリンクが生成)され、文字化けしてしまう。（us-west-2リージョンにアップロードされてた）\n\n![文字化けした様子](https://i.gyazo.com/01b1e2fad8348309ba8ce00a0adbdeb1.png)\n\nドラッグ\u0026ドロップでテキストファイルのアップロードをいますぐやめて、サブページ作成後に`Text\u0026Markdown`のインポートをして取り込もう。\n![NotionへImport](https://i.gyazo.com/06904fb5cdea05b0bd13fb572b262bba.png)\n\n\n### 背景\nNotionを使いこなしてるとは言いづらい私ですが、私のNotionの数少ない活躍する機会の一つが、転職活動時に使う[ボードの機能](https://www.notion.so/ja-jp/help/boards)です。\n\n![Notionのボード画像](https://i.gyazo.com/d00cadf7fdca1c09406d615bddef1d9b.png)\n\n\n申し込み、連絡待ち、結果待ちなどのステータスで管理しながら、メモ程度の企業研究や、面談・面接時のメモを書き込んだりしています。\n\nただ、普段はMac標準のテキストエディタで`.txt`や`.md`を書き殴るのが癖になっていました。\n\nこのファイルをそのままNotionにアップロードすると文字化けするので、インポート機能を使ってサブページとして取り込もうねというのが上でも述べた結論。\n\nそれでもNotionの書き味よりも、テキストエディタでマークダウンを書くほうが性に合っているし、急なオンラインミーティングでもサクッと開けるので、Mac標準のテキストエディタはまだしばらく使い続けると思う。\n\n\nそして極個人的な感想として「普段のメモスタイルという支流と、管理ツールという支流が交わったなぁ」という感想を持ちググったらそのまま`合流`という言葉がヒットして謎の感動をしました。\n\n\n\u003e 合流（ごうりゅう、英語：confluence）とは、地理学では二つ以上の水の流れが合わさることをいう。通常、支川がより大きな川に流れ込むことを指す。こうした地点は合流点と呼ばれる。\n\u003e wikipediaより引用\n\nどこぞのソフトウェアは合流の意味だったんですね。\n\n### 参考文献\n- [合流 - wikipedia](https://ja.wikipedia.org/wiki/%E6%B5%81%E8%B7%AF%E5%BD%A2%E7%8A%B6#:~:text=%E5%90%88%E6%B5%81%EF%BC%88%E3%81%94%E3%81%86%E3%82%8A%E3%82%85%E3%81%86%E3%80%81%E8%8B%B1%E8%AA%9E%EF%BC%9A,%E3%81%AF%E5%90%88%E6%B5%81%E7%82%B9%E3%81%A8%E5%91%BC%E3%81%B0%E3%82%8C%E3%82%8B%E3%80%82)"},{"slug":"notion-image-embed-like-md","frontmatter":{"title":"NotionでMarkdown記法的に画像を埋め込む（w/Gyazo）","date":"2022-01-23","tag":["Notion","misc"]},"content":"\n### 結論\n**画像ファイル自体のリンクをNotionに貼り付ける**\n\n![Notion埋め込み例](https://i.gyazo.com/7046c2a8fa7d00ff1cf6feb1503ce36c.png)\n\n### 前提\n私は画像を自身のブログに書くときなどにGyazo（スクリーショットの共有アプリ）を利用しています。\n\n手元のテキストファイル（マークダウンファイル）として残しておく際には、`![hoge](url)`の記法で十分なのですが、Notionアプリ上でこの記法を使ってもそのまま画像を表示してくれません。\n\nGyazoを知らない人向けのイメージ画像。Gyazoを使ってスクリーンショットを撮ると、自動的にGyazoのクラウドサーバー（GCPを利用しているらしい）にアップロードされ、公開される。\n![Gyazo画像](https://i.gyazo.com/34240519a32ac82716681aa70ef518fe.png)\n\n\n### 作業の流れの例\n\nGyazoを利用して取得できるURL例:\nhttps://gyazo.com/34240519a32ac82716681aa70ef518fe\n\n\nGyazoから自動的に与えられるURLをNotionに貼り付け(「Create bookmark」 「Create embed」を選択し)ても画像を綺麗に貼り付けられない。\n![失敗例](https://i.gyazo.com/2f272328bf161c206970d572583f7b50.png)\n↓\n![続・失敗例](https://i.gyazo.com/26e64715a416362727c04054857d25d8.png)\n\nGyazoを使って生成されるリンクは、余分なWebページ情報が多く含まれている。そのためURLを次のようにしてからNotionに貼り付ける。\n加工例（i.と拡張子.pngをつける）:\nhttps://`i.`gyazo.com/34240519a32ac82716681aa70ef518fe`.png`\n\n\nNotionに加工したURLを貼り付けると「Emged image」というオブションが選択できるので、選択すれば画像が埋め込まれる。\n![成功例](https://i.gyazo.com/ef946f57d0800ca06f337425f98ec6fe.png)\n\n\n"},{"slug":"novnc-kali-linux","frontmatter":{"title":"kali linuxでVNCサーバーにnovncで接続する","date":"2021-10-31","tag":["Linux"]},"content":"[公式](https://www.kali.org/docs/general-use/novnc-kali-in-browser/)にやり方も書いてあるがこの通りだとエラーが出た。\n\n`$ sudo apt install -y x11vnc`\n\n以下の部分をそのまま実行するとエラーが出る。\n$ x11vnc -display :0 -autoport -localhost -nopw -bg -xkb -ncache -ncache_cr-quiet -forever\n```bash\n31/10/2021 20:23:07 passing arg to libvncserver: -ncache_cr-quiet\n31/10/2021 20:23:07 x11vnc version: 0.9.16 lastmod: 2019-01-05  pid: 2173\n31/10/2021 20:23:07 Using X display :0\n31/10/2021 20:23:07 rootwin: 0x764 reswin: 0x3800001 dpy: 0x1dc24970\n31/10/2021 20:23:07 \n31/10/2021 20:23:07 ------------------ USEFUL INFORMATION ------------------\n31/10/2021 20:23:07 X DAMAGE available on display, using it for polling hints.\n31/10/2021 20:23:07   To disable this behavior use: '-noxdamage'\n31/10/2021 20:23:07 \n31/10/2021 20:23:07   Most compositing window managers like 'compiz' or 'beryl'\n31/10/2021 20:23:07   cause X DAMAGE to fail, and so you may not see any screen\n31/10/2021 20:23:07   updates via VNC.  Either disable 'compiz' (recommended) or\n31/10/2021 20:23:07   supply the x11vnc '-noxdamage' command line option.\n31/10/2021 20:23:07 \n31/10/2021 20:23:07 Wireframing: -wireframe mode is in effect for window moves.\n31/10/2021 20:23:07   If this yields undesired behavior (poor response, painting\n31/10/2021 20:23:07   errors, etc) it may be disabled:\n31/10/2021 20:23:07    - use '-nowf' to disable wireframing completely.\n31/10/2021 20:23:07    - use '-nowcr' to disable the Copy Rectangle after the\n31/10/2021 20:23:07      moved window is released in the new position.\n31/10/2021 20:23:07   Also see the -help entry for tuning parameters.\n31/10/2021 20:23:07   You can press 3 Alt_L's (Left \"Alt\" key) in a row to \n31/10/2021 20:23:07   repaint the screen, also see the -fixscreen option for\n31/10/2021 20:23:07   periodic repaints.\n31/10/2021 20:23:07 \n31/10/2021 20:23:07 XFIXES available on display, resetting cursor mode\n31/10/2021 20:23:07   to: '-cursor most'.\n31/10/2021 20:23:07   to disable this behavior use: '-cursor arrow'\n31/10/2021 20:23:07   or '-noxfixes'.\n31/10/2021 20:23:07 using XFIXES for cursor drawing.\n31/10/2021 20:23:07 GrabServer control via XTEST.\n31/10/2021 20:23:07 \n31/10/2021 20:23:07 Scroll Detection: -scrollcopyrect mode is in effect to\n31/10/2021 20:23:07   use RECORD extension to try to detect scrolling windows\n31/10/2021 20:23:07   (induced by either user keystroke or mouse input).\n31/10/2021 20:23:07   If this yields undesired behavior (poor response, painting\n31/10/2021 20:23:07   errors, etc) it may be disabled via: '-noscr'\n31/10/2021 20:23:07   Also see the -help entry for tuning parameters.\n31/10/2021 20:23:07   You can press 3 Alt_L's (Left \"Alt\" key) in a row to \n31/10/2021 20:23:07   repaint the screen, also see the -fixscreen option for\n31/10/2021 20:23:07   periodic repaints.\n31/10/2021 20:23:07 \n31/10/2021 20:23:07 Client Side Caching: -ncache mode is in effect to provide\n31/10/2021 20:23:07   client-side pixel data caching.  This speeds up\n31/10/2021 20:23:07   iconifying/deiconifying windows, moving and raising\n31/10/2021 20:23:07   windows, and reposting menus.  In the simple CopyRect\n31/10/2021 20:23:07   encoding scheme used (no compression) a huge amount\n31/10/2021 20:23:07   of extra memory (20-100MB) is used on both the server and\n31/10/2021 20:23:07   client sides.  This mode works with any VNC viewer.\n31/10/2021 20:23:07   However, in most you can actually see the cached pixel\n31/10/2021 20:23:07   data by scrolling down, so you need to re-adjust its size.\n31/10/2021 20:23:07   See http://www.karlrunge.com/x11vnc/faq.html#faq-client-caching.\n31/10/2021 20:23:07   If this mode yields undesired behavior (poor response,\n31/10/2021 20:23:07   painting errors, etc) it may be disabled via: '-ncache 0'\n31/10/2021 20:23:07   You can press 3 Alt_L's (Left \"Alt\" key) in a row to \n31/10/2021 20:23:07   repaint the screen, also see the -fixscreen option for\n31/10/2021 20:23:07   periodic repaints.\n31/10/2021 20:23:07 X FBPM extension not supported.\n31/10/2021 20:23:07 X display is capable of DPMS.\n31/10/2021 20:23:07 --------------------------------------------------------\n31/10/2021 20:23:07 \n31/10/2021 20:23:07 Default visual ID: 0x21\n31/10/2021 20:23:07 Read initial data from X display into framebuffer.\n31/10/2021 20:23:07 initialize_screen: fb_depth/fb_bpp/fb_Bpl 24/32/7680\n31/10/2021 20:23:07 *** unrecognized option(s) ***\n31/10/2021 20:23:07     [1]  -ncache_cr-quiet\n31/10/2021 20:23:07 For a list of options run: x11vnc -opts\n31/10/2021 20:23:07 or for the full help: x11vnc -help\n31/10/2021 20:23:07 \n31/10/2021 20:23:07 Here is a list of removed or obsolete options:\n31/10/2021 20:23:07 \n31/10/2021 20:23:07 removed: -hints, -nohints\n31/10/2021 20:23:07 removed: -cursorposall\n31/10/2021 20:23:07 removed: -nofilexfer, now the default.\n31/10/2021 20:23:07 \n31/10/2021 20:23:07 renamed: -old_copytile, use -onetile\n31/10/2021 20:23:07 renamed: -mouse,   use -cursor\n31/10/2021 20:23:07 renamed: -mouseX,  use -cursor X\n31/10/2021 20:23:07 renamed: -X,       use -cursor X\n31/10/2021 20:23:07 renamed: -nomouse, use -nocursor\n31/10/2021 20:23:07 renamed: -old_pointer, use -pointer_mode 1\n```\n\nそのため以下のように実行\n$ x11vnc -display :0 -autoport -localhost -nopw -bg -xkb -ncache -forever\n\n\n起動確認\n\n`$ ss -antp | grep vnc`\n\n```bash\nLISTEN    0         32                127.0.0.1:5900            0.0.0.0:*        users:((\"x11vnc\",pid=8056,fd=8))\nLISTEN    0         32                    [::1]:5900               [::]:*        users:((\"x11vnc\",pid=8056,fd=9))\nkali@kali:~$\n```\n\n\n\n\nここでもエラーが出る。\n$ /usr/share/novnc/utils/launch.sh --listen 8081 --vnc localhost\n```bash\nWarning: could not find self.pem\nUsing installed websockify at /usr/bin/websockify\nStarting webserver and WebSockets proxy on port 8081\nUsage: \n    websockify [options] [source_addr:]source_port [target_addr:target_port]\n    websockify [options] [source_addr:]source_port -- WRAP_COMMAND_LINE\n\nwebsockify: error: Error parsing target\nFailed to start WebSockets proxy\n```\n[novnc公式のIssue](https://github.com/novnc/noVNC/issues/1443)でも似た症状が報告されてた。\n\n\n`$ cd ~`\n`$ git clone https://github.com/novnc/noVNC.git`\n`$ cd noVnc/utils/novnc_proxy --vnc localhost:5900`\n\n\n\nサーバー側の別のターミナルでsshを有効にする（？）\n`$ sudo systemctl enable ssh --now`\n\n\nクライアントのターミナルからポートフォワーディング。sshでログインした状態になればOK。\n`ssh kali@192.168.0.140 -L 6080:localhost:6080`\n\n\nクライアントのWebブラウザで以下のようにアクセスする。\nhttp://localhost:6080/vnc.html\n"},{"slug":"nuxt-auth","frontmatter":{"title":"Nuxt.jsのAuthモジュール(@nuxtjs/auth-next)をわからないなりにざっくり解説する","description":"SPA・SSRの認証ライブラリらしい動きに焦点を当てて説明をする","date":"2023-05-21","tag":["Nuxt.js","JavaScript","Vue"]},"content":"\n### TL;DR\n- CookieとBrowser Storage(Local Storage)を使ってる\n- Cookieが消失することを踏まえ、expires/max-ageは本来的な意味で使っていない\n\n### 時勢の愚痴\nNuxt3.5のリリースが発表された最近ですが、nuxt-communityで開発されているAuthモジュールがいまだに3系に対応できておらず、よくわからん会社がNextAuth(Authentication for Next.js)をラップして作ってるものがNuxt3系をサポートしているよ！なんてことをREADMEに書く始末。  \nそんなNuxtのAuthモジュールの、2系で動いてるものを見た時に理解した一部を説明します。\n\n### 本解説の前提\nローカルスキーマを拡張した[リフレッシュスキーマ](https://auth.nuxtjs.org/schemes/refresh)をもとに解説しています。  \n設定値の例としては以下です。\n```js\nauth: {\n    cookie: {\n      options: {\n        secure: true,\n        sameSite: 'lax',\n        maxAge: 60 * 60 * 24 * 90\n      }\n    },\n    strategies: {\n      local: {\n        scheme: 'refresh',\n        token: {\n          property: 'access_token',\n          maxAge: 60 * 60 * 24\n        },\n        refreshToken: {\n          property: 'refresh_token',\n          data: 'refresh_token',\n          maxAge: 60 * 60 * 24 * 30\n        },\n      }\n    }\n}\n```\n\n\n### @nuxtjs/auth-nextの仕組み\n認証に関わる情報が置かれる場所は主に以下の4つです。\n- Local State(ライブラリ定義)\n- Universal Storage(ライブラリ定義)\n- Cookie(Web標準)\n- Browser Storage(Local Storage)(Web標準)\n\nLocal Stateはローカルな変数やrefオブジェクトだと理解してもらうとして、CookieもBrowser Storageも情報の保存場所としては馴染み深いと思います。  \n残るUniversal Storageは、gitでいうところのstagingエリアで、Local Stateに値を入れることをgit commitだと考えると良いかもです。\n\n\u003cimg alt=\"手書き概要\" src=\"https://i.gyazo.com/6f4ce193bc7158ddbc396e3743ebe384.png\" height=\"250\"\u003e\n\nUniversal Storageの必要性がないかと思われるかもしれませんが、次のような用途があります。  \n\nWebサイトに初回のGETリクエストしたユーザーのブラウザに保存されてる認証情報から取り出せるのは基本的にCookieからのみです。  \nそのため、期限が切れておらず正しい認証情報であれば、SSRをするのに必要な認証情報をLocal Stateに保存すればSSRした結果をユーザーが受け取れてハッピーですが、認証情報が切れている場合は最後までSSRさせてあげることができません。そんな時に役立つのがUniversal StateとBrowser Storageです。  \n\n一般的にCookieよりもBrowser Storageに保存したデータの方が長くユーザーのブラウザ内で生き残ります。  \nそのため、`@nuxtjs/auth-next`では、Cookieに保存する項目(key)が以下のようになっています。\n- アクセストークン\n- リフレッシュトークン\n- アクセストークンの有効期限\n- リフレッシュトークンの有効期限\n\nCookieには`expires/Max-Age`という項目がありますが、`@nuxtjs/auth-next`においてはデフォルトで2週間となっており、ドキュメント内で説明される有効期限とは`別物`となっています。そのため、\n\u003e アクセストークンの有効期限のvalue \u003e `expires/Max-Age`\n\u003e\nといった状況が生まれます。こうなった場合に`@nuxtjs/auth-next`では特に設定をしなくても使用することになっているBrowser Storageに保存していたアクセストークンやリフレッシュトークンの値を取り出し、認証チャレンジに使用することになっています。\n\n\u003cimg alt=\"手書き概要2\" src=\"https://i.gyazo.com/5ab80a9ae3b8ce6e8375aff6015ef72f.jpg\" height=\"300\"\u003e\n\nここまで読んでくれた人には申し訳ありませんが、私の理解はここまでです。\n\n### CookieとBrowser Storageに分かれているメリット/デメリット\n- メリット\n  - Cookieのドメイン属性の変更をしてデプロイをしたとき、すでにユーザーが持ってるアクセストークン等が引き続き利用され、期限が切れたタイミングで新規Cookieに切り替わる\n- デメリット\n  - 複雑度が増す\n\n### Nuxt3サポートがされない理由の考察\nSPA/SSR/SSGモード、認証方式、fetchライブラリ、ストアなどの問題が一番絡み合い、当ライブラリとしても色々な認証方法をサポートしてきた歴史からも互換が切り切れず身動きが取れてない状態だと推測してます。  \n\n超雑にようやくすると、「自分でやってくれ」というコメントが好意的なリアクションが多く、受け入れられているようです。\n\u003e It would be best if you had released this with at least some basic necessity modules (like auth). There are lots of people using Nuxt. Not all will get understand this thing they will have to do it on their own. It's good that you released it but its also affects people with extra burdens. Keep this in mind.\n\u003e \n\u003e I am seeing many peoples not shifting to Nuxt 3 because of these basic things.\n\u003e\n\u003ePeople are just stuck in between because now you can't even install Nuxt 2 freshly. It throughs a Fatal error while running.\n\u003e\n\u003eAnyways, it's great to see you guys work so hard on so many things! I really appreciate your contributions to the world. No hard feelings! :)\n\u003e \u003ccite\u003e[Compatibility with Nuxt 3?\n#1805](https://github.com/nuxt-community/auth-module/issues/1805#issuecomment-1328877117)\u003c/cite\u003e\n\n### 参考文献\n- [GitHub - nuxt-community/auth-module: Zero-boilerplate authentication support for Nuxt.js!](https://github.com/nuxt-community/auth-module)\n"},{"slug":"prictical-vim-memo","frontmatter":{"title":"実践Vimを読んだ時のメモ","description":"ただのメモ","date":"2022-08-25","tag":["vim"]},"content":"本を読んだ時のメモ書きがいつもより出てしまったので。\n\n### これは実践vimを読んだ時のメモです\n\nexpressionレジスタ  \n`\u003cC-r\u003e=` でアクセス  \n1+1の実行結果(2)などが得られる。  \n\n`vit`  \n`\u003cscript\u003eDDG.Utils.WebVitals.reportWebVitals(DDG.pixel)\u003c/script\u003e`  \n\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\nbody\u003e.container {\n    background: none;\n    display: flex;\n    justify-content: space-between;\n    margin: 0 auto;\n    max-width: 1264px;\n    width: 100%;\n}\n\n.container {\n    flex: 1 0 auto;\n    margin: 0 auto;\n    position: relative;\n    text-align: left;\n    width: 100%;\n}\n\n| Left align | Right align | Center align | hoge |\n|:--------|:--------|:--------|:-------|\n| This    | This    | This    | hoge   |\n| column  | column  | column  | hoge   |\n| will    | will    | will    | hoge   |\n| be      | be      | be      | hoge   |\n| left    | right   | center  | hoge   |\n| aligned | aligned | aligned | hoge   |\n\n`q:` コマンドラインウィンドウ\nテキストのように編集ができる。`J`を使って2つのコマンドを1つにまとめるなどができる。  \nプロンプトから切り替えたい時は`\u003cC-f\u003e`で切り替えられる。  \n\n`%`は現在編集中のファイル名のエイリアス  \nバッファ内だと対となる対象へのジャンプ(モーション)  \nプロンプトの`:%s`はsubstituteコマンドじゃなかった？？  \n\n`:sh[ell]`コマンドが何故か使えず、`:terminal`コマンドなら使えた。  \n\n`\u003cC-z\u003e`実行中のvimをバックグラウンドにする。zshではfgコマンドでvimに戻ってこれる。  \n\n`read !{cmd}`コマンド実行結果をvim内に挿入できる  \n\n`q{register}`マクロ記録開始 =\u003e `q` マクロ記録停止  \n`@{register}` マクロ実行  \n`@@` 前回実行のマクロを実行  \n`:reg {register}` マクロ確認  \n\n`q/` コマンドライン履歴を表示する  \nノーマルモードの時の`*`でカーソル位置の単語(?)の検索  \n\n`C-w`s 水平分割  \n`C-w`v 垂直分割  \n\n### 置換コマンド\n\n:[range]s[ubstitute]/{pattern}/{string}/[flags]\n\nsコマンドのgフラグは現在行の意味でグローバルでしかない。  \nファイル全体を変更するならsコマンドの前に`%`をつける  \n\nレジスタの参照し  \n`:%s//\\=@0/g` 直前の検索パターンをヤンクレジスタの内容で置き換える  \n\n`g\u0026` = `:%s//~/\u0026`  \n\n### ファイルの補完\n\n`i_\u003cC-x\u003e\u003cC-f\u003e`  \nworkspace/liff-firebase/liff-app/functions/node_modules/\n\n### コンフィグ\n\n`:set spell` =\u003e `:set nospell`  \n`:set spell!` 設定値をトグル  \n`:set spell?` 現在の設定値を見る  \n`:set spell\u0026` 設定値をデフォルト値にする  \n\n`:setloacal tabstop=4` 現在のウィンドウとバッファに適用  \n`:bufdo setloacal tabstop=4` 既存のバッファに適用  \n`:windo setloacal tabstop=4` 全てのウィンドウに適用  \n"},{"slug":"prsim-codeblock-support","frontmatter":{"title":"忘れがちなPrismJSがサポートしている言語","description":"PrismJSでサポートされている","date":"2022-07-24","tag":["Prism","JavaScript","マークダウン"]},"content":"\n### PrismJSでサポートされている言語を抜粋\n`language-xxxx`の`xxxx`部分に当てはめればいいのがformatに書いてるやつ。\n\n使う機会がありそうで忘れがちなやつをまとめた。jsstacktraceなんてよく使う機会あるはずなのに存在を知らなかった.\n基本的には拡張子を指定すればいける。\n\n\n| lang | format |\n|:-----------|:------------|\n| CSV| csv|\n| Docker| docker|\n| JSON5| json5|\n| JSONP| jsonp|\n| JS stack trace| jsstacktrace|\n| JS Templates| js-templates|\n| JS Extras| js-extras|\n| Markdown| md|\n| React TSX| tsx|\n| React JSX| jsx|\n| JSDoc| jsdoc|\n| GraphQl| graphql|\n| Go module| go-mod|\n| Git| git|\n| ignore| ignore, gitignore, hgignore, npmignore|\n| Log file| log|\n| SQL| sql|\n\n### その他感想\nnginxやapplescriptなどもサポートされてるみたいで懐が深い。\n\n### 参考文献\n- [prism - Supported Laungages](https://prismjs.com/#supported-languages)"},{"slug":"push-and-test-with-github-actions","frontmatter":{"title":"GitHubにpushした時に特定コマンドの実行結果でマージ可否の設定","description":"GitHubでpushした時にマージ可否を設定する","date":"2022-09-11","tag":["GitHub","CI/CD"]},"content":"\n## 手順\n\nワークフローの設定（コード管理できるもの）とGitHubのUI上から設定するものに分けて考える\n\n### ワークフローの設定\n\n例として貼り付けますが、[ここ](https://docs.github.com/ja/actions/examples/using-scripts-to-test-your-code-on-a-runner)を参考にするなど自分の環境に合わせカスタマイズしてください。\n\n```yaml\nname: exec-tests\non:\n  push:\n\njobs:\n  status-check:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v3\n\n      - name: Use Node.js ${{ inputs.node-version }}\n        uses: actions/setup-node@v3\n        with:\n          node-version: '16.x'\n\n      - name: Get Cache Dependencies\n        uses: actions/cache@v3\n        with:\n          path: ~/.npm\n          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\n          restore-keys: |\n            ${{ runner.os }}-node-\n\n      - name: Install Dependencies\n        run: npm ci\n\n      - name: Create avif images dir\n        run: mkdir tmp\n\n      - name: Build\n        run: npm run build\n        env:\n          NODE_OPTIONS: '--max_old_space_size=4096'\n\n      - name: Check by linter\n        run: npm run lint\n\n      - name: Check by TypeScript Compiler\n        run: npm run typecheck\n\n      - name: Run Tests\n        run: npm run test\n\n```\n\n### リポジトリ(Web上から)の設定\n\n以下の画面から編集\n![create-protection](https://i.gyazo.com/b5ca6098ced1849a751945e9e45d2c62.png)\nmainブランチの保護をするため、「main」と入力。  \n「Require status checks to pass before merging」にチェックを入れ、検索窓から「status-check」を入力、選択。  \n![入力例1](https://i.gyazo.com/7e5c454ddc160cff2b14487e48a12504.png)\n\nここまで設定できると、以下のような画面で表示できる。\n![動作例1](https://i.gyazo.com/ccf3105509cc3d866b5cc6ca9cf26524.png)\n\nこの設定だと警告が出るがマージはぽちぽちとクリックすればできてしまうので、「Do not allow bypassing the above settings」の設定もしておく。\n![設定例2](https://i.gyazo.com/31b6721b6b8636087028d71c1f906445.png)\n\nこれでマージするにはコードの変更を余儀なくされる。\n![動作例2](https://i.gyazo.com/bf39f63f875bc6ca659adbaca36bc357.png)\n\n## 余談\n\n### 意図通りいかなかったこと\n\n`npm ci --ignore-scripts`コマンドを使って依存関係のインストールが爆速になるかと思ったら、ビルド時に画像フォーマットの変換に使っているsharpを対象に以下のエラーが出た。\n\n\u003e Error:  \n\u003e Something went wrong installing the \"sharp\" module\n\u003e Cannot find module '../build/Release/sharp-linux-x64.node'\n\u003e Require stack:\n\u003e   /home/runner/work/ikmnjrd.github.io/ikmnjrd.github.io/node_modules/sharp/lib/sharp.js\n\nそのため、`$ npm ci`とした。\n\n### 参考文献\n\n- [スクリプトを使ってランナーでコードをテストする - GitHub Docs](https://docs.github.com/ja/actions/examples/using-scripts-to-test-your-code-on-a-runner)\n"},{"slug":"react-webpack-skelton","frontmatter":{"title":"reactスケルトン的な","date":"2020-03-01","tag":["React"]},"content":"\n## リポジトリ\nhttps://github.com/ikmnjrd/react-webpack-skelton\n\n## 手順\n`# npm init -y`\n\n`# npm i -D webpack webpack-cli webpack-dev-server typescript ts-loader`\n\npackage.jsonに追記\n```json\n\"build\": \"webpack\",\n\"watch\": \"webpack -w\",\n\"start\": \"webpack serve\"\n```\n\n`# npm i -S react react-dom react-router-dom @types/react @types/react-dom @types/react-router-dom`\n\ntsconfig.json作成\n```json5\n{\n  \"compilerOptions\": {\n    \"sourceMap\": true,\n    // TSはECMAScript 5に変換\n    \"target\": \"ES5\",\n    // TSのモジュールはES Modulesとして出力\n    \"module\": \"ES2015\",\n    // JSXの書式を有効に設定\n    \"jsx\": \"react\",\n    \"moduleResolution\": \"node\",\n    \"lib\": [\n      \"ES2020\",\n      \"DOM\"\n    ]\n  }\n}\n```\n\n`webpack.config.js` を作成\n```js\nmodule.exports = {\n  // モード値を production に設定すると最適化された状態で、\n  // development に設定するとソースマップ有効でJSファイルが出力される\n  mode: \"development\",\n\n  // メインとなるJavaScriptファイル（エントリーポイント）\n  entry: \"./src/main.tsx\",\n  // ファイルの出力設定\n  output: {\n    //  出力ファイルのディレクトリ名\n    path: `${__dirname}/dist`,\n    // 出力ファイル名\n    filename: \"main.js\"\n  },\n  module: {\n    rules: [\n      {\n        // 拡張子 .ts もしくは .tsx の場合\n        test: /\\.tsx?$/,\n        // TypeScript をコンパイルする\n        use: \"ts-loader\"\n      }\n    ]\n  },\n  // import 文で .ts や .tsx ファイルを解決するため\n  resolve: {\n    extensions: [\".ts\", \".tsx\", \".js\", \".json\"]\n  },\n  // ES5(IE11等)向けの指定（webpack 5以上で必要）\n  target: [\"web\", \"es5\"],\n\n\t// ローカルサーバー（webpack-dev-server）\n  devServer: {\n\t\tcontentBase: `${__dirname}/dist`,\n    hotOnly: true,\n    port: 8080,\n    host: '0.0.0.0',\n  }\n};\n```\n\n`/src` 配下に  `main.tsx` を作成\n```jsx\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nconst App = () =\u003e {\n  return (\n      \u003cdiv\u003e\n        \u003ch1\u003eHello React!\u003c/h1\u003e\n      \u003c/div\u003e\n  );\n}\n\nReactDOM.render(\u003cApp/\u003e, document.querySelector('#app'));\n```\n\n\n\n`/dist` にindex.htmlを作成\n```html\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"UTF-8\" /\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /\u003e\n    \u003ctitle\u003emy-app\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cdiv id=\"app\"\u003e\u003c/div\u003e\n    \u003cscript src=\"main.js\"\u003e\u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n\nhttps://ics.media/entry/16329/\n\nhttps://newcss.net/\n"},{"slug":"run-aliases-commands-inside-vim","frontmatter":{"title":"vim内部(:r!)からエイリアスコマンドを利用する","description":"vim(nvim)からエイリアスコマンドを利用する","date":"2022-08-18","tag":["terminal","vim","zsh"]},"content":"\n### 結論\n`.zshenv`ならvim起動時にも読み込まれるので、エイリアスは`.zshenv`に記述する。\n`.config/nvim/init.nvim` に以下を記述\n```vim\nset shell=zsh\n```\n\n### 余談\nブログを書くときに\"yyyy-mm-dd\"という形でいつも日付を書いていた。  \nその時にvimから`date \"+%Y-%m-%d\"`と実行・挿入したかった。  \n毎回オプションを書くぐらいならalias(名前day)として登録したが、`:r! day`で挿入されなかった.  (エラー内容: シェルが値を返しました 127)  \n\n\n### 参考文献\n- [terminal vim not loading .zshrc](https://stackoverflow.com/questions/11415428/terminal-vim-not-loading-zshrc)\n"},{"slug":"safari-before-block","frontmatter":{"title":"疑似要素を使ったチェックボックスを書いた際にSafariで困ったこと","date":"2023-03-31","tag":["CSS","Safari"]},"content":"\nチェックボックスを少し洒落たデザインにする時、疑似要素の:beforeと:afterを使って実装すると思う。そんな時にsafariで困った時の備忘録。  \n\n### 実装の雰囲気\n```html\n\u003cdiv class=\"box\"\u003e\n  \u003cinput id=\"checkbox_1\" type=\"checkbox\" class=\"no-display\" /\u003e\n  \u003clabel for=\"checkbox_1\" class=\"designed\"\u003e\u003cspan\u003eテキスト\u003c/span\u003e\u003c/label\u003e\n\u003c/div\u003e\n```\n```css\n.box {\n  position: relative;\n}\n.no-display {\n  display: none;\n}\n.designed:before,\n.designed:after {\n  position: absolute;\n  content: \"\";\n  display: block;\n}\n.designed:before {\n  z-index: 1;\n  border-right: 2px solid #000;\n  border-bottom: 2px solid #000;\n  left: 7px;\n  width: 5px;\n  height: 8px;\n  top: 3px;\n  transform: rotate(45deg);\n  opacity: 0;\n}\n.designed:after {\n  content: \"\";\n  border: 1px solid #d3d5d5;\n  border-radius: 4px;\n  top: 0;\n  left: 0;\n  width: 18px;\n  height: 18px;\n  background-color: #fff;\n}\n.designed \u003e span {\n  margin-left: 24px;\n}\n.no-display:checked + .designed:before {\n  opacity: 1;\n}\n\n```\n\n### 問題の状態\n問題になった箇所がsafariで、`position: absolute`をしていしているにも関わらず、疑似要素が before - 要素 - afterの順を崩してくれない。  \nそのためbeforeとafterの要素を重ね合わせたいのに分離してしまっている。  \n\n- safariでのレンダリング結果\n![OSX-safari(16.0)でのレンダリング結果](https://i.gyazo.com/e63e9404ae95aa49af9b4616f9c4d15a.png)\n\n- Chrome等でのレンダリング結果\n![OSX-Braveでのレンダリング結果](https://i.gyazo.com/a4a4deec03d659f3a271762295f3c265.png)\n\n### 対策\n自分に何の理解が足りていないのかがいまいち判然としませんが、「span(非変形可能要素)にtransformが効かないようなものかな〜」と感じて、上記コードを次のようにすることで無理やり解決しました。\n\n\n```css\n.box {\n  position: relative;\n  display: flex;\n  justify-content: left;\n}\n```\n\n場当たり感が否めません。\n\n\n### 検証に使ったsandbox\nsafari用のものが見たいならsafariで開き、chrome用のものが見たいならchromeで開いてください。頭痛が痛い。  \n\u003ciframe src=\"https://codesandbox.io/embed/pedantic-nash-sr1d7v?fontsize=14\u0026hidenavigation=1\u0026theme=dark\"\n     style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"pedantic-nash-sr1d7v\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   \u003e\u003c/iframe\u003e"},{"slug":"ssh-keygen","frontmatter":{"title":"自分のsshキーの作り方メモ","description":"僕の疑問に追記する形で更新しています。","date":"2022-07-14","tag":["shell","私的メモ"]},"content":"### 手順\n`$ ssh-keygen -t ed25519`  \n鍵の名前の入力を求められるので`github`や`hoge`などサービス名を入れておく。  \nパスフレーズ（パスワード）はナシ。自分しか使わないマシン上で使う鍵なので。もしマシンの管理者が自分以外ならしっかり設定しておく。\n\n`$HOME/.ssh`内にssh-keygenで入力した名前(`hoge`)の秘密鍵と`hoge.pub`の公開鍵ができている\n`$ pbcopy \u003c ~/.ssh/hoge.pub`  \n\n### github\n```\n$ ssh -T github\nHi ikmnjrd! You've successfully authenticated, but GitHub does not provide shell access.\n```\n認証は通ってるがいざcloneをしようとしたら `Permission denied (publickey).` のエラー。\n```\n$ ssh -vT git@github.com\n```\nよくわからなかったが類似エラーを適当に検索したら~/.ssh/configのHostの値が原因っぽかった。\n```\n====変更前\nHost github\n====変更後\nHost github github.com\n```\n無事cloneできた。\n\n### 周辺用語\n- RSA\n- Ed25519\n- 楕円曲線暗号\n- エドワーズ曲線デジタル署名アルゴリズム\n\n\n### 参考文献\n- [SSH認証に最強の「Ed25519鍵」を使おう | LFI](https://linuxfan.info/ssh-ed25519)\n- [SSH 鍵 - ArchWiki](https://wiki.archlinux.jp/index.php/SSH_%E9%8D%B5)\n- [git clone したら、Permission denied (publickey).のエラー - Qiita](https://qiita.com/hatorijobs/items/92d8df363020a7f6d9fb)"},{"slug":"steam-lib32-vulkan-driver","frontmatter":{"title":"Steam(Linux)でWindows用ゲームが起動後即クラッシュした","date":"2024-04-09","tag":["Linux","EndeavourOS","Steam"]},"content":"\n### 状況\n[xz-utilsの件](https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27)で環境のチェックやアップデートなどを終えたタイミングでsteam(proton)で動かしてるwindows向けのゲームが起動後、画面も立ち上がらないままクラッシュしてしまうようになった。ちなみにタイトルはエルデンリングです。\n\n\n### 環境\n|               |                                   |\n|:--------------|:----------------------------------|\n| OS     　     | EndeavourOS Linux x86_64          |\n| WM            | i3                                |\n| CPU    　     | AMD Ryzen 7 7745HX (オンボード)   |\n| GPU           | ASUS Radeon RX 7600 OC  8GB       |\n\n\n\n### トラブルシューティング\nSteamのログの取り方は各ゲームの「管理」\u003e「プロパティ」\u003e「一般」\u003e「起動オプション」のテキストフォームに\n```\nPROTON_LOG=1 %command%\n```\nと入力する。そしてゲームを起動するとホームディレクトリにsteam-{game-id}.logファイルができる。\n\n```\n~~~~~~\n3600.766:012c:0190:trace:seh:NtGetContextThread 0xfffffffe: eax=000000e2 ebx=00000001 ecx=00000000 edx=00000000 esi=00000001 edi=0621f5a8\n3600.766:012c:0190:trace:seh:NtGetContextThread 0xfffffffe: ebp=0621f6b8 esp=0621f578 eip=7bf4c8ec cs=0023 ss=002b flags=00000246\n3600.766:012c:0190:trace:seh:NtGetContextThread 0xfffffffe: ds=002b es=002b fs=0063 gs=006b\n3600.766:012c:0148:trace:seh:handle_syscall_fault code=c0000005 flags=0 addr=0xeaf11209 ip=eaf11209\n3600.766:012c:0148:trace:seh:handle_syscall_fault  info[0]=00000000\n3600.766:012c:0148:trace:seh:handle_syscall_fault  info[1]=000000b0\n3600.766:012c:0148:trace:seh:handle_syscall_fault  eax=0000000a ebx=ed220538 ecx=03fbf595 edx=000000ac esi=00000000 edi=0000000a\n3600.766:012c:0148:trace:seh:handle_syscall_fault  ebp=eb89dec8 esp=028f7c90 cs=0023 ds=002b es=002b fs=0063 gs=006b flags=00010206\n3600.766:012c:0148:warn:seh:handle_syscall_fault backtrace: --- Exception 0xc0000005 at 0xeaf11209: /usr/lib/pressure-vessel/overrides/lib/i386-linux-gnu/vulkan/amdvlk32.so + 0x290d209.\n3600.766:012c:0148:trace:seh:handle_syscall_fault returning to user mode ip=7a1dba0a ret=c0000005\n3600.766:012c:0148:err:msvcrt:_wassert (L\"!status \u0026\u0026 \\\"vkCreateGraphicsPipelines\\\"\",L\"../src-wine/dlls/winevulkan/loader_thunks.c\",2934)\n3600.766:012c:0148:trace:seh:raise (22)\n3600.790:0030:0198:warn:threadname:NtSetInformationThread Thread renamed to L\"wine_threadpool_worker\"\n3600.790:0030:019c:warn:threadname:NtSetInformationThread Thread renamed to L\"wine_threadpool_worker\"\n3600.790:0030:01a0:warn:threadname:NtSetInformationThread Thread renamed to L\"wine_threadpool_worker\"\npid 122815 != 122814, skipping destruction (fork without exec?)\n```\n\nprotonのバージョンを古すぎるものにしなければ、いくら設定を変えて試してもこのようなログになった。\n\n\n### 対処方法\nログを自分なりに解釈すると、wineというwindowsアプリ互換を提供するアプリケーションのamdグラフィックス用のプログラムの部分が動いてなさそう。  \nなので、wine等を依存としてインストールしていたsteamを一旦依存とともにアンインストール\n```sh\n$ sudo pacman -Rs steam\n```\n\nそしてもう一度インストール\n```sh\n$ sudo pacman -S steam\n```\n![pacmanインストール](https://i.gyazo.com/d21c04fe1d4c66589b30bd9803dff017.png)\n\n前回まではデフォルトとされていたamdvlkとlib32-amdvlkをインストールしていたが、他のやつで自分の環境にあっていそうなvulkan-radeonとlib32-vulkan-radeonを選択してインストール。\n\nこれで無事起動できました。\n\n\n### 参考文献\n- [xz-utils backdoor situation (CVE-2024-3094)](https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27)\n- [Where does Steam Linux save its game crash logs? : r/linux_gaming](https://www.reddit.com/r/linux_gaming/comments/15c6t32/where_does_steam_linux_save_its_game_crash_logs/)\n- [Steam/トラブルシューティング - ArchWiki](https://wiki.archlinux.jp/index.php/Steam/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0)"},{"slug":"story-book-builder-vite","frontmatter":{"title":"storybook-builder-viteを使ってみる","date":"2022-01-09","tag":["storybook","Vite","OSS"]},"content":"\n\n使ってみたら使用感的にとてもよかった。\nただ、\n[Getting started with React, Vite and Storybook (on a new project)]((https://github.com/eirslett/storybook-builder-vite#getting-started-with-react-vite-and-storybook-on-a-new-project))の中で紹介されていた`@vitejs/app`がdeprecatedだったので、修正したものを紹介する。\n\n```bash\nnpm init vite@latest vite-react-app -- --template react-ts \u0026\u0026 cd vite-react-app\nnpm install # or yarn\nnpx sb@next init --builder storybook-builder-vite \u0026\u0026 npm run storybook\n```\n\n\n\n関係ないが、[viteの公式テンプレート集](https://github.com/vitejs/awesome-vite#templates)などもあるのでこれから参考にバイトライフをEnjoyしようと思います\n\n\n### 参考\n- [https://github.com/eirslett/storybook-builder-vite#getting-started-with-react-vite-and-storybook-on-a-new-project](https://github.com/eirslett/storybook-builder-vite#getting-started-with-react-vite-and-storybook-on-a-new-project)\n- [https://vitejs.dev/guide/#scaffolding-your-first-vite-project](https://vitejs.dev/guide/#scaffolding-your-first-vite-project)\n- [https://github.com/vitejs/awesome-vite#templates](https://github.com/vitejs/awesome-vite#templates)\n"},{"slug":"subpixel-rendering","frontmatter":{"title":"サブピクセルレンダリングってなんだ？","description":"transformを過剰にあてた結果、ぼやけて表示されるフォントに救いのてはあるのか？いや、ない。","date":"2023-05-25","tag":["HTML","CSS","デザイン"]},"content":"\n### 疑問に遭遇した状況\ncssでtransformを使ったスタイリングが、なぜかWindows環境だけで見受けられるぼやけるという報告を受けて、ぼやっと[キャンバスの最適化](https://developer.mozilla.org/ja/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas)のページを見ていると次のような記述がありました。\n\u003e キャンバスで整数以外の値を使用してオブジェクトを描画すると、サブピクセルレンダリングを実行します。\n\u003e \u003ccite\u003e出典: [浮動小数点数値の座標を避けて整数を使用](https://developer.mozilla.org/ja/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas#%E6%B5%AE%E5%8B%95%E5%B0%8F%E6%95%B0%E7%82%B9%E6%95%B0%E5%80%A4%E3%81%AE%E5%BA%A7%E6%A8%99%E3%82%92%E9%81%BF%E3%81%91%E3%81%A6%E6%95%B4%E6%95%B0%E3%82%92%E4%BD%BF%E7%94%A8)\u003c/cite\u003e\n\n### サブピクセルレンダリングとは\nwikipediaによると\n\u003e サブピクセルレンダリング(Subpixel rendering)とは、液晶・有機ELモニタ上のピクセルを構成する三原色の発光源を、仮想的にそれぞれ一つのピクセルとみなして横方向に三倍の解像度を得る技術のことである。 アンチエイリアスの一種。\n\u003e \u003ccite\u003e出典: [サブピクセルレンダリング - Wikipedia](https://ja.wikipedia.org/wiki/%E3%82%B5%E3%83%96%E3%83%94%E3%82%AF%E3%82%BB%E3%83%AB%E3%83%AC%E3%83%B3%E3%83%80%E3%83%AA%E3%83%B3%E3%82%B0)\u003c/cite\u003e\n\u003e\n\nアンチエイリアスといえば、斜めにギザギザしたものをできるだけ真っ直ぐ見せるための技術と理解してる。  \n各種ブラウザ（とOSが協調している）はデフォルトでアンチエイリアスが効いている。  \nそしてCSSではfont-smoothというプロパティがある。  \n```css\n.something {\n  -webkit-font-smoothing: antialiased; // auto | none | antialiased | subpixel-antialiased\n  -moz-osx-font-smoothing: grayscale; // auto | grayscale\n}\n```\n主にすでにかかったアンチエイリアスを効かせない方向に調整するためのもの。  \n要は綺麗に見せたい場合では、ブラウザとOSに任せるしかなく、transformを適用しすぎてジャギジャギのままになった箇所はtransformによるスタイリングをやめるほかないと思う。  \n試せていないが、遭遇したのは少数を含む指定だったので、transformを過剰に使ってもその指定が整数ならもしかするかもしれない（整数で済むような要件ならtransformを使っていない気がする）。\n\n直接この答えになるような記事等は見つけられていないがMDNには次のような記述もある\n\u003e CSS 座標変換は、 GPU を使用しますのでより高速です。もっともよいのは拡大縮小しないことですが、そうでなければ大きなキャンバスを縮小するよりも小さなキャンバスを拡大したほうが良好です。\n\u003e \u003ccite\u003e出典: [CSS 座標変換を使用してキャンバスを拡大縮小する](https://developer.mozilla.org/ja/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas#css_%E5%BA%A7%E6%A8%99%E5%A4%89%E6%8F%9B%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%82%AD%E3%83%A3%E3%83%B3%E3%83%90%E3%82%B9%E3%82%92%E6%8B%A1%E5%A4%A7%E7%B8%AE%E5%B0%8F%E3%81%99%E3%82%8B)\u003c/cite\u003e\n\ncanvasと同一視するのはどうかとも思うが、大きく離れてもいなさそうだと思う私でした。\n\n### 参考文献\n- [Webブラウザにおける文字のアンチエイリアスの現状の最適解 | dwango creators' blog（ドワンゴクリエイターズブログ）](http://creator.dwango.co.jp/14128.html)\n- [CSS 座標変換の使用 - CSS: カスケーディングスタイルシート | MDN](https://developer.mozilla.org/ja/docs/Web/CSS/CSS_Transforms/Using_CSS_transforms)\n- [font-smooth - CSS: カスケーディングスタイルシート | MDN](https://developer.mozilla.org/ja/docs/Web/CSS/font-smooth)"},{"slug":"summary-of-howto-receive-photos-data","frontmatter":{"title":"履歴書用の写真をデータで受け取る方法まとめ","date":"2022-01-31","tag":["misc"]},"content":"\n\n#### [証明写真ボックス](https://www.fujifilm.com/jp/ja/consumer/photoprinting/photo-box)\nおすすめ。富士フィルムがやっている証明写真機。\n\n写真機の中に入ると、「データと写真」「データのみ」「写真のみ」などから選択できる。値段は少しずつ違い、「データと写真」が1000円、「データのみ」が800円だったはず。\n\n会員登録や専用アプリのダウンロードなどの必要がない。\n撮影後に発行される受付番号とパスワードで半年間ダウンロード可。\n\n\n#### [証明写真機Ki-Re-i](https://www.dnpphoto.jp/products/kirei/with/)\n\n専用アプリのダウンロードが必要.\n「証明写真機Ki-Re-i Withスマホ」という機種でないとデータでの受け取りに対応してなくてややこしい。\n\n\n#### 地元の写真屋\n地元の写真屋を今まで使ってた。\n自分の顔がひん曲がってるせいで、もう少し顔傾けてなどの指示がよく出て面倒くさい。\nカメラマンの腕次第で写真の出来が変わる。\n\n値段は1500円くらいで高い。\nCD-ROMに焼いてくれるが処分に困る。\n"},{"slug":"svg-icon-distributing-sites","frontmatter":{"title":"SVGアイコンを配布しているWebサイト","date":"2022-01-11","tag":["misc"]},"content":"\n## **SVGとは**\nScalable Vector Graphics\n\n### SVGの網羅的な説明\n[https://www.webdesignleaves.com/pr/html/svg_basic.html](https://www.webdesignleaves.com/pr/html/svg_basic.html)\n\n### SVGのベストプラクティス的な説明\n[https://design.dena.com/engineering/svg-sprite](https://design.dena.com/engineering/svg-sprite)\n\n## **便利な素材**\n- [https://devicon.dev/](https://devicon.dev/)\n  - MITライセンス\n- [https://svgporn.com/](https://svgporn.com/)\n  - CC0 1.0 Universal\n- [https://fonts.google.com/icons?selected=Material+Icons](https://fonts.google.com/icons?selected=Material+Icons)\n  - APACHE LICENSE, VERSION 2.0\n"},{"slug":"swagger-ui-local-zubora","frontmatter":{"title":"ズボラにローカルでswagger-uiを使う","description":"ズボラにローカルでswagger-uiを使う","date":"2022-05-10","tag":["Swagger","OpenAPI"]},"content":"### きっかけと対象読者\nSwaggerことOpenAPI(以下、OAS)でドキュメントが書かれているが、特にそれが利用されているわけでもないプロジェクトに入ったばかりの頃（執筆している今）。\nフロントエンドを中心に新規実装を担当していたが、APIの完成待ちの部分が多く、フロント・バックエンドともに未着手のAPI仕様を作る仕事が回ってきた。\n手書きしてもいいが、どうせだったらOASの便利ツールにも手を出してみたくなったによるズボラ記事。\n似た境遇じゃなきゃ以下の手順は参考にならないと思う。\n\n### 手順\n#### swagger-ui側\n勝手にプロジェクトのリポジトリにインストールしたくないので、[git clone](https://github.com/swagger-api/swagger-ui)して使う。\n`$ git clone git@github.com:swagger-api/swagger-ui.git \u0026\u0026 cd swagger-ui`\n`$ cd swagger-ui`\n`$ npm run dev`\n\nlocalhost:3200でswagger-uiが起動するので開く\n\n#### OASドキュメント側\n`$ npm install -g http-server`\n`$ cd {your-oas-document-dir}`\n`$ http-server --cors`\n\nlocalhost:8080でサーバー起動\n\n![画面例](https://i.gyazo.com/5c53a9d6be78fafb5f4fda86a8d7d981.png)\n\nテキストボックスに`http://localhost:8080/your-oas.json`などと入れてExploreボタンを押す。\n\n### その他\nswagger-ui起動時にはデフォルトで `https://petstore.swagger.io/v2/swagger.json`に接続される。\n\n`swagger-ui/dev-helpers/dev-helper-initializer.js`に設定があったりするので、いじれる。ここらへんはしっかりと公式ドキュメントに書かれているのでぜひ見てみてください。\n```javascript\n// Build a system\n  const ui = SwaggerUIBundle({\n    url: \"your-oas-file\",\n    dom_id: \"#swagger-ui\",\n    presets: [\n      SwaggerUIBundle.presets.apis,\n      SwaggerUIStandalonePreset\n    ],\n    plugins: [\n      SwaggerUIBundle.plugins.DownloadUrl\n    ],\n    // requestSnippetsEnabled: true,\n    layout: \"StandaloneLayout\"\n  })\n```\n\n### 参考文献\n- [how to load local .json file? · Issue #1110 · swagger-api/swagger-ui](https://github.com/swagger-api/swagger-ui/issues/1110#issuecomment-155873088)\n- [治安のいいOpenAPIの開発環境を作る](https://tech.buysell-technologies.com/entry/2021/09/21/095238)\n- [npm - swagger-ui](https://www.npmjs.com/package/swagger-ui)\n- [swagger-ui/setting-up.md at master · swagger-api/swagger-ui](https://github.com/swagger-api/swagger-ui/blob/master/docs/development/setting-up.md)"},{"slug":"ts-jest-fail-because-import-global-jset","frontmatter":{"title":"Jest(ts-jest)で作ったはずのmockがundefinedになるエラー","description":"Jestで遭遇したエラー","date":"2022-09-19","tag":["Jest","TypeScript","JavaScript"]},"content":"### 結論\nts-jest?esmで書いてるから？とりあえずでimportするのやめよう。\n\n### 状況\nJestの右も左もわからないがfetcをmockしてゴニョゴニョしていた。  \n[公式の例](https://jestjs.io/docs/mock-function-api/#jestmockedsource)にもnode-fetchを使った例が載ってるぐらいなので、コピペして動かそうとしていたら問題発生。\n\n\n以下のエラーが発生した。\n```jsstacktrace\nTypeError: mockGetImageFromWeb.mockClear is not a function\n  23 |\n  24 |   afterEach(() =\u003e {\n\u003e 25 |     mockGetImageFromWeb.mockClear()\n     |                         ^\n  26 |   })\n  27 |   test('should be defined', () =\u003e {\n  28 |     expect(getImageFromWeb).toBeDefined()\n```\n\nコピペしたコードはこれ\n```js\nimport {expect, jest, test} from '@jest/globals';\nimport type {fetch} from 'node-fetch';\n\njest.mock('node-fetch');\n\nlet mockedFetch: jest.Mocked\u003ctypeof fetch\u003e;\n\nafterEach(() =\u003e {\n  mockedFetch.mockClear();\n});\n\ntest('makes correct call', () =\u003e {\n  mockedFetch = getMockedFetch();\n  // ...\n});\n\ntest('returns correct data', () =\u003e {\n  mockedFetch = getMockedFetch();\n  // ...\n});\n```\n\n\n### 対応\nコピペしてきたtestファイルで以下のインポート文を削除したら動いた。\n```js\nimport { expect, jest, test } from '@jest/globals'\n```\n\n### 参考文献\n- [Mock Functions · Jest](https://jestjs.io/docs/mock-function-api/#jestmockedsource)\n- [How To Mock Fetch in Jest | Leigh Halliday](https://www.leighhalliday.com/mock-fetch-jest)\n\n\n"},{"slug":"ts-strict-property-check","frontmatter":{"title":"TypeScriptでオブジェクトのプロパティをチェックしたい時の解決方法2選","description":"オブジェクトのプロパティを検査したい時の解決策を2つ紹介","date":"2023-05-26","tag":["TypeScript"]},"content":"\n### TL;DR\n個人的推しは2個目のこっち。\n```ts\ntype Impossible\u003cK extends keyof any\u003e = {\n  [P in K]: never;\n};\n\ntype NoExtraProperties\u003cT, U extends T = T\u003e = U \u0026 Impossible\u003cExclude\u003ckeyof U, keyof T\u003e\u003e;\n```\n\n### 解決したい事象\n次のようなコードはTypeScriptではエラーになりません。\n```ts\ninterface User {\n  name: string\n  email: string\n}\nconst user = {\n  name: 'John',\n  email: 'john@sample.example',\n  password: 'password'\n}\n\n// passwordは型定義にはない\nfunction checkUser(input: User): boolean {\n  return !!input.name \u0026\u0026 !!input.email\n}\ncheckUser(user)\n```\n\nこれでは必要のないpasswordというプロパティも取り回してしまい、不都合がある場合もあります。\n\n\n### 解決策\nstack overflowでは次の2019年に投稿された2つの解決策が支持を得ていました。\n\n#### 解決策1\n```ts\ntype StrictPropertyCheck\u003cT, TExpected, TError\u003e = Exclude\u003ckeyof T, keyof TExpected\u003e extends never ? {} : TError;\n```\nこれを先ほどの例に当てはめれると次のようになります。\n```ts\nfunction checkUser\u003cT extends User\u003e(\n  input: T \u0026 StrictPropertyCheck\u003cT, User, 'MyError'\u003e\n): boolean {\n  return !!input.name \u0026\u0026 !!input.email\n}\ncheckUser(user)\n```\n\n```jsstacktrace\n型 '{ name: string; email: string; password: string; }' の引数を型 '{ name: string; email: string; password: string; } \u0026 \"MyError\"' のパラメーターに割り当てることはできません。\n  型 '{ name: string; email: string; password: string; }' を型 '\"MyError\"' に割り当てることはできません。ts(2345)\n```\n\n\n#### 解決策2\n```ts\ntype Impossible\u003cK extends keyof any\u003e = {\n  [P in K]: never;\n};\n\ntype NoExtraProperties\u003cT, U extends T = T\u003e = U \u0026 Impossible\u003cExclude\u003ckeyof U, keyof T\u003e\u003e;\n```\n例は以下\n```ts\nfunction checkUser\u003cT extends User\u003e(input: NoExtraProperties\u003cUser, T\u003e): boolean {\n  return !!input.name \u0026\u0026 !!input.email\n}\ncheckUser(user)\n```\n```jsstacktrace\n型 '{ name: string; email: string; password: string; }' の引数を型 'NoExtraProperties\u003cUser, { name: string; email: string; password: string; }\u003e' のパラメーターに割り当てることはできません。\n  型 '{ name: string; email: string; password: string; }' を型 'Impossible\u003c\"password\"\u003e' に割り当てることはできません。\n    プロパティ 'password' の型に互換性がありません。\n      型 'string' を型 'never' に割り当てることはできません。ts(2345)\n```\nどのプロパティがエラーとなるのかがわかりやすい点と利用するときの記述の簡単さが推しポイントです。  \nその代わり、Impossibleの使い道が他に思いつかない点が少し気がかりです。  \nコチラの方が個人的には好みです。  \n\n\n### 参考文献\n- [Forcing excess-property checking on variable passed to TypeScript function - Stack Overflow](https://stackoverflow.com/questions/54775790/forcing-excess-property-checking-on-variable-passed-to-typescript-function)\n- [Is it possible to restrict TypeScript object to contain only properties defined by its class? - Stack Overflow](https://stackoverflow.com/questions/49580725/is-it-possible-to-restrict-typescript-object-to-contain-only-properties-defined)"},{"slug":"typescript-compile","frontmatter":{"title":"TypeScriptをネイティブコンパイルするって？","description":"僕の疑問に追記する形で更新しています。","date":"2021-12-26","tag":["TypeScript","Deno"]},"content":"\n### 疑問\ntypescriptをjavascriptを挟まずにネイティブコードにコンパイルするようなプロジェクトはないのか？\n\n### 自分なりの回答\nないよ。\n\nDenoがTypeScriptコードをサポートしているが、中ではコンパイラが一度JavaScriptに変換している。\n\nマイクロソフトがTypeScriptコンパイラAPIをwikiにしてくれている。\n[https://github.com/microsoft/TypeScript/wiki/Using-the-Compiler-API](https://github.com/microsoft/TypeScript/wiki/Using-the-Compiler-API)"},{"slug":"useful-tips-2022-1","frontmatter":{"title":"最近知ったTips","description":"2022年度に知ったTipsまとめその1","date":"2022-07-09","tag":["misc","shell","zsh","Webブラウザ"]},"content":"\n### 著者近況\n転職を経てシステム開発会社に入社して2ヶ月。知らないことばかりが頭上を飛び交うドタバタの中、合間を縫って引っ越しをした。少し新しい生活に慣れ始めた今日この頃。久々に自分の興味を昇華しようとGitHubで他人のdotfilesを覗いたりしている。なお当人はMacのデフォルトのterminalを使い続け、特に設定にこだわろうとしたことすらなかったところ。\n\n## Tips\n\n### Webブラウザを簡易的なメモ帳として使う\nアドレスバーに以下を入力しEnter\n`data:text/html, \u003chtml contenteditable\u003e`\n\nhtmlなのでstyleの指定やscriptタグも読み込める。\n`data:text/html, \u003chtml contenteditable style=\"font-style: italic;\"\u003e`\n\n### Zsh\n#### historyの検索\n`control + r` でhistoryからの検索\u0026実行ができる\n\n#### cd系\npushdとpopdとこれらを使うのに便利な設定\n```shell\n# This is in ~/.zshrc\nsetopt auto_pushd\nsetopt pushd_ignore_dups\n```\n\n#### history系\n```shell\n# This is in ~/.zshrc\nsetopt hist_ignore_dups\nsetopt share_history\nsetopt inc_append_history\n```\n\n#### Zshのオプションの一覧(Web）はここ\n[https://zsh.sourceforge.io/Doc/Release/Options-Index.html](https://zsh.sourceforge.io/Doc/Release/Options-Index.html)\n\n\n### Mac標準TerminalとiTerm2\n使ってて一番違うのが\"色\"という自分なりの結論。\n[pastel](https://github.com/sharkdp/pastel)をbrew installして使ってみるのが体感しやすかった。\n今まで標準のTerminalを使っていたが、nvimを試している中でiTerm2に乗り換えることにした。\n\n\n### 周辺用語\n- true color \n- 16bit color \n- 24bit color\n\n### 参考文献\n- [ブラウザのタブがメモ帳になる技が便利　とっさに何かメモりたいときなどに](https://nlab.itmedia.co.jp/nl/articles/2207/06/news129.html)\n- [現役シリコンバレーエンジニアが教える NeoVim(VIM) + Tmux + Zsh 入門](https://www.udemy.com/course/vim-tmux-zsh/)"},{"slug":"v8engine-asm-show","frontmatter":{"title":"V8エンジン（JavaScript）が吐くアセンブリを見たい！","date":"2022-01-09","tag":["JavaScript","Node.js"]},"content":"\nアセンブリを読みたい願望がある。\nnodeでもV8エンジンの`--print-code`オプションが使える。\n```bash\n$ node --print-code sample.js\n$ d8 --print-code sample.js\n```\n\n実際に出力してみたけど、自分で書いたコード部分すら見つからず、わけわからんかった。\n（Raw Codeとして出力されると紹介されていたが、見当たらなかった。）\n\n\n### 参考\n- [v8でjsとwasmのアセンブリを取る方法](https://zenn.dev/umashiba/articles/d64fb62a09fb4f)\n- [GitHubの公式ミラーリポジトリ](https://github.com/v8/v8)\n- [公式Gitリポジトリ](https://chromium.googlesource.com/v8/v8.git)\n- [https://v8.dev/docs](https://v8.dev/docs)\n"},{"slug":"vim-redo-undo-list","frontmatter":{"title":"vimで繰り返しの操作とその対となる操作","description":"vimで繰り返しの操作とその対となる操作","date":"2022-08-20","tag":["vim"]},"content":"\n\n### 繰り返しが可能な操作と対になる操作\n\n| 実施項目 | 操作 | 繰り返す| 戻る| 戻るの取り消し(進む) |\n|:-----------|:------------|:------------|:------------|:------------|\n|変更する | {edit} | . | u | `\u003cC-r\u003e` |\n|行内で文字を前方検索|f{char}/t{char}|;|,||\n|行内で文字を後方検索|F{char}/T{char}|;|,||\n|ドキュメント内で文字を前方検索|/pattern`\u003cCR\u003e`|n|N||\n|ドキュメント内で文字を後方検索|?pattern`\u003cCR\u003e`|n|N||\n|置換の実行|:s/target/replacement|\u0026|u||\n|一連の変更を実行|qx{changes}q|@x|u||\n\n\n### 参考文献\n- [実践Vim 思考のスピードで編集しよう!](https://www.amazon.co.jp/%E5%AE%9F%E8%B7%B5Vim-%E6%80%9D%E8%80%83%E3%81%AE%E3%82%B9%E3%83%94%E3%83%BC%E3%83%89%E3%81%A7%E7%B7%A8%E9%9B%86%E3%81%97%E3%82%88%E3%81%86-Drew-Neil/dp/4048916599)\n"},{"slug":"vim-tmux-reference","frontmatter":{"title":"vim/tmuxを使うに当たって参考にしたサイトまとめ","description":"vimとtmuxを使うに当たって参考にしたサイトまとめ","date":"2022-08-20","tag":["tarminal","tmux","vim"]},"content":"\n## 参考サイトまとめ\n### vim関連\n- [how-to-yank-from-vim-to-system-clipboard](https://vi.stackexchange.com/questions/23130/how-to-yank-from-vim-to-system-clipboard)\n- [How to Undo Changes in Vim / Vi](https://phoenixnap.com/kb/vim-undo-redo)\n- [Neovimでのフロントエンド開発環境 2021](https://zenn.dev/yano/articles/vim_frontend_development_2021)\n- [新人達を1ヶ月でガチvimmerにした方法](https://qiita.com/nyantera/items/4bf29ca6f11bc797a9cb)\n- [vim バッファ入門](https://zenn.dev/sa2knight/articles/e0a1b2ee30e9ec22dea9)\n\n### tmux関連\n- [とほほのtmux入門](https://www.tohoho-web.com/ex/tmux.html)\n- [tmuxで快適にpane移動](https://qiita.com/pocari/items/b1828c8aea8e3545cadd)\n- [tmux select-layout](https://waylonwalker.com/tmux-select-layout/)\n  - main-verticalのvertical設定のバインド\n"},{"slug":"vscode-gistpad","frontmatter":{"title":"GistPadを使うなら設定しておきたいVSCodeの表示設定","description":"VSCodeのエクスプローラーのサイドバーに拡張機能の要素を表示する","date":"2023-05-03","tag":["VSCode","GitHub"]},"content":"\n### おすすめの設定(表示方法)\nVSCodeで一番開いているである`ファイルエクスプローラー`の画面。その下の部分（タイムライン等が表示されている箇所）にGistPadを表示する。  \n\n`アクティビティサイドバー`に表示されたGistPadのアイコンをドラッグし`サイドバー`にドロップすれば表示されます。  \n\nこの表示が気に入らなければ、`エクスプローラー`と書かれた右のば三点リーダーから解除できます。  \n![dot-ellipsis](https://i.gyazo.com/344c5efc3d00536d832df6bf8fd38ff4.png)\n\nちなみに自分は`アクティビティサイドバー`と`サイドバー`という用語も初めて意識した程度だったので、参考にしたサイトと図を紹介しておきます。\n\u003e ![vscode-screen-structure](https://image.itmedia.co.jp/ait/articles/2105/14/di-vscp0201.gif)\n\u003e \u003ccite\u003e引用元: [VS Codeでのファイルの作成と編集の第一歩：アクティビティーバーと［エクスプローラー］ビューを使ってみよう：Visual Studio Codeで快適Pythonライフ（1/2 ページ） - ＠IT](https://atmarkit.itmedia.co.jp/ait/articles/2105/14/news025.html)\u003c/cite\u003e\n\n### GistPadについての感想\n`cmd + P`での移動候補としても表示されてとてもいい感触です。\n\n### GistPadを知るきっかけになったTweet\n\n\u003cblockquote class=\"twitter-tweet\"\u003e\u003cp lang=\"ja\" dir=\"ltr\"\u003eGistPad - Visual Studio Marketplace VSCode の拡張として Gist と GitHub レポジトリをメモ帳代わりに使える仕組み少し使ってみた感想。\u003cbr\u003e\u003cbr\u003e1. 大変便利、拡張なのでどのリポジトリを開いていても共有のメモ帳として使える\u003cbr\u003e2. VSCode 拡張が適用されるので md や rst…\u003c/p\u003e\u0026mdash; V (@voluntas) \u003ca href=\"https://twitter.com/voluntas/status/1652150281298407424?ref_src=twsrc%5Etfw\"\u003eApril 29, 2023\u003c/a\u003e\u003c/blockquote\u003e \u003cscript async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"\u003e\u003c/script\u003e\n\n\n### 参考文献\n- [VS Codeでのファイルの作成と編集の第一歩：アクティビティーバーと［エクスプローラー］ビューを使ってみよう：Visual Studio Codeで快適Pythonライフ（1/2 ページ） - ＠IT](https://atmarkit.itmedia.co.jp/ait/articles/2105/14/news025.html)\n"},{"slug":"wasm-and-v8engine","frontmatter":{"title":"疑問メモ_WASMとV8エンジン","date":"2021-12-26","tag":["Webブラウザ"]},"content":"\n### 疑問\nWebブラウザではV8エンジンがJavaScriptを解釈・実行するのはわかったが、JavaScriptに埋め込まれたwasm（別言語・npm）で提供されている場合もV8エンジンが同一スレッド内でwasmを解釈・実行するの？\nV8がhidden classを作成して、、、\n\n### 参考文献\n- [https://postd.cc/how-javascript-works-inside-the-v8-engine-5-tips-on-how-to-write-optimized-code/](https://postd.cc/how-javascript-works-inside-the-v8-engine-5-tips-on-how-to-write-optimized-code/)\n"},{"slug":"webpack-buffer-on-nodejs","frontmatter":{"title":"WebpackでBuffer（Node.js）を使う","date":"2022-01-02","tag":["webpack","Node.js"]},"content":"\n駆け出しエンジニアのふわっとした理解を書く。\nNode.jsのコアモジュールであるBuffer()をフロント側で使いたいときがあるらしい。[参考の該当箇所](https://github.com/CyberAgentHack/web-speed-hackathon-2021/blob/135468cc9f69f6f27ba0bc9d3b74d60f1ebe3a40/client/src/components/foundation/CoveredImage/CoveredImage.jsx#L21-L23)（パフォーマンスチューニングを行う元して書かれたソースコードなので、ベストプラクティス的ではないのかもしれないが、初心者の私には判断つきません）\n```javascript\nconst imageSize = React.useMemo(() =\u003e {\n  return data !== null ? sizeOf(Buffer.from(data)) : null;\n}, [data]);\n```\n\n\n### 解決策\n解決策(といっても、元々のソースコードに書かれていたが)、下に記載する設定がないとブラウザから怒られてしまいます。\n```bash\nCoveredImage.jsx:22 Uncaught ReferenceError: Buffer is not defined\n```\n\n\n`webpack.config.js` に以下のように追記する。\n```javascript\nplugins: [\n    new webpack.ProvidePlugin({\n      Buffer: ['buffer', 'Buffer'],\n    }),\n]\n```\n\n\n\n### 参考文献\n- [https://github.com/diegomura/react-pdf/issues/1029](https://github.com/diegomura/react-pdf/issues/1029)\n- [https://github.com/CyberAgentHack/web-speed-hackathon-2021](https://github.com/CyberAgentHack/web-speed-hackathon-2021)\n- [https://webpack.js.org/plugins/provide-plugin/](https://webpack.js.org/plugins/provide-plugin/)\n"},{"slug":"what-csp-hash-directive","frontmatter":{"title":"疑問メモ_scriptタグのcsp-hashディレクティブについて","date":"2022-01-19","tag":["Webブラウザ"]},"content":"### 疑問に遭遇した状況\nネットサーフィンをしていて`\u003chead/\u003e`を覗いていた\n\n### 疑問\ncsp-hashディレクティブって何？なんのために使うの？\n\nどうもcspは Content-Security-Policy の略っぽい。\n```html\n\u003cscript csp-hash\u003e\n  if (/Mac OS X/.test(navigator.userAgent))document.documentElement.classList.add('apple')\n\u003c/script\u003e\n```\n\nこのブログがわかりやすかった気がしたが、わからなかった。[CSP(コンテンツセキュリティポリシー)について調べてみた - SSTエンジニアブログ](https://techblog.securesky-tech.com/entry/2020/05/21/)\n\n\n### 参考文献\n- [patterns.dev](https://www.patterns.dev/)\n- [CSP(コンテンツセキュリティポリシー)について調べてみた - SSTエンジニアブログ](https://techblog.securesky-tech.com/entry/2020/05/21/)\n"},{"slug":"whisper-exec","frontmatter":{"title":"音声認識モデルwhisperをインストールしてみた","description":"whisper from openai を使ってみた際のメモ","date":"2022-10-17","tag":["Python","音声認識","文字起こし"]},"content":"\n自分の環境のメモ的な意味合いが強いので、他のブログなどを参考にした方がいいです。  \n[音声認識モデルwhisperの全モデル文字起こし比較 - 毎日がEveryday、日々 Day by Day](https://ysdyt.hatenablog.jp/entry/whisper)  \n私は上のブログを見て使ってみようと思いました。\n\n## 環境\n| ソフト/ハード | バージョン |\n|--------------:|---------:|\n| iMac          | 27-inch, 2017     |\n| macOS         | 12.6     |\n| Python        | 3.9.6    |\n| pip           | 22.3     |\n\n普段pythonを使わない（言い訳）ので`% python3 hogehoge` `% pip3 hogehoge` とaliasすら貼ってない環境です。\n\n\n## 手順\nffmpegをインストール\n```sh\n% brew install ffmpeg\n```\n\nwhisperをインストール\n```sh\n% pip3 install git+https://github.com/openai/whisper.git\n```\n\nすると以下の警告が表示された。\n```sh-session\nInstalling collected packages: whisper\n  WARNING: The script whisper is installed in '/Users/ike/Library/Python/3.9/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\nSuccessfully installed whisper-1.0\n```\nPythonを日常使いすることないので、そうだったんだねー(どうやるのがスマートなんですか？)という気持ちで特にパスを通さず直接実行してみる。\n```sh\n% /Users/ike/Library/Python/3.9/bin/whisper /Users/ike/Downloads/recording.mp3 --language Japanese --model base\n```\nちなみに自分の環境ではコマンド実行時に以下の警告が出た。\n```sh-session\n UserWarning: FP16 is not supported on CPU; using FP32 instead\n  warnings.warn(\"FP16 is not supported on CPU; using FP32 instead\")\n```\n\n標準出力には以下のように出力される。\n```txt\n[00:00.000 --\u003e 00:12.320] テストですと 本日はウィスパーの 紹介をしたいと思います\n[00:12.320 --\u003e 00:19.280] (恥ずかしいので省略)\n[00:19.280 --\u003e 00:26.720] トコマンドラインから実行することが できます\n```\n\nさらに、以下のようなファイルがカレントディレクトリに作成される。  \nそれぞれ形式違うらしいが標準出力とほぼ同じテキストファイル。\n```sh\n-rw-r--r--    1 ike   staff    319 Oct 17 20:02 recording.mp3.srt\n-rw-r--r--    1 ike   staff    220 Oct 17 20:02 recording.mp3.txt\n-rw-r--r--    1 ike   staff    303 Oct 17 20:02 recording.mp3.vtt\n```\n\n## まとめ\n[GitHubのDiscussions](https://github.com/openai/whisper/discussions/categories/show-and-tell)内でwhisperを使ったツールなどが紹介されている。  \n中にはリアルタイム文字起こしなどもあって眼福。  \n個人的にはWeb会議を録音しておいて、議事録作成に役立てばすごく満足なので、一々上のコマンドを叩く使い方でしばらく使ってみようと思う。\n\n### 周辺用語\n- FP16\n- FP32\n\n\n### 参考文献\n- [音声認識モデルwhisperの全モデル文字起こし比較 - 毎日がEveryday、日々 Day by Day](https://ysdyt.hatenablog.jp/entry/whisper)\n- [openai/whisper: Robust Speech Recognition via Large-Scale Weak Supervision](https://github.com/openai/whisper)\n\n\n\n\n\n\n\n\n\n\n"}]},"__N_SSG":true},"page":"/tags","query":{},"buildId":"IwjVx_T2xqcGOq36Kyht8","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>