{"pageProps":{"frontmatter":{"title":"よく使うgcloudコマンド","description":"Google Cloud Platform（gcloud）の個人的によく使うコマンドを備忘録的にまとめています。","date":"2022-01-09","tag":["GCP"]},"slug":"gcp-gcloud-command-often-used","innerHtml":"<p>主にCloudRun周辺の。すごく個人的なまとめです。</p>\n<h2 id=\"%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89\" aria-hidden=\"true\">#</a> コマンド</h2>\n<h3 id=\"%E4%B8%80%E8%88%AC%E6%9E%A0\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E4%B8%80%E8%88%AC%E6%9E%A0\" aria-hidden=\"true\">#</a> 一般枠</h3>\n<ul>\n<li><code>gcloud --help</code></li>\n<li><code>gcloud config --help</code></li>\n<li><code>gcloud config configurations list</code></li>\n<li><code>gcloud config configurations create &lt;configuration-name&gt;</code></li>\n<li><code>gcloud config configurations activate &lt;configuration-name&gt;</code></li>\n<li><code>gcloud projects list</code></li>\n<li><code>gcloud config set project &lt;your-project-id&gt;</code></li>\n<li><code>gcloud config set project &lt;project-name&gt;</code></li>\n<li><code>gcloud projects create &lt;you-project-id&gt; --name &lt;your-project-name&gt;</code></li>\n</ul>\n<h3 id=\"cloud-build%E3%81%A8artifact-registry%E3%81%A8cloud-run\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#cloud-build%E3%81%A8artifact-registry%E3%81%A8cloud-run\" aria-hidden=\"true\">#</a> Cloud BuildとArtifact RegistryとCloud Run</h3>\n<ul>\n<li><code>gcloud services enable  artifactregistry.googleapis.com cloudbuild.googleapis.com</code></li>\n<li><code>gcloud artifacts repositories list</code></li>\n<li><code> gcloud artifacts repositories create &lt;repository-name&gt; --repository-format=docker --location=asia-northeast1 --description=&quot;Docker repository hoge&quot;</code></li>\n<li><code>gcloud builds submit --tag asia-northeast1-docker.pkg.dev/&lt;you-project-id&gt;/&lt;repository-name&gt;/&lt;image-name&gt;:tag1</code></li>\n<li><code>gcloud run deploy &lt;service-name&gt; --image asia-northeast1-docker.pkg.dev/&lt;you-project-id&gt;/&lt;repository-name&gt;/&lt;image-name&gt;:tag1 --region asia-northeast1 --platform managed --allow-unauthenticated</code></li>\n</ul>\n<h3 id=\"%E3%81%9D%E3%81%AE%E4%BB%96%E3%83%A1%E3%83%A2\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E3%81%9D%E3%81%AE%E4%BB%96%E3%83%A1%E3%83%A2\" aria-hidden=\"true\">#</a> その他メモ</h3>\n<ul>\n<li><code>gcloud builds submit</code>時にカレントディレクトリのDockerfileがアップロードされてビルドされるものだと思ってたけど、<a href=\"https://cloud.google.com/sdk/gcloud/reference/builds/submit\">公式ドキュメント</a>を見てもそうは書いてない？とりあえずカレントディレクトリの</li>\n<li>Cloud Runがデフォルトで外部接続に使うポートは8080ってまじ？</li>\n</ul>\n"},"__N_SSG":true}