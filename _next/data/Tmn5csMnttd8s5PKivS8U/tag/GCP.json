{"pageProps":{"tag":"GCP","posts":[{"slug":"よく使うgcloudコマンド","frontmatter":{"title":"よく使うgcloudコマンド","date":"2022-01-09","layout":"layouts/post.njk","scheduled":"2022-01-09","tag":["GCP"]},"content":"\n主にCloudRun周辺の。すごく個人的なまとめです。\n\n## コマンド\n### 一般枠\n- `gcloud --help`\n- `gcloud config --help`\n- `gcloud config configurations list`\n- `gcloud config configurations create <configuration-name>`\n- `gcloud config configurations activate <configuration-name>`\n- `gcloud projects list`\n- `gcloud config set project <your-project-id>`\n- `gcloud config set project <project-name>`\n- `gcloud projects create <you-project-id> --name <your-project-name>`\n\n\n### Cloud BuildとArtifact RegistryとCloud Run\n- `gcloud services enable  artifactregistry.googleapis.com cloudbuild.googleapis.com`\n- `gcloud artifacts repositories list`\n- ` gcloud artifacts repositories create <repository-name> --repository-format=docker --location=asia-northeast1 --description=\"Docker repository hoge\"`\n- `gcloud builds submit --tag asia-northeast1-docker.pkg.dev/<you-project-id>/<repository-name>/<image-name>:tag1`\n- `gcloud run deploy <service-name> --image asia-northeast1-docker.pkg.dev/<you-project-id>/<repository-name>/<image-name>:tag1 --region asia-northeast1 --platform managed --allow-unauthenticated`\n\n\n### その他メモ\n- `gcloud builds submit`時にカレントディレクトリのDockerfileがアップロードされてビルドされるものだと思ってたけど、[公式ドキュメント](https://cloud.google.com/sdk/gcloud/reference/builds/submit)を見てもそうは書いてない？とりあえずカレントディレクトリの\n- Cloud Runがデフォルトで外部接続に使うポートは8080ってまじ？\n\n"}]},"__N_SSG":true}