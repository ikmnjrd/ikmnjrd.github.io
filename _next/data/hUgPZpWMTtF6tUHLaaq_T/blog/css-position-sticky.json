{"pageProps":{"frontmatter":{"title":"フッター固定のCSSトリックから学ぶsticky","description":"最優のフッター固定CSSからposition=stickyを動かして理解する","date":"2024-06-16","tag":["HTML","CSS"]},"slug":"css-position-sticky","innerHtml":"<h2 id=\"sticky%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%83%95%E3%83%83%E3%82%BF%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A3%85\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#sticky%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%83%95%E3%83%83%E3%82%BF%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A3%85\" aria-hidden=\"true\">#</a> stickyを使ったフッターの実装</h2>\n<p>よく見る残念な実装に、コンテンツ量が少なくフッターが画面下に貼り付かないことがありますが、以下の例はコンテンツ量が少なくても大丈夫でこのコード量なので現時点でもっとも優れた実装だと思います。</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>\n      ここには色々。100vhを超えるものも入ったり。\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span><span class=\"token punctuation\">></span></span>\n      これはフッターです\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">body > footer</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> sticky<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span> // <span class=\"token property\">もしくはbottom</span><span class=\"token punctuation\">:</span> 0\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h2 id=\"sticky%E3%81%AE%E8%A7%A3%E8%AA%AC\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#sticky%E3%81%AE%E8%A7%A3%E8%AA%AC\" aria-hidden=\"true\">#</a> stickyの解説</h2>\n<p>そもそも、position: sticky とはMDNによれば</p>\n<blockquote>\n<p><code>sticky</code>\n要素は文書の通常のフローに従って配置され、直近のスクロールする祖先および包含ブロック（直近のブロックレベル祖先、表関連要素を含む）に対して top, right, bottom, left の値に基づいて相対配置されます。このオフセットは他の要素の配置には影響を与えません。\nこの値は、常に新しい重ね合わせコンテキストを生成します。なお粘着要素は、直近の祖先がスクロールしない場合でも、「スクロールの仕組み」を持つ直近の祖先（overflow が hidden, scroll, auto, overlay として作成されたもの）に「粘着」します。\n<cite>引用元: <a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/position#sticky\">position - CSS: カスケーディングスタイルシート | MDN</a></cite></p>\n</blockquote>\n<p>難しい言葉がでてきますが、私なりに簡単に要約するなら「スクロールの機能を持つ直近の包含ブロックにくっつく」ことだと言ってみます。</p>\n<p>包含ブロックというのは「widthやheightを%指定したとき、その元となる要素（ブロック）」という理解でまずは大丈夫です。詳しくはMDNの<a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/Containing_block#%E5%8C%85%E5%90%AB%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%81%AE%E8%AD%98%E5%88%A5\">こちら</a>のページで。</p>\n<h3 id=\"sticky%E3%81%AE%E7%90%86%E8%A7%A3%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%87%E3%83%A2\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#sticky%E3%81%AE%E7%90%86%E8%A7%A3%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%87%E3%83%A2\" aria-hidden=\"true\">#</a> stickyの理解のためのデモ</h3>\n<p><code>try-change-height</code>クラスのheight指定部分を色々と触ってみてください。</p>\n<iframe src=\"https://codesandbox.io/p/devbox/position-sticky-ycj8mq?file=%2Fstyles.css&embed=1\"\n     style=\"width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"position-sticky\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n<h3 id=\"%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" aria-hidden=\"true\">#</a> 参考文献</h3>\n<ul>\n<li><a href=\"https://coliss.com/articles/build-websites/operation/css/clever-sticky-footer-technique.html\">この実装方法は巧い！ コンテンツが少ない量でもフッタを一番下に配置するCSSのテクニック | コリス</a></li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/position#sticky\">position - CSS: カスケーディングスタイルシート | MDN</a></li>\n<li><a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/Containing_block#%E5%8C%85%E5%90%AB%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%81%AE%E8%AD%98%E5%88%A5\">レイアウトと包含ブロック - CSS: カスケーディングスタイルシート | MDN</a></li>\n</ul>\n","anchors":[{"text":"stickyを使ったフッターの実装","link":"sticky%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%83%95%E3%83%83%E3%82%BF%E3%83%BC%E3%81%AE%E5%AE%9F%E8%A3%85"},{"text":"stickyの解説","link":"sticky%E3%81%AE%E8%A7%A3%E8%AA%AC"},{"text":"stickyの理解のためのデモ","link":"sticky%E3%81%AE%E7%90%86%E8%A7%A3%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AE%E3%83%87%E3%83%A2"},{"text":"参考文献","link":"%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"}]},"__N_SSG":true}