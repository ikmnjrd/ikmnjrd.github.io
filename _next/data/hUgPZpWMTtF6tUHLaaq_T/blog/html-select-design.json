{"pageProps":{"frontmatter":{"title":"select要素をCSSでカスタマイズする際に気をつけるべきブラウザごとの差","description":"やっぱりsafariはおかしいね。select要素を少しカスタマイズしようとしたところにも地雷がある。","date":"2023-04-19","tag":["HTML","Webブラウザ","デザイン"]},"slug":"html-select-design","innerHtml":"<p>まずはこちらをご覧ください。毒々しいCSSが施されたselect要素です。\n<img src=\"/images/posts/html-select-design-0.avif\" alt=\"chrome-normal\"></p>\n<p>上の画像のようなちょっと変わったデザインのselect要素を作った時、ChromeやOperaではfocus状態の時は次のようになります。<br>\n<img src=\"/images/posts/html-select-design-1.avif\" alt=\"chrome-focus-default\"></p>\n<p>毒々しくしたいのですがデフォルトの青い枠線が中途半端にかかり、邪魔になっています。\nそんな時、borderとかなり似ている<a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/outline\">outline</a>というプロパティを使います。</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.poison-select:focus</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> 1px solid #ff0<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/* Chromeなどでのデフォルトの色味を設定したい場合は「-webkit-focus-ring-color」を設定する */</span>\n  <span class=\"token comment\">/* outline: 1px solid -webkit-focus-ring-color; */</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img src=\"/images/posts/html-select-design-2.avif\" alt=\"chrome-focus-custom\"></p>\n<p>いい感じにすることができました。<br>\nsafariでも見てみましょう。</p>\n<p><img src=\"/images/posts/html-select-design-3.avif\" alt=\"safari-focus-without-offset\"></p>\n<p>違和感がありますよね？<br>\n大きく2点で違いがあります。</p>\n<ul>\n<li>safariではselect要素の内側にfocus時の枠線ができる</li>\n<li>safariではoutline要素にradiusが効かない(※2023年3月27日リリースの<a href=\"https://webkit.org/blog/13966/webkit-features-in-safari-16-4/\">Safari V16.4</a>から解消)</li>\n</ul>\n<p>主に1点目の「select要素の内側にfocus時の枠線ができる」時の対策に<a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/outline-offset\">outline-offset</a>を明示的に設定(0pxで)してあげます。</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.poison-select:focus</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> 1px solid #ff0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">outline-offset</span><span class=\"token punctuation\">:</span> 0px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>すると綺麗になります。<br>\n<img src=\"/images/posts/html-select-design-4.avif\" alt=\"safari-focus-without-offset\"></p>\n<h3 id=\"reproduction\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#reproduction\" aria-hidden=\"true\">#</a> Reproduction</h3>\n<iframe src=\"https://codesandbox.io/embed/affectionate-surf-e2w97d?fontsize=14&hidenavigation=1&theme=dark\"\n     style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"affectionate-surf-e2w97d\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n<h3 id=\"%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" aria-hidden=\"true\">#</a> 参考文献</h3>\n<ul>\n<li><a href=\"https://dskd.jp/archives/73.html\">outlineプロパティで作った枠線は角丸にすることができない - dskd</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20609485/what-is-the-default-style-of-the-blue-focus-outline-in-chrome\">css - What is the default style of the blue focus outline in Chrome? - Stack Overflow</a></li>\n</ul>\n","anchors":[{"text":"reproduction","link":"reproduction"},{"text":"参考文献","link":"%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"}]},"__N_SSG":true}