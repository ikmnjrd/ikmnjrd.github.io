{"pageProps":{"frontmatter":{"title":"alacrittyでbeep音を鳴らす(Mac,Linux)","description":"alacrittyをLinuxで使うときに苦戦した","date":"2025-6-23","tag":["ターミナル","alacritty"]},"slug":"alacritty-beep","innerHtml":"<p>自分のLinux(X Window)環境ではハマったのでそれの紹介。Macでも設定したが得に難しいことはなかった。</p>\n<h3 id=\"%E5%89%8D%E6%8F%90\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E5%89%8D%E6%8F%90\" aria-hidden=\"true\">#</a> 前提</h3>\n<p>beepと度々出てくるがエイリアスでそれぞれの環境で次の設定を<code>.zshenv</code>にしている</p>\n<pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token comment\"># Mac</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">beep</span><span class=\"token operator\">=</span><span class=\"token string\">\"afplay /System/Library/Sounds/Submarine.aiff\"</span>\n\n<span class=\"token comment\"># Linux</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">beep</span><span class=\"token operator\">=</span><span class=\"token string\">\"paplay /usr/share/sounds/freedesktop/stereo/bell.oga\"</span>\n</code></pre>\n<h3 id=\"mac%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#mac%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A\" aria-hidden=\"true\">#</a> Macでの設定</h3>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>bell<span class=\"token punctuation\">]</span>\ncommand = <span class=\"token punctuation\">{</span> program = \"osascript\"<span class=\"token punctuation\">,</span> args = <span class=\"token punctuation\">[</span><span class=\"token string\">\"-e\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"beep\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n</code></pre>\n<h3 id=\"linux%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#linux%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A\" aria-hidden=\"true\">#</a> Linuxでの設定</h3>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>bell<span class=\"token punctuation\">]</span>\ncommand  = <span class=\"token punctuation\">{</span> program = \"/usr/local/bin/alacritty<span class=\"token punctuation\">-</span>bell\"<span class=\"token punctuation\">,</span> args = <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n</code></pre>\n<p>yamlに書いたスクリプトを自分で書いてインストール(以下の例では<code>/usr/local/bin/</code>にしているがお好きなところで。不要になったらrmでOK)</p>\n<pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token comment\"># /usr/local/bin/alacritty-bell</span>\n<span class=\"token comment\">#!/bin/sh</span>\n<span class=\"token comment\"># 最初の 2 つの引数 \"-e\" \"beep\" を捨てて残りを無視</span>\n<span class=\"token builtin class-name\">shift</span> <span class=\"token number\">2</span>\n<span class=\"token builtin class-name\">exec</span> paplay /usr/share/sounds/freedesktop/stereo/bell.oga\n</code></pre>\n<pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">sudo</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-m</span> <span class=\"token number\">755</span> alacritty-bell /usr/local/bin/alacritty-bell\n\n<span class=\"token comment\"># テストとして</span>\n<span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'\\a'</span>\n</code></pre>\n<h5 id=\"%E8%A8%AD%E5%AE%9A%E3%81%AE%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E8%A8%AD%E5%AE%9A%E3%81%AE%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\" aria-hidden=\"true\">#</a> 設定のポイント</h5>\n<p>以下のように設定しても実行時には鳴らない。</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>bell<span class=\"token punctuation\">]</span>\ncommand = <span class=\"token punctuation\">{</span> program = \"paplay\"<span class=\"token punctuation\">,</span> args = <span class=\"token punctuation\">[</span><span class=\"token string\">\"/usr/share/sounds/freedesktop/stereo/bell.oga\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n</code></pre>\n<p>alacrittyのログを<code>alacritty -vvv</code>で起動して<code>printf '\\a'</code>を実行してみると次のように、<code>-e beep</code>というオプションが追加されてしまっている。(今思ったがosascriptに渡したいargsをLinux環境でも渡されてることが原因?未検証です)</p>\n<pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token punctuation\">[</span><span class=\"token number\">75</span>.645577126s<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>DEBUG<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>alacritty<span class=\"token punctuation\">]</span> Launched paplay with args <span class=\"token punctuation\">[</span><span class=\"token string\">\"-e\"</span>, <span class=\"token string\">\"beep\"</span>, <span class=\"token string\">\"/usr/share/sounds/freedesktop/stereo/bell.oga\"</span><span class=\"token punctuation\">]</span>\n</code></pre>\n<h3 id=\"%E3%81%8A%E3%81%BE%E3%81%91\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E3%81%8A%E3%81%BE%E3%81%91\" aria-hidden=\"true\">#</a> おまけ</h3>\n<h4 id=\"tmux%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%95%E3%82%A3%E3%82%B0\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#tmux%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%95%E3%82%A3%E3%82%B0\" aria-hidden=\"true\">#</a> tmuxのコンフィグ</h4>\n<h3 id=\"%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" aria-hidden=\"true\">#</a> 参考文献</h3>\n<ul>\n<li><a href=\"https://github.com/alacritty/alacritty/issues/1528\">Add support for audio bell · Issue #1528 · alacritty/alacritty</a></li>\n<li><a href=\"https://chatgpt.com/c/68581981-a338-8013-b5fc-be3e617b8a53\">ChatGPTログ(非公開リンク)</a></li>\n</ul>\n","anchors":[{"text":"前提","link":"%E5%89%8D%E6%8F%90"},{"text":"macでの設定","link":"mac%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A"},{"text":"linuxでの設定","link":"linux%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A"},{"text":"設定のポイント","link":"%E8%A8%AD%E5%AE%9A%E3%81%AE%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88"},{"text":"おまけ","link":"%E3%81%8A%E3%81%BE%E3%81%91"},{"text":"tmuxのコンフィグ","link":"tmux%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%95%E3%82%A3%E3%82%B0"},{"text":"参考文献","link":"%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"}]},"__N_SSG":true}