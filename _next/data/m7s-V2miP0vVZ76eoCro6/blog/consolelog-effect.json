{"pageProps":{"frontmatter":{"title":"cosole.logをソースコードに残しておくことのメモリへの影響について","date":"2022-01-05","tag":["JavaScript","Webブラウザ"]},"slug":"consolelog-effect","innerHtml":"<h3 id=\"%E7%96%91%E5%95%8F\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E7%96%91%E5%95%8F\" aria-hidden=\"true\">#</a> 疑問</h3>\n<p>console.logの上書きで本番環境はデバッグメッセージを表示させないという技を知ったが、これがメモリに影響ないのかどうか知りたい。</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">log</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n</code></pre>\n<p>ちなみに最近ディベロッパーツールでメモリーのスナップショットを撮るという技を知った。</p>\n<p>Create React Appで適当に作ったプロジェクトで適当にconsole.logを出力してみた。\n<img src=\"/images/posts/consolelog-effect-0.avif\" alt=\"ソース\"></p>\n<p><code>console.log</code>の呼び出しを増やしてブラウザを更新-&gt;HEAP Snapshot取得すると<code>console.log</code>の呼び出し回数に応じてメモリ使用量が一見増えるように見えたが、しばらく放置して再びHEAP Snapshotを取得するとメモリ使用量が低水準にまで戻る。GCに回収されたのかな？と想像したが、よくわからない。\n<img src=\"/images/posts/consolelog-effect-1.avif\" alt=\"メモリ\"></p>\n<h3 id=\"%E7%B5%90%E8%AB%96\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E7%B5%90%E8%AB%96\" aria-hidden=\"true\">#</a> 結論</h3>\n<p>ほぼ影響はない</p>\n","createdAt":"2022-10-17","updatedAt":"2022-10-17"},"__N_SSG":true}