{"pageProps":{"tag":"OpenAPI","posts":[{"slug":"swagger-ui-local-zubora","frontmatter":{"title":"ズボラにローカルでswagger-uiを使う","description":"ズボラにローカルでswagger-uiを使う","date":"2022-05-10","tag":["Swagger","OpenAPI"]},"content":"### きっかけと対象読者\nSwaggerことOpenAPI(以下、OAS)でドキュメントが書かれているが、特にそれが利用されているわけでもないプロジェクトに入ったばかりの頃（執筆している今）。\nフロントエンドを中心に新規実装を担当していたが、APIの完成待ちの部分が多く、フロント・バックエンドともに未着手のAPI仕様を作る仕事が回ってきた。\n手書きしてもいいが、どうせだったらOASの便利ツールにも手を出してみたくなったによるズボラ記事。\n似た境遇じゃなきゃ以下の手順は参考にならないと思う。\n\n### 手順\n#### swagger-ui側\n勝手にプロジェクトのリポジトリにインストールしたくないので、[git clone](https://github.com/swagger-api/swagger-ui)して使う。\n`$ git clone git@github.com:swagger-api/swagger-ui.git && cd swagger-ui`\n`$ cd swagger-ui`\n`$ npm run dev`\n\nlocalhost:3200でswagger-uiが起動するので開く\n\n#### OASドキュメント側\n`$ npm install -g http-server`\n`$ cd {your-oas-document-dir}`\n`$ http-server --cors`\n\nlocalhost:8080でサーバー起動\n\n![画面例](https://i.gyazo.com/5c53a9d6be78fafb5f4fda86a8d7d981.png)\n\nテキストボックスに`http://localhost:8080/your-oas.json`などと入れてExploreボタンを押す。\n\n### その他\nswagger-ui起動時にはデフォルトで `https://petstore.swagger.io/v2/swagger.json`に接続される。\n\n`swagger-ui/dev-helpers/dev-helper-initializer.js`に設定があったりするので、いじれる。ここらへんはしっかりと公式ドキュメントに書かれているのでぜひ見てみてください。\n```javascript\n// Build a system\n  const ui = SwaggerUIBundle({\n    url: \"your-oas-file\",\n    dom_id: \"#swagger-ui\",\n    presets: [\n      SwaggerUIBundle.presets.apis,\n      SwaggerUIStandalonePreset\n    ],\n    plugins: [\n      SwaggerUIBundle.plugins.DownloadUrl\n    ],\n    // requestSnippetsEnabled: true,\n    layout: \"StandaloneLayout\"\n  })\n```\n\n### 参考文献\n- [how to load local .json file? · Issue #1110 · swagger-api/swagger-ui](https://github.com/swagger-api/swagger-ui/issues/1110#issuecomment-155873088)\n- [治安のいいOpenAPIの開発環境を作る](https://tech.buysell-technologies.com/entry/2021/09/21/095238)\n- [npm - swagger-ui](https://www.npmjs.com/package/swagger-ui)\n- [swagger-ui/setting-up.md at master · swagger-api/swagger-ui](https://github.com/swagger-api/swagger-ui/blob/master/docs/development/setting-up.md)"}]},"__N_SSG":true}