{"pageProps":{"frontmatter":{"title":"CommonJSでもスマートにfsモジュールを読み込む","date":"2022-02-03","tag":["JavaScript"]},"slug":"javascript-smartload-fs-module","innerHtml":"<h3 id=\"%E5%89%8D%E6%8F%90\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E5%89%8D%E6%8F%90\" aria-hidden=\"true\">#</a> 前提</h3>\n<p>Node.jsで開発するとき、<code>fs</code>はかなりよく使う。\nそして私はまだwebpackの呪縛から逃れられていないので、CommonJSで書きたい場面が多い。\nそして現在で使うときは大抵<code>Promise型</code>で使う。</p>\n<h3 id=\"%E7%B5%90%E8%AB%96\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E7%B5%90%E8%AB%96\" aria-hidden=\"true\">#</a> 結論</h3>\n<p>そんなときには次のように書くとスマート</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">promises</span><span class=\"token operator\">:</span> fs <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>こういう書き方でもいい。</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>promises<span class=\"token punctuation\">;</span>\n</code></pre>\n<h3 id=\"%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" aria-hidden=\"true\">#</a> 参考文献</h3>\n<ul>\n<li><a href=\"https://github.com/vercel/next.js/blob/canary/examples/blog/scripts/gen-rss.js\">https://github.com/vercel/next.js/blob/canary/examples/blog/scripts/gen-rss.js</a></li>\n<li><a href=\"https://tech.chakapoko.com/nodejs/file/promises.html\">[Node.js]fs.promises APIの使い方</a></li>\n</ul>\n","createdAt":"2022-12-08","updatedAt":"2022-12-08"},"__N_SSG":true}