{"pageProps":{"frontmatter":{"title":"contenteditable（HTML）とdataURIを使う際のTips","description":"オフライン環境でも使えるブラウザベースの簡易マークダウンエディタを作った時に知ったことのまとめ","date":"2022-08-11","tag":["HTML","JavaScript"]},"slug":"dataurl-markdown-contenteditable-tips","innerHtml":"<h2 id=\"%E6%A6%82%E8%A6%81\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E6%A6%82%E8%A6%81\" aria-hidden=\"true\">#</a> 概要</h2>\n<p><a href=\"https://github.com/ikmnjrd/browser-local-md-editor\">オフライン環境でも使えるブラウザベースの簡易マークダウンエディタ</a>を作成した際に知ったことなど、\n箇条書きな内容です。</p>\n<h2 id=\"tips\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#tips\" aria-hidden=\"true\">#</a> Tips</h2>\n<ul>\n<li><code>&lt;pre&gt;</code>と<code>&lt;div&gt;</code>の違い。contenteditable属性と合わせて使う場合、preは改行やスペースなど入力を入力したまま保持（入出力）してくれる が、divだと改行など特にエスケープされてしまうので、\ncontenteditableと使う場合はpreを使う方がベター</li>\n<li><code>&lt;head&gt;</code>に<code>&lt;style&gt;</code>タグでcssを書くとパースがシビアになりすぐ変な挙動になるので、個々のhtmlタグのstyle属性に直書きする。今回作成した簡易的なマークダウンエディタなど、\nhtmlが少ないなら有効。</li>\n<li>dataURIでhtml、特にマークダウン書式を書くならマークダウンんで多用する「#」をURLエンコードに合わせることを意識しておく。#は「%23」で表現される。</li>\n<li>tabキーなど、文字入力は色々気を使わなくちゃいけない。onkeydownで処理するよりonkeyupで処理した方が都合が良いことが多い。</li>\n<li>contenteditableなhtmlで参考にすべきはTwitter。Twitterすごい。</li>\n<li>dataURLではWebStorageが使えない。</li>\n<li>dataURLではlocationAPIが使えない(Not allowed to navigate top frame to data URL)</li>\n</ul>\n<h3 id=\"%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" aria-hidden=\"true\">#</a> 参考文献</h3>\n<ul>\n<li><a href=\"https://wisetut.com/how-to-add-new-line-in-markdown/\">How To Add New Line In Markdown? – WiseTut</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs\">Data URLs</a></li>\n<li><a href=\"https://qiita.com/hrdaya/items/6488d8dd3962cf35c0a0\">jQueryでIME入力確定時にイベントを発行する - Qiita</a></li>\n</ul>\n","createdAt":"2022-12-08","updatedAt":"2022-12-08"},"__N_SSG":true}